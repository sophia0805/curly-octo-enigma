/*! For license information please see main.b0cccac5.js.LICENSE.txt */
(()=>{"use strict";var e={219:(e,t,n)=>{var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},983:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},763:(e,t,n)=>{e.exports=n(983)},123:e=>{var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(a[c]=o[c]);if(t){s=t(o);for(var u=0;u<s.length;u++)r.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a}},730:(e,t,n)=>{var r=n(43),i=n(123),o=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,E=60106,k=60107,T=60108,I=60114,x=60109,C=60110,A=60112,R=60113,P=60120,N=60115,O=60116,D=60121,M=60128,L=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;S=U("react.element"),E=U("react.portal"),k=U("react.fragment"),T=U("react.strict_mode"),I=U("react.profiler"),x=U("react.provider"),C=U("react.context"),A=U("react.forward_ref"),R=U("react.suspense"),P=U("react.suspense_list"),N=U("react.memo"),O=U("react.lazy"),D=U("react.block"),U("react.scope"),M=U("react.opaque.id"),L=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(hr){var r=hr}Reflect.construct(e,[],t)}else{try{t.call()}catch(hr){r=hr}e.call(t.prototype)}else{try{throw Error()}catch(hr){r=hr}e()}}catch(hr){if(hr&&r&&"string"===typeof hr.stack){for(var i=hr.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function G(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case E:return"Portal";case I:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case N:return K(e.type);case D:return K(e._render);case O:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Gt){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge,ve=(ge=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Se(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ce=null,Ae=null;function Re(e){if(e=si(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=li(t),xe(e.stateNode,e.type,t))}}function Pe(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Ne(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var Le=Oe,Fe=!1,je=!1;function Ue(){null===Ce&&null===Ae||(Me(),Ne())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=li(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Be=!1;if(d)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ge){Be=!1}function qe(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var He=!1,We=null,Ge=!1,Ke=null,Qe={onError:function(e){He=!0,We=e}};function Ye(e,t,n,r,i,o,s,a,l){He=!1,We=null,qe.apply(Qe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(s(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,st=[],at=null,lt=null,ct=null,ut=new Map,dt=new Map,ht=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function gt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=si(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=oi(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=en(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=si(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(ot=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=si(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=en(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==at&&yt(at)&&(at=null),null!==lt&&yt(lt)&&(lt=null),null!==ct&&yt(ct)&&(ct=null),ut.forEach(bt),dt.forEach(bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function St(e){function t(t){return _t(t,e)}if(0<st.length){_t(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&_t(at,e),null!==lt&&_t(lt,e),null!==ct&&_t(ct,e),ut.forEach(t),dt.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)vt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},Tt={},It={};function xt(e){if(Tt[e])return Tt[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return Tt[e]=n[t];return e}d&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Ct=xt("animationend"),At=xt("animationiteration"),Rt=xt("animationstart"),Pt=xt("transitionend"),Nt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Nt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Ft(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var l=o&~s;0!==l?(r=Ft(l),i=Lt):0!==(a&=o)&&(r=Ft(a),i=Lt)}else 0!==(o=n&~s)?(r=Ft(o),i=Lt):0!==a&&(r=Ft(a),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&s)){if(Ft(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Kt|0)|0},Wt=Math.log,Kt=Math.LN2;var Qt=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,$t=!0;function Jt(e,t,n,r){Fe||Me();var i=Zt,o=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=o)||Ue()}}function Xt(e,t,n,r){Yt(Qt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<st.length&&-1<ft.indexOf(e))e=pt(null,e,t,n,r),st.push(e);else{var o=en(e,t,n,r);if(null===o)i&&mt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=pt(o,e,t,n,r),void st.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=gt(at,e,t,n,r,i),!0;case"dragenter":return lt=gt(lt,e,t,n,r,i),!0;case"mouseover":return ct=gt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ut.set(o,gt(ut.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,dt.set(o,gt(dt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;mt(e,r)}jr(e,t,r,null,n)}}}function en(e,t,n,r){var i=Ie(r);if(null!==(i=oi(i))){var o=$e(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Je(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return jr(e,t,r,i,n),null}var tn=null,nn=null,rn=null;function on(){if(rn)return rn;var e,t,n=nn,r=n.length,i="value"in tn?tn.value:tn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return rn=i.slice(e,1<t?1-t:void 0)}function sn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function ln(){return!1}function cn(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:ln,this.isPropagationStopped=ln,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var un,dn,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=cn(fn),mn=i({},fn,{view:0,detail:0}),gn=cn(mn),vn=i({},mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(un=e.screenX-hn.screenX,dn=e.screenY-hn.screenY):dn=un=0,hn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:dn}}),yn=cn(vn),bn=cn(i({},vn,{dataTransfer:0})),wn=cn(i({},mn,{relatedTarget:0})),_n=cn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),Sn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=cn(Sn),kn=cn(i({},fn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function An(){return Cn}var Rn=i({},mn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=sn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?sn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?sn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=cn(Rn),Nn=cn(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=cn(i({},mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Dn=cn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=cn(Mn),Fn=[9,13,27,32],jn=d&&"CompositionEvent"in window,Un=null;d&&"documentMode"in document&&(Un=document.documentMode);var Vn=d&&"TextEvent"in window&&!Un,Bn=d&&(!jn||Un&&8<Un&&11>=Un),zn=String.fromCharCode(32),qn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Yn(e,t,n,r){Pe(r),0<(t=Vr(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Jn=null;function Xn(e){Nr(e,0)}function Zn(e){if(J(ai(e)))return e}function er(e,t){if("change"===e)return t}var tr=!1;if(d){var nr;if(d){var rr="oninput"in document;if(!rr){var ir=document.createElement("div");ir.setAttribute("oninput","return;"),rr="function"===typeof ir.oninput}nr=rr}else nr=!1;tr=nr&&(!document.documentMode||9<document.documentMode)}function or(){$n&&($n.detachEvent("onpropertychange",sr),Jn=$n=null)}function sr(e){if("value"===e.propertyName&&Zn(Jn)){var t=[];if(Yn(t,Jn,e,Ie(e)),e=Xn,Fe)e(t);else{Fe=!0;try{Oe(e,t)}finally{Fe=!1,Ue()}}}}function ar(e,t,n){"focusin"===e?(or(),Jn=n,($n=t).attachEvent("onpropertychange",sr)):"focusout"===e&&or()}function lr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Jn)}function cr(e,t){if("click"===e)return Zn(t)}function ur(e,t){if("input"===e||"change"===e)return Zn(t)}var dr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},pr=Object.prototype.hasOwnProperty;function mr(e,t){if(dr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!pr.call(t,n[r])||!dr(e[n[r]],t[n[r]]))return!1;return!0}function gr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vr(e,t){var n,r=gr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gr(r)}}function yr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?yr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function br(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var _r=d&&"documentMode"in document&&11>=document.documentMode,Sr=null,Er=null,kr=null,Tr=!1;function Ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Tr||null==Sr||Sr!==X(r)||("selectionStart"in(r=Sr)&&wr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},kr&&mr(kr,r)||(kr=r,0<(r=Vr(Er,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sr)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Dt,2);for(var xr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<xr.length;Cr++)Ot.set(xr[Cr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Pr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Ye.apply(this,arguments),He){if(!He)throw Error(s(198));var u=We;He=!1,We=null,Ge||(Ge=!0,Ke=u)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Pr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Pr(i,a,c),o=l}}}if(Ge)throw e=Ke,Ge=!1,Ke=null,e}function Or(e,t){var n=ci(t),r=e+"__bubble";n.has(r)||(Fr(t,e,2,!1),n.add(r))}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){e[Dr]||(e[Dr]=!0,a.forEach((function(t){Rr.has(t)||Lr(t,!1,e,null),Lr(t,!0,e,null)})))}function Lr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Rr.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=ci(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Fr(o,e,i,t),s.add(a))}function Fr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Xt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=oi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{return Le(e,t,n)}finally{je=!1,Ue()}}((function(){var r=o,i=Ie(n),s=[];e:{var a=Nt.get(e);if(void 0!==a){var l=pn,c=e;switch(e){case"keypress":if(0===sn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=wn;break;case"focusout":c="blur",l=wn;break;case"beforeblur":case"afterblur":l=wn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Ct:case At:case Rt:l=_n;break;case Pt:l=Dn;break;case"scroll":l=gn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ve(p,h))&&u.push(Ur(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!oi(c)&&!c[ri])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?oi(c):null)&&(c!==(d=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=yn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:ai(l),f=null==c?a:ai(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,oi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Br(f))p++;for(f=0,m=h;m;m=Br(m))f++;for(;0<p-f;)u=Br(u),p--;for(;0<f-p;)h=Br(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Br(u),h=Br(h)}u=null}else u=null;null!==l&&zr(s,a,l,u,!1),null!==c&&null!==d&&zr(s,d,c,u,!0)}if("select"===(l=(a=r?ai(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=er;else if(Qn(a))if(tr)g=ur;else{g=lr;var v=ar}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=cr);switch(g&&(g=g(e,r))?Yn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ie(a,"number",a.value)),v=r?ai(r):window,e){case"focusin":(Qn(v)||"true"===v.contentEditable)&&(Sr=v,Er=r,kr=null);break;case"focusout":kr=Er=Sr=null;break;case"mousedown":Tr=!0;break;case"contextmenu":case"mouseup":case"dragend":Tr=!1,Ir(s,n,i);break;case"selectionchange":if(_r)break;case"keydown":case"keyup":Ir(s,n,i)}var y;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?Hn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(y=on()):(nn="value"in(tn=i)?tn.value:tn.textContent,Gn=!0)),0<(v=Vr(r,b)).length&&(b=new kn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Wn(n))&&(b.data=y))),(y=Vn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(qn=!0,zn);case"textInput":return(e=t.data)===zn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!jn&&Hn(e,t)?(e=on(),rn=nn=tn=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Nr(s,t)}))}function Ur(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ve(e,n))&&r.unshift(Ur(e,o,i)),null!=(o=Ve(e,t))&&r.push(Ur(e,o,i))),e=e.return}return r}function Br(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ve(n,o))&&s.unshift(Ur(n,l,a)):i||null!=(l=Ve(n,o))&&s.push(Ur(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function qr(){}var Hr=null,Wr=null;function Gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Qr="function"===typeof setTimeout?setTimeout:void 0,Yr="function"===typeof clearTimeout?clearTimeout:void 0;function $r(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Jr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Xr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Zr=0;var ei=Math.random().toString(36).slice(2),ti="__reactFiber$"+ei,ni="__reactProps$"+ei,ri="__reactContainer$"+ei,ii="__reactEvents$"+ei;function oi(e){var t=e[ti];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ri]||n[ti]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Xr(e);null!==e;){if(n=e[ti])return n;e=Xr(e)}return t}n=(e=n).parentNode}return null}function si(e){return!(e=e[ti]||e[ri])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ai(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function li(e){return e[ni]||null}function ci(e){var t=e[ii];return void 0===t&&(t=e[ii]=new Set),t}var ui=[],di=-1;function hi(e){return{current:e}}function fi(e){0>di||(e.current=ui[di],ui[di]=null,di--)}function pi(e,t){di++,ui[di]=e.current,e.current=t}var mi={},gi=hi(mi),vi=hi(!1),yi=mi;function bi(e,t){var n=e.type.contextTypes;if(!n)return mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function wi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _i(){fi(vi),fi(gi)}function Si(e,t,n){if(gi.current!==mi)throw Error(s(168));pi(gi,t),pi(vi,n)}function Ei(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,K(t)||"Unknown",o));return i({},n,r)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mi,yi=gi.current,pi(gi,e),pi(vi,vi.current),!0}function Ti(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ei(e,t,yi),r.__reactInternalMemoizedMergedChildContext=e,fi(vi),fi(gi),pi(gi,e)):fi(vi),pi(vi,n)}var Ii=null,xi=null,Ci=o.unstable_runWithPriority,Ai=o.unstable_scheduleCallback,Ri=o.unstable_cancelCallback,Pi=o.unstable_shouldYield,Ni=o.unstable_requestPaint,Oi=o.unstable_now,Di=o.unstable_getCurrentPriorityLevel,Mi=o.unstable_ImmediatePriority,Li=o.unstable_UserBlockingPriority,Fi=o.unstable_NormalPriority,ji=o.unstable_LowPriority,Ui=o.unstable_IdlePriority,Vi={},Bi=void 0!==Ni?Ni:function(){},zi=null,qi=null,Hi=!1,Wi=Oi(),Gi=1e4>Wi?Oi:function(){return Oi()-Wi};function Ki(){switch(Di()){case Mi:return 99;case Li:return 98;case Fi:return 97;case ji:return 96;case Ui:return 95;default:throw Error(s(332))}}function Qi(e){switch(e){case 99:return Mi;case 98:return Li;case 97:return Fi;case 96:return ji;case 95:return Ui;default:throw Error(s(332))}}function Yi(e,t){return e=Qi(e),Ci(e,t)}function $i(e,t,n){return e=Qi(e),Ai(e,t,n)}function Ji(){if(null!==qi){var e=qi;qi=null,Ri(e)}Xi()}function Xi(){if(!Hi&&null!==zi){Hi=!0;var e=0;try{var t=zi;Yi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zi=null}catch(n){throw null!==zi&&(zi=zi.slice(e+1)),Ai(Mi,Ji),n}finally{Hi=!1}}}var Zi=_.ReactCurrentBatchConfig;function eo(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var to=hi(null),no=null,ro=null,io=null;function oo(){io=ro=no=null}function so(e){var t=to.current;fi(to),e.type._context._currentValue=t}function ao(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function lo(e,t){no=e,io=ro=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Vs=!0),e.firstContext=null)}function co(e,t){if(io!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(io=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ro){if(null===no)throw Error(s(308));ro=t,no.dependencies={lanes:0,firstContext:t,responders:null}}else ro=ro.next=t;return e._currentValue}var uo=!1;function ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function po(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function go(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vo(e,t,n,r){var o=e.updateQueue;uo=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===a?s=u:a.next=u,a=c;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==a&&(null===h?d.firstBaseUpdate=u:h.next=u,d.lastBaseUpdate=c)}}if(null!==s){for(h=o.baseState,a=0,d=u=c=null;;){l=s.lane;var f=s.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(l=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,l);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=m.payload)?p.call(f,h,l):p)||void 0===l)break e;h=i({},h,l);break e;case 2:uo=!0}}null!==s.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[s]:l.push(s))}else f={eventTime:f,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(u=d=f,c=h):d=d.next=f,a|=l;if(null===(s=s.next)){if(null===(l=o.shared.pending))break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(c=h),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,Wa|=a,e.lanes=a,e.memoizedState=h}}function yo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var bo=(new r.Component).refs;function wo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var _o={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gl(),i=vl(e),o=po(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),mo(e,o),yl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gl(),i=vl(e),o=po(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),mo(e,o),yl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gl(),r=vl(e),i=po(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),mo(e,i),yl(e,r,n)}};function So(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!mr(n,r)||!mr(i,o))}function Eo(e,t,n){var r=!1,i=mi,o=t.contextType;return"object"===typeof o&&null!==o?o=co(o):(i=wi(t)?yi:gi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?bi(e,i):mi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=_o,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_o.enqueueReplaceState(t,t.state,null)}function To(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=bo,ho(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=co(o):(o=wi(t)?yi:gi.current,i.context=bi(e,o)),vo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(wo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&_o.enqueueReplaceState(i,i.state,null),vo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Io=Array.isArray;function xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===bo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Co(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ao(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=$l(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ec(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xo(e,t,n),r.return=e,r):((r=Jl(n.type,n.key,n.props,null,e.mode,r)).ref=xo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=tc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Xl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=ec(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Jl(t.type,t.key,t.props,null,e.mode,n)).ref=xo(e,null,t),n.return=e,n;case E:return(t=tc(t,e.mode,n)).return=e,t}if(Io(t)||z(t))return(t=Xl(t,e.mode,n,null)).return=e,t;Co(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===k?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null}if(Io(n)||z(n))return null!==i?null:d(e,t,n,r,null);Co(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===k?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Io(r)||z(r))return d(t,e=e.get(n)||null,r,i,null);Co(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),c}function g(i,a,l,c){var u=z(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,l){var c="object"===typeof o&&null!==o&&o.type===k&&null===o.key;c&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case S:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===k){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=xo(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===k?((r=Xl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Jl(o.type,o.key,o.props,null,e.mode,l)).ref=xo(e,r,o),l.return=e,e=l)}return a(e);case E:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=tc(o,e.mode,l)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=ec(o,e.mode,l)).return=e,e=r),a(e);if(Io(o))return m(e,r,o,l);if(z(o))return g(e,r,o,l);if(u&&Co(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,K(e.type)||"Component"))}return n(e,r)}}var Ro=Ao(!0),Po=Ao(!1),No={},Oo=hi(No),Do=hi(No),Mo=hi(No);function Lo(e){if(e===No)throw Error(s(174));return e}function Fo(e,t){switch(pi(Mo,t),pi(Do,e),pi(Oo,No),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}fi(Oo),pi(Oo,t)}function jo(){fi(Oo),fi(Do),fi(Mo)}function Uo(e){Lo(Mo.current);var t=Lo(Oo.current),n=pe(t,e.type);t!==n&&(pi(Do,e),pi(Oo,n))}function Vo(e){Do.current===e&&(fi(Oo),fi(Do))}var Bo=hi(0);function zo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qo=null,Ho=null,Wo=!1;function Go(e,t){var n=Ql(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ko(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Qo(e){if(Wo){var t=Ho;if(t){var n=t;if(!Ko(e,t)){if(!(t=Jr(n.nextSibling))||!Ko(e,t))return e.flags=-1025&e.flags|2,Wo=!1,void(qo=e);Go(qo,n)}qo=e,Ho=Jr(t.firstChild)}else e.flags=-1025&e.flags|2,Wo=!1,qo=e}}function Yo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;qo=e}function $o(e){if(e!==qo)return!1;if(!Wo)return Yo(e),Wo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Ho;t;)Go(e,t),t=Jr(t.nextSibling);if(Yo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ho=Jr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ho=null}}else Ho=qo?Jr(e.stateNode.nextSibling):null;return!0}function Jo(){Ho=qo=null,Wo=!1}var Xo=[];function Zo(){for(var e=0;e<Xo.length;e++)Xo[e]._workInProgressVersionPrimary=null;Xo.length=0}var es=_.ReactCurrentDispatcher,ts=_.ReactCurrentBatchConfig,ns=0,rs=null,is=null,os=null,ss=!1,as=!1;function ls(){throw Error(s(321))}function cs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dr(e[n],t[n]))return!1;return!0}function us(e,t,n,r,i,o){if(ns=o,rs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,es.current=null===e||null===e.memoizedState?Ls:Fs,e=n(r,i),as){o=0;do{if(as=!1,!(25>o))throw Error(s(301));o+=1,os=is=null,t.updateQueue=null,es.current=js,e=n(r,i)}while(as)}if(es.current=Ms,t=null!==is&&null!==is.next,ns=0,os=is=rs=null,ss=!1,t)throw Error(s(300));return e}function ds(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===os?rs.memoizedState=os=e:os=os.next=e,os}function hs(){if(null===is){var e=rs.alternate;e=null!==e?e.memoizedState:null}else e=is.next;var t=null===os?rs.memoizedState:os.next;if(null!==t)os=t,is=e;else{if(null===e)throw Error(s(310));e={memoizedState:(is=e).memoizedState,baseState:is.baseState,baseQueue:is.baseQueue,queue:is.queue,next:null},null===os?rs.memoizedState=os=e:os=os.next=e}return os}function fs(e,t){return"function"===typeof t?t(e):t}function ps(e){var t=hs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=is,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,c=i;do{var u=c.lane;if((ns&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=d,o=r):l=l.next=d,rs.lanes|=u,Wa|=u}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=a,dr(r,t.memoizedState)||(Vs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ms(e){var t=hs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);dr(o,t.memoizedState)||(Vs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function gs(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(ns&e)===e)&&(t._workInProgressVersionPrimary=r,Xo.push(t))),e)return n(t._source);throw Xo.push(t),Error(s(350))}function vs(e,t,n,r){var i=Fa;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=es.current,c=l.useState((function(){return gs(i,t,n)})),u=c[1],d=c[0];c=os;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,m=h.source;h=h.subscribe;var g=rs;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=o(t._source);if(!dr(a,e)){e=n(t._source),dr(d,e)||(u(e),e=vl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-Ht(s),c=1<<l;r[l]|=e,s&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=vl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(fr){n((function(){throw fr}))}}))}),[t,r]),dr(p,n)&&dr(m,t)&&dr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:fs,lastRenderedState:d}).dispatch=u=Ds.bind(null,rs,e),c.queue=e,c.baseQueue=null,d=gs(i,t,n),c.memoizedState=c.baseState=d),d}function ys(e,t,n){return vs(hs(),e,t,n)}function bs(e){var t=ds();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e}).dispatch=Ds.bind(null,rs,e),[t.memoizedState,e]}function ws(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=rs.updateQueue)?(t={lastEffect:null},rs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function _s(e){return e={current:e},ds().memoizedState=e}function Ss(){return hs().memoizedState}function Es(e,t,n,r){var i=ds();rs.flags|=e,i.memoizedState=ws(1|t,n,void 0,void 0===r?null:r)}function ks(e,t,n,r){var i=hs();r=void 0===r?null:r;var o=void 0;if(null!==is){var s=is.memoizedState;if(o=s.destroy,null!==r&&cs(r,s.deps))return void ws(t,n,o,r)}rs.flags|=e,i.memoizedState=ws(1|t,n,o,r)}function Ts(e,t){return Es(516,4,e,t)}function Is(e,t){return ks(516,4,e,t)}function xs(e,t){return ks(4,2,e,t)}function Cs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function As(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ks(4,2,Cs.bind(null,t,e),n)}function Rs(){}function Ps(e,t){var n=hs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&cs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ns(e,t){var n=hs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&cs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Os(e,t){var n=Ki();Yi(98>n?98:n,(function(){e(!0)})),Yi(97<n?97:n,(function(){var n=ts.transition;ts.transition=1;try{e(!1),t()}finally{ts.transition=n}}))}function Ds(e,t,n){var r=gl(),i=vl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===rs||null!==s&&s===rs)as=ss=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=s(a,n);if(o.eagerReducer=s,o.eagerState=l,dr(l,a))return}catch(c){}yl(e,i,r)}}var Ms={readContext:co,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useLayoutEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useMutableSource:ls,useOpaqueIdentifier:ls,unstable_isNewReconciler:!1},Ls={readContext:co,useCallback:function(e,t){return ds().memoizedState=[e,void 0===t?null:t],e},useContext:co,useEffect:Ts,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Es(4,2,Cs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Es(4,2,e,t)},useMemo:function(e,t){var n=ds();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ds();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ds.bind(null,rs,e),[r.memoizedState,e]},useRef:_s,useState:bs,useDebugValue:Rs,useDeferredValue:function(e){var t=bs(e),n=t[0],r=t[1];return Ts((function(){var t=ts.transition;ts.transition=1;try{r(e)}finally{ts.transition=t}}),[e]),n},useTransition:function(){var e=bs(!1),t=e[0];return _s(e=Os.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ds();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},vs(r,e,t,n)},useOpaqueIdentifier:function(){if(Wo){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Zr++).toString(36))),Error(s(355))})),n=bs(t)[1];return 0===(2&rs.mode)&&(rs.flags|=516,ws(5,(function(){n("r:"+(Zr++).toString(36))}),void 0,null)),t}return bs(t="r:"+(Zr++).toString(36)),t},unstable_isNewReconciler:!1},Fs={readContext:co,useCallback:Ps,useContext:co,useEffect:Is,useImperativeHandle:As,useLayoutEffect:xs,useMemo:Ns,useReducer:ps,useRef:Ss,useState:function(){return ps(fs)},useDebugValue:Rs,useDeferredValue:function(e){var t=ps(fs),n=t[0],r=t[1];return Is((function(){var t=ts.transition;ts.transition=1;try{r(e)}finally{ts.transition=t}}),[e]),n},useTransition:function(){var e=ps(fs)[0];return[Ss().current,e]},useMutableSource:ys,useOpaqueIdentifier:function(){return ps(fs)[0]},unstable_isNewReconciler:!1},js={readContext:co,useCallback:Ps,useContext:co,useEffect:Is,useImperativeHandle:As,useLayoutEffect:xs,useMemo:Ns,useReducer:ms,useRef:Ss,useState:function(){return ms(fs)},useDebugValue:Rs,useDeferredValue:function(e){var t=ms(fs),n=t[0],r=t[1];return Is((function(){var t=ts.transition;ts.transition=1;try{r(e)}finally{ts.transition=t}}),[e]),n},useTransition:function(){var e=ms(fs)[0];return[Ss().current,e]},useMutableSource:ys,useOpaqueIdentifier:function(){return ms(fs)[0]},unstable_isNewReconciler:!1},Us=_.ReactCurrentOwner,Vs=!1;function Bs(e,t,n,r){t.child=null===e?Po(t,null,n,r):Ro(t,e.child,n,r)}function zs(e,t,n,r,i){n=n.render;var o=t.ref;return lo(t,i),r=us(e,t,n,r,o,i),null===e||Vs?(t.flags|=1,Bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ca(e,t,i))}function qs(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!==typeof s||Yl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Jl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Hs(e,t,s,r,i,o))}return s=e.child,0===(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:mr)(i,r)&&e.ref===t.ref)?ca(e,t,o):(t.flags|=1,(e=$l(s,r)).ref=t.ref,e.return=t,t.child=e)}function Hs(e,t,n,r,i,o){if(null!==e&&mr(e.memoizedProps,r)&&e.ref===t.ref){if(Vs=!1,0===(o&i))return t.lanes=e.lanes,ca(e,t,o);0!==(16384&e.flags)&&(Vs=!0)}return Ks(e,t,n,r,o)}function Ws(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Il(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Il(t,e),null;t.memoizedState={baseLanes:0},Il(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Il(t,r);return Bs(e,t,i,n),t.child}function Gs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ks(e,t,n,r,i){var o=wi(n)?yi:gi.current;return o=bi(t,o),lo(t,i),n=us(e,t,n,r,o,i),null===e||Vs?(t.flags|=1,Bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ca(e,t,i))}function Qs(e,t,n,r,i){if(wi(n)){var o=!0;ki(t)}else o=!1;if(lo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Eo(t,n,r),To(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=co(c):c=bi(t,c=wi(n)?yi:gi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&ko(t,s,r,c),uo=!1;var h=t.memoizedState;s.state=h,vo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||vi.current||uo?("function"===typeof u&&(wo(t,n,u,r),l=t.memoizedState),(a=uo||So(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4)):("function"===typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,fo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:eo(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=co(l):l=bi(t,l=wi(n)?yi:gi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&ko(t,s,r,l),uo=!1,h=t.memoizedState,s.state=h,vo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||vi.current||uo?("function"===typeof f&&(wo(t,n,f,r),p=t.memoizedState),(c=uo||So(t,n,c,r,h,p,l))?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ys(e,t,n,r,o,i)}function Ys(e,t,n,r,i,o){Gs(e,t);var s=0!==(64&t.flags);if(!r&&!s)return i&&Ti(t,n,!1),ca(e,t,o);r=t.stateNode,Us.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Ro(t,e.child,null,o),t.child=Ro(t,null,a,o)):Bs(e,t,a,o),t.memoizedState=r.state,i&&Ti(t,n,!0),t.child}function $s(e){var t=e.stateNode;t.pendingContext?Si(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Si(0,t.context,!1),Fo(e,t.containerInfo)}var Js,Xs,Zs,ea,ta={dehydrated:null,retryLane:0};function na(e,t,n){var r,i=t.pendingProps,o=Bo.current,s=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),pi(Bo,1&o),null===e?(void 0!==i.fallback&&Qo(t),e=i.children,o=i.fallback,s?(e=ra(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ta,e):"number"===typeof i.unstable_expectedLoadTime?(e=ra(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ta,t.lanes=33554432,e):((n=Zl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=oa(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=ta,i):(n=ia(e,t,i.children,n),t.memoizedState=null,n))}function ra(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Zl(t,i,0,null),n=Xl(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ia(e,t,n,r){var i=e.child;return e=i.sibling,n=$l(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function oa(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0===(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=$l(s,a),null!==e?r=$l(e,r):(r=Xl(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function sa(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ao(e.return,t)}function aa(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function la(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Bs(e,t,r.children,n),0!==(2&(r=Bo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&sa(e,n);else if(19===e.tag)sa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pi(Bo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===zo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),aa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===zo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}aa(t,!0,n,null,o,t.lastEffect);break;case"together":aa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ca(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Wa|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=$l(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$l(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ua(e,t){if(!Wo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function da(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return wi(t.type)&&_i(),null;case 3:return jo(),fi(vi),fi(gi),Zo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||($o(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Xs(t),null;case 5:Vo(t);var o=Lo(Mo.current);if(n=t.type,null!==e&&null!=t.stateNode)Zs(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Lo(Oo.current),$o(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ti]=t,r[ni]=a,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<Ar.length;e++)Or(Ar[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,a),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Or("invalid",r);break;case"textarea":le(r,a),Or("invalid",r)}for(var c in ke(n,a),e=null,a)a.hasOwnProperty(c)&&(o=a[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Or("scroll",r));switch(n){case"input":$(r),re(r,a,!0);break;case"textarea":$(r),ue(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=qr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===de&&(e=fe(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[ti]=t,e[ni]=r,Js(e,t,!1,!1),t.stateNode=e,c=Te(n,r),n){case"dialog":Or("cancel",e),Or("close",e),o=r;break;case"iframe":case"object":case"embed":Or("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ar.length;o++)Or(Ar[o],e);o=r;break;case"source":Or("error",e),o=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),o=r;break;case"details":Or("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Or("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Or("invalid",e);break;case"textarea":le(e,r),o=ae(e,r),Or("invalid",e);break;default:o=r}ke(n,o);var u=o;for(a in u)if(u.hasOwnProperty(a)){var d=u[a];"style"===a?Se(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===a?"string"===typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"===typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Or("scroll",e):null!=d&&w(e,a,d,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=qr)}Gr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)ea(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=Lo(Mo.current),Lo(Oo.current),$o(t)?(r=t.stateNode,n=t.memoizedProps,r[ti]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ti]=t,t.stateNode=r)}return null;case 13:return fi(Bo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&$o(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Bo.current)?0===za&&(za=3):(0!==za&&3!==za||(za=4),null===Fa||0===(134217727&Wa)&&0===(134217727&Ga)||Sl(Fa,Ua))),(r||n)&&(t.flags|=4),null);case 4:return jo(),Xs(t),null===e&&Mr(t.stateNode.containerInfo),null;case 10:return so(t),null;case 19:if(fi(Bo),null===(r=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(c=r.rendering))if(a)ua(r,!1);else{if(0!==za||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=zo(e))){for(t.flags|=64,ua(r,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pi(Bo,1&Bo.current|2),t.child}e=e.sibling}null!==r.tail&&Gi()>$a&&(t.flags|=64,a=!0,ua(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=zo(c))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ua(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Wo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>$a&&1073741824!==n&&(t.flags|=64,a=!0,ua(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,t=Bo.current,pi(Bo,a?1&t|2:1&t),n):null;case 23:case 24:return xl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function ha(e){switch(e.tag){case 1:wi(e.type)&&_i();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(jo(),fi(vi),fi(gi),Zo(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Vo(e),null;case 13:return fi(Bo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return fi(Bo),null;case 4:return jo(),null;case 10:return so(e),null;case 23:case 24:return xl(),null;default:return null}}function fa(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function pa(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Js=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xs=function(){},Zs=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Lo(Oo.current);var s,a=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),a=[];break;case"option":o=oe(e,o),r=oe(e,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),r=ae(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=qr)}for(d in ke(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var c=o[d];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var u=r[d];if(c=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(null!=u||null!=c))if("style"===d)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(d,u)):"children"===d?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Or("scroll",e),a||c===u||(a=[])):"object"===typeof u&&null!==u&&u.$$typeof===M?u.toString():(a=a||[]).push(d,u))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},ea=function(e,t,n,r){n!==r&&(t.flags|=4)};var ma="function"===typeof WeakMap?WeakMap:Map;function ga(e,t,n){(n=po(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){el||(el=!0,tl=r),pa(0,t)},n}function va(e,t,n){(n=po(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return pa(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===nl?nl=new Set([this]):nl.add(this),pa(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ya="function"===typeof WeakSet?WeakSet:Set;function ba(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Hl(e,n)}else t.current=null}function wa(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:eo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&$r(t.stateNode.containerInfo))}throw Error(s(163))}function _a(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Bl(n,e),Vl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:eo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&yo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}yo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Gr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&St(n)))))}throw Error(s(163))}function Sa(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Ea(e,t){if(xi&&"function"===typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(Ii,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Bl(t,n);else{r=t;try{i()}catch(o){Hl(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ba(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Hl(t,o)}break;case 5:ba(t);break;case 4:Aa(e,t)}}function ka(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Ta(e){return 5===e.tag||3===e.tag||4===e.tag}function Ia(e){e:{for(var t=e.return;null!==t;){if(Ta(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ta(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xa(e,n,t):Ca(e,n,t)}function xa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=qr));else if(4!==r&&null!==(e=e.child))for(xa(e,t,n),e=e.sibling;null!==e;)xa(e,t,n),e=e.sibling}function Ca(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ca(e,t,n),e=e.sibling;null!==e;)Ca(e,t,n),e=e.sibling}function Aa(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,c=l;;)if(Ea(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(Ea(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ra(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[ni]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?Se(n,l):"dangerouslySetInnerHTML"===a?ve(n,l):"children"===a?ye(n,l):w(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?se(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,St(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ya=Gi(),Sa(t.child,!0)),void Pa(t);case 19:return void Pa(t);case 23:case 24:return void Sa(t,null!==t.memoizedState)}throw Error(s(163))}function Pa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ya),t.forEach((function(t){var r=Gl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Na(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Oa=Math.ceil,Da=_.ReactCurrentDispatcher,Ma=_.ReactCurrentOwner,La=0,Fa=null,ja=null,Ua=0,Va=0,Ba=hi(0),za=0,qa=null,Ha=0,Wa=0,Ga=0,Ka=0,Qa=null,Ya=0,$a=1/0;function Ja(){$a=Gi()+500}var Xa,Za=null,el=!1,tl=null,nl=null,rl=!1,il=null,ol=90,sl=[],al=[],ll=null,cl=0,ul=null,dl=-1,hl=0,fl=0,pl=null,ml=!1;function gl(){return 0!==(48&La)?Gi():-1!==dl?dl:dl=Gi()}function vl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===hl&&(hl=Ha),0!==Zi.transition){0!==fl&&(fl=null!==Qa?Qa.pendingLanes:0),e=hl;var t=4186112&~fl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&La)&&98===e?e=Vt(12,hl):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),hl),e}function yl(e,t,n){if(50<cl)throw cl=0,ul=null,Error(s(185));if(null===(e=bl(e,t)))return null;qt(e,t,n),e===Fa&&(Ga|=t,4===za&&Sl(e,Ua));var r=Ki();1===t?0!==(8&La)&&0===(48&La)?El(e):(wl(e,n),0===La&&(Ja(),Ji())):(0===(4&La)||98!==r&&99!==r||(null===ll?ll=new Set([e]):ll.add(e)),wl(e,n)),Qa=e}function bl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function wl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Ht(a),c=1<<l,u=o[l];if(-1===u){if(0===(c&r)||0!==(c&i)){u=t,Ft(c);var d=Lt;o[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);a&=~c}if(r=jt(e,e===Fa?Ua:0),t=Lt,0===r)null!==n&&(n!==Vi&&Ri(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Vi&&Ri(n)}15===t?(n=El.bind(null,e),null===zi?(zi=[n],qi=Ai(Mi,Xi)):zi.push(n),n=Vi):14===t?n=$i(99,El.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=$i(n,_l.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function _l(e){if(dl=-1,fl=hl=0,0!==(48&La))throw Error(s(327));var t=e.callbackNode;if(Ul()&&e.callbackNode!==t)return null;var n=jt(e,e===Fa?Ua:0);if(0===n)return null;var r=n,i=La;La|=16;var o=Rl();for(Fa===e&&Ua===r||(Ja(),Cl(e,r));;)try{Ol();break}catch(l){Al(e,l)}if(oo(),Da.current=o,La=i,null!==ja?r=0:(Fa=null,Ua=0,r=za),0!==(Ha&Ga))Cl(e,0);else if(0!==r){if(2===r&&(La|=64,e.hydrate&&(e.hydrate=!1,$r(e.containerInfo)),0!==(n=Ut(e))&&(r=Pl(e,n))),1===r)throw t=qa,Cl(e,0),Sl(e,n),wl(e,Gi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:Ll(e);break;case 3:if(Sl(e,n),(62914560&n)===n&&10<(r=Ya+500-Gi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){gl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Qr(Ll.bind(null,e),r);break}Ll(e);break;case 4:if(Sl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Ht(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Gi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Oa(n/1960))-n)){e.timeoutHandle=Qr(Ll.bind(null,e),n);break}Ll(e);break;default:throw Error(s(329))}}return wl(e,Gi()),e.callbackNode===t?_l.bind(null,e):null}function Sl(e,t){for(t&=~Ka,t&=~Ga,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function El(e){if(0!==(48&La))throw Error(s(327));if(Ul(),e===Fa&&0!==(e.expiredLanes&Ua)){var t=Ua,n=Pl(e,t);0!==(Ha&Ga)&&(n=Pl(e,t=jt(e,t)))}else n=Pl(e,t=jt(e,0));if(0!==e.tag&&2===n&&(La|=64,e.hydrate&&(e.hydrate=!1,$r(e.containerInfo)),0!==(t=Ut(e))&&(n=Pl(e,t))),1===n)throw n=qa,Cl(e,0),Sl(e,t),wl(e,Gi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ll(e),wl(e,Gi()),null}function kl(e,t){var n=La;La|=1;try{return e(t)}finally{0===(La=n)&&(Ja(),Ji())}}function Tl(e,t){var n=La;La&=-2,La|=8;try{return e(t)}finally{0===(La=n)&&(Ja(),Ji())}}function Il(e,t){pi(Ba,Va),Va|=t,Ha|=t}function xl(){Va=Ba.current,fi(Ba)}function Cl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Yr(n)),null!==ja)for(n=ja.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&_i();break;case 3:jo(),fi(vi),fi(gi),Zo();break;case 5:Vo(r);break;case 4:jo();break;case 13:case 19:fi(Bo);break;case 10:so(r);break;case 23:case 24:xl()}n=n.return}Fa=e,ja=$l(e.current,null),Ua=Va=Ha=t,za=0,qa=null,Ka=Ga=Wa=0}function Al(e,t){for(;;){var n=ja;try{if(oo(),es.current=Ms,ss){for(var r=rs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ss=!1}if(ns=0,os=is=rs=null,as=!1,Ma.current=null,null===n||null===n.return){za=1,qa=t,ja=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Ua,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var d=0!==(1&Bo.current),h=s;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=h.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var g=h.updateQueue;if(null===g){var v=new Set;v.add(c),h.updateQueue=v}else g.add(c);if(0===(2&h.mode)){if(h.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=po(-1,1);y.tag=2,mo(a,y)}a.lanes|=1;break e}l=void 0,a=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new ma,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(a)){l.add(a);var w=Wl.bind(null,o,c,a);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((K(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==za&&(za=2),l=fa(l,a),h=s;do{switch(h.tag){case 3:o=l,h.flags|=4096,t&=-t,h.lanes|=t,go(h,ga(0,o,t));break e;case 1:o=l;var _=h.type,S=h.stateNode;if(0===(64&h.flags)&&("function"===typeof _.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===nl||!nl.has(S)))){h.flags|=4096,t&=-t,h.lanes|=t,go(h,va(h,o,t));break e}}h=h.return}while(null!==h)}Ml(n)}catch(E){t=E,ja===n&&null!==n&&(ja=n=n.return);continue}break}}function Rl(){var e=Da.current;return Da.current=Ms,null===e?Ms:e}function Pl(e,t){var n=La;La|=16;var r=Rl();for(Fa===e&&Ua===t||Cl(e,t);;)try{Nl();break}catch(i){Al(e,i)}if(oo(),La=n,Da.current=r,null!==ja)throw Error(s(261));return Fa=null,Ua=0,za}function Nl(){for(;null!==ja;)Dl(ja)}function Ol(){for(;null!==ja&&!Pi();)Dl(ja)}function Dl(e){var t=Xa(e.alternate,e,Va);e.memoizedProps=e.pendingProps,null===t?Ml(e):ja=t,Ma.current=null}function Ml(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=da(n,t,Va)))return void(ja=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Va)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ha(t)))return n.flags&=2047,void(ja=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ja=t);ja=t=e}while(null!==t);0===za&&(za=5)}function Ll(e){var t=Ki();return Yi(99,Fl.bind(null,e,t)),null}function Fl(e,t){do{Ul()}while(null!==il);if(0!==(48&La))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-Ht(o),u=1<<c;i[c]=0,a[c]=-1,l[c]=-1,o&=~u}if(null!==ll&&0===(24&r)&&ll.has(e)&&ll.delete(e),e===Fa&&(ja=Fa=null,Ua=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=La,La|=32,Ma.current=null,Hr=$t,wr(a=br())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(I){l=null;break e}var d=0,h=-1,f=-1,p=0,m=0,g=a,v=null;t:for(;;){for(var y;g!==l||0!==o&&3!==g.nodeType||(h=d+o),g!==c||0!==u&&3!==g.nodeType||(f=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===a)break t;if(v===l&&++p===o&&(h=d),v===c&&++m===u&&(f=d),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}l=-1===h||-1===f?null:{start:h,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Wr={focusedElem:a,selectionRange:l},$t=!1,pl=null,ml=!1,Za=r;do{try{jl()}catch(I){if(null===Za)throw Error(s(330));Hl(Za,I),Za=Za.nextEffect}}while(null!==Za);pl=null,Za=r;do{try{for(a=e;null!==Za;){var b=Za.flags;if(16&b&&ye(Za.stateNode,""),128&b){var w=Za.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:Ia(Za),Za.flags&=-3;break;case 6:Ia(Za),Za.flags&=-3,Ra(Za.alternate,Za);break;case 1024:Za.flags&=-1025;break;case 1028:Za.flags&=-1025,Ra(Za.alternate,Za);break;case 4:Ra(Za.alternate,Za);break;case 8:Aa(a,l=Za);var S=l.alternate;ka(l),null!==S&&ka(S)}Za=Za.nextEffect}}catch(I){if(null===Za)throw Error(s(330));Hl(Za,I),Za=Za.nextEffect}}while(null!==Za);if(_=Wr,w=br(),b=_.focusedElem,a=_.selectionRange,w!==b&&b&&b.ownerDocument&&yr(b.ownerDocument.documentElement,b)){null!==a&&wr(b)&&(w=a.start,void 0===(_=a.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),l=b.textContent.length,S=Math.min(a.start,l),a=void 0===a.end?S:Math.min(a.end,l),!_.extend&&S>a&&(l=a,a=S,S=l),l=vr(b,S),o=vr(b,a),l&&o&&(1!==_.rangeCount||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(l.node,l.offset),_.removeAllRanges(),S>a?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}$t=!!Hr,Wr=Hr=null,e.current=n,Za=r;do{try{for(b=e;null!==Za;){var E=Za.flags;if(36&E&&_a(b,Za.alternate,Za),128&E){w=void 0;var k=Za.ref;if(null!==k){var T=Za.stateNode;Za.tag,w=T,"function"===typeof k?k(w):k.current=w}}Za=Za.nextEffect}}catch(I){if(null===Za)throw Error(s(330));Hl(Za,I),Za=Za.nextEffect}}while(null!==Za);Za=null,Bi(),La=i}else e.current=n;if(rl)rl=!1,il=e,ol=t;else for(Za=r;null!==Za;)t=Za.nextEffect,Za.nextEffect=null,8&Za.flags&&((E=Za).sibling=null,E.stateNode=null),Za=t;if(0===(r=e.pendingLanes)&&(nl=null),1===r?e===ul?cl++:(cl=0,ul=e):cl=0,n=n.stateNode,xi&&"function"===typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(Ii,n,void 0,64===(64&n.current.flags))}catch(I){}if(wl(e,Gi()),el)throw el=!1,e=tl,tl=null,e;return 0!==(8&La)||Ji(),null}function jl(){for(;null!==Za;){var e=Za.alternate;ml||null===pl||(0!==(8&Za.flags)?et(Za,pl)&&(ml=!0):13===Za.tag&&Na(e,Za)&&et(Za,pl)&&(ml=!0));var t=Za.flags;0!==(256&t)&&wa(e,Za),0===(512&t)||rl||(rl=!0,$i(97,(function(){return Ul(),null}))),Za=Za.nextEffect}}function Ul(){if(90!==ol){var e=97<ol?97:ol;return ol=90,Yi(e,zl)}return!1}function Vl(e,t){sl.push(t,e),rl||(rl=!0,$i(97,(function(){return Ul(),null})))}function Bl(e,t){al.push(t,e),rl||(rl=!0,$i(97,(function(){return Ul(),null})))}function zl(){if(null===il)return!1;var e=il;if(il=null,0!==(48&La))throw Error(s(331));var t=La;La|=32;var n=al;al=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"===typeof a)try{a()}catch(hr){if(null===o)throw Error(s(330));Hl(o,hr)}}for(n=sl,sl=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(hr){if(null===o)throw Error(s(330));Hl(o,hr)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return La=t,Ji(),!0}function ql(e,t,n){mo(e,t=ga(0,t=fa(n,t),1)),t=gl(),null!==(e=bl(e,1))&&(qt(e,1,t),wl(e,t))}function Hl(e,t){if(3===e.tag)ql(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ql(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===nl||!nl.has(r))){var i=va(n,e=fa(t,e),1);if(mo(n,i),i=gl(),null!==(n=bl(n,1)))qt(n,1,i),wl(n,i);else if("function"===typeof r.componentDidCatch&&(null===nl||!nl.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Wl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=gl(),e.pingedLanes|=e.suspendedLanes&n,Fa===e&&(Ua&n)===n&&(4===za||3===za&&(62914560&Ua)===Ua&&500>Gi()-Ya?Cl(e,0):Ka|=n),wl(e,t)}function Gl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===hl&&(hl=Ha),0===(t=Bt(62914560&~hl))&&(t=4194304))),n=gl(),null!==(e=bl(e,t))&&(qt(e,t,n),wl(e,n))}function Kl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ql(e,t,n,r){return new Kl(e,t,n,r)}function Yl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $l(e,t){var n=e.alternate;return null===n?((n=Ql(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jl(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Yl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Xl(n.children,i,o,t);case L:a=8,i|=16;break;case T:a=8,i|=1;break;case I:return(e=Ql(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=o,e;case R:return(e=Ql(13,n,t,i)).type=R,e.elementType=R,e.lanes=o,e;case P:return(e=Ql(19,n,t,i)).elementType=P,e.lanes=o,e;case F:return Zl(n,i,o,t);case j:return(e=Ql(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:a=10;break e;case C:a=9;break e;case A:a=11;break e;case N:a=14;break e;case O:a=16,r=null;break e;case D:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ql(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Xl(e,t,n,r){return(e=Ql(7,e,r,t)).lanes=n,e}function Zl(e,t,n,r){return(e=Ql(23,e,r,t)).elementType=F,e.lanes=n,e}function ec(e,t,n){return(e=Ql(6,e,null,t)).lanes=n,e}function tc(e,t,n){return(t=Ql(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function rc(e,t,n,r){var i=t.current,o=gl(),a=vl(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(wi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var c=n.type;if(wi(c)){n=Ei(n,c,l);break e}}n=l}else n=mi;return null===t.context?t.context=n:t.pendingContext=n,(t=po(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),mo(i,t),yl(i,a,o),a}function ic(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function oc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function sc(e,t){oc(e,t),(e=e.alternate)&&oc(e,t)}function ac(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new nc(e,t,null!=n&&!0===n.hydrate),t=Ql(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ho(t),e[ri]=n.current,Mr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function lc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function cc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof i){var a=i;i=function(){var e=ic(s);a.call(e)}}rc(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ac(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=ic(s);l.call(e)}}Tl((function(){rc(t,s,e,i)}))}return ic(s)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!lc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Xa=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||vi.current)Vs=!0;else{if(0===(n&r)){switch(Vs=!1,t.tag){case 3:$s(t),Jo();break;case 5:Uo(t);break;case 1:wi(t.type)&&ki(t);break;case 4:Fo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;pi(to,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?na(e,t,n):(pi(Bo,1&Bo.current),null!==(t=ca(e,t,n))?t.sibling:null);pi(Bo,1&Bo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return la(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),pi(Bo,Bo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ws(e,t,n)}return ca(e,t,n)}Vs=0!==(16384&e.flags)}else Vs=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=bi(t,gi.current),lo(t,n),i=us(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,wi(r)){var o=!0;ki(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ho(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&wo(t,r,a,e),i.updater=_o,t.stateNode=i,i._reactInternals=t,To(t,r,e,n),t=Ys(null,t,r,!0,o,n)}else t.tag=0,Bs(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Yl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===N)return 14}return 2}(i),e=eo(i,e),o){case 0:t=Ks(null,t,i,e,n);break e;case 1:t=Qs(null,t,i,e,n);break e;case 11:t=zs(null,t,i,e,n);break e;case 14:t=qs(null,t,i,eo(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ks(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Qs(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 3:if($s(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,fo(e,t),vo(t,r,null,n),(r=t.memoizedState.element)===i)Jo(),t=ca(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Ho=Jr(t.stateNode.containerInfo.firstChild),qo=t,o=Wo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Xo.push(o);for(n=Po(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Bs(e,t,r,n),Jo();t=t.child}return t;case 5:return Uo(t),null===e&&Qo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,Kr(r,i)?a=null:null!==o&&Kr(r,o)&&(t.flags|=16),Gs(e,t),Bs(e,t,a,n),t.child;case 6:return null===e&&Qo(t),null;case 13:return na(e,t,n);case 4:return Fo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ro(t,null,r,n):Bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,zs(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 7:return Bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var l=t.type._context;if(pi(to,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0===(o=dr(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!vi.current){t=ca(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&o)){1===l.tag&&((u=po(-1,n&-n)).tag=2,mo(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),ao(l.return,n),c.lanes|=n;break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,lo(t,n),r=r(i=co(i,o.unstable_observedBits)),t.flags|=1,Bs(e,t,r,n),t.child;case 14:return o=eo(i=t.type,t.pendingProps),qs(e,t,i,o=eo(i.type,o),r,n);case 15:return Hs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:eo(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,wi(r)?(e=!0,ki(t)):e=!1,lo(t,n),Eo(t,r,i),To(t,r,i,n),Ys(null,t,r,!0,e,n);case 19:return la(e,t,n);case 23:case 24:return Ws(e,t,n)}throw Error(s(156,t.tag))},ac.prototype.render=function(e){rc(e,this._internalRoot,null,null)},ac.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;rc(null,e,null,(function(){t[ri]=null}))},tt=function(e){13===e.tag&&(yl(e,4,gl()),sc(e,4))},nt=function(e){13===e.tag&&(yl(e,67108864,gl()),sc(e,67108864))},rt=function(e){if(13===e.tag){var t=gl(),n=vl(e);yl(e,n,t),sc(e,n)}},it=function(e,t){return t()},xe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=li(r);if(!i)throw Error(s(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Oe=kl,De=function(e,t,n,r,i){var o=La;La|=4;try{return Yi(98,e.bind(null,t,n,r,i))}finally{0===(La=o)&&(Ja(),Ji())}},Me=function(){0===(49&La)&&(function(){if(null!==ll){var e=ll;ll=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,wl(e,Gi())}))}Ji()}(),Ul())},Le=function(e,t){var n=La;La|=2;try{return e(t)}finally{0===(La=n)&&(Ja(),Ji())}};var dc={Events:[si,ai,li,Pe,Ne,Ul,{current:!1}]},hc={findFiberByHostInstance:oi,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},fc={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Ii=pc.inject(fc),xi=pc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=La;if(0!==(48&n))return e(t);La|=1;try{if(e)return Yi(99,e.bind(null,t))}finally{La=n,Ji()}},t.hydrate=function(e,t,n){if(!lc(t))throw Error(s(200));return cc(null,e,t,!0,n)},t.render=function(e,t,n){if(!lc(t))throw Error(s(200));return cc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!lc(e))throw Error(s(40));return!!e._reactRootContainer&&(Tl((function(){cc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ri]=null}))})),!0)},t.unstable_batchedUpdates=kl,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!lc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return cc(e,t,n,!1,r)},t.version="17.0.2"},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{n(123);var r=n(43),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},202:(e,t,n)=>{var r=n(123),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),s=d("react.provider"),a=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:w.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return s=s(l=e),e=""===r?"."+I(l,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),x(s,t,n,"",(function(e){return e}))):null!=s&&(k(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+I(a=e[c],c);l+=x(a,t,n,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=x(a=a.value,t,n,u=r+I(a,c++),s);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function C(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function P(){var e=R.current;if(null===e)throw Error(f(321));return e}var N={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var o=r({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)_.call(t,u)&&!S.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,u=null,d=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(Gt){throw setTimeout(d,0),Gt}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(d,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(Gt){throw _.postMessage(null),Gt}}else m=!1},n=function(e){g=e,m||(m=!0,_.postMessage(null))},r=function(e,n){v=h((function(){e(t.unstable_now())}),n)},i=function(){f(v),v=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>T(s,n))void 0!==l&&0>T(l,s)?(e[r]=l,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==l&&0>T(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],x=[],C=1,A=null,R=3,P=!1,N=!1,O=!1;function D(e){for(var t=E(x);null!==t;){if(null===t.callback)k(x);else{if(!(t.startTime<=e))break;k(x),t.sortIndex=t.expirationTime,S(I,t)}t=E(x)}}function M(e){if(O=!1,D(e),!N)if(null!==E(I))N=!0,n(L);else{var t=E(x);null!==t&&r(M,t.startTime-e)}}function L(e,n){N=!1,O&&(O=!1,i()),P=!0;var o=R;try{for(D(n),A=E(I);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=A.callback;if("function"===typeof s){A.callback=null,R=A.priorityLevel;var a=s(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?A.callback=a:A===E(I)&&k(I),D(n)}else k(I);A=E(I)}if(null!==A)var l=!0;else{var c=E(x);null!==c&&r(M,c.startTime-n),l=!1}return l}finally{A=null,R=o,P=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||P||(N=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return E(I)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,S(x,e),null===E(I)&&e===E(x)&&(O?i():O=!0,r(M,s-a))):(e.sortIndex=l,S(I,e),N||P||(N=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/curly-octo-enigma/";var r={};n.r(r),n.d(r,{FirebaseError:()=>P,SDK_VERSION:()=>ut,_DEFAULT_ENTRY_NAME:()=>Qe,_addComponent:()=>Ze,_addOrOverwriteComponent:()=>et,_apps:()=>$e,_clearComponents:()=>st,_components:()=>Xe,_getProvider:()=>nt,_isFirebaseApp:()=>it,_isFirebaseServerApp:()=>ot,_registerComponent:()=>tt,_removeServiceInstance:()=>rt,_serverApps:()=>Je,deleteApp:()=>mt,getApp:()=>ft,getApps:()=>pt,initializeApp:()=>dt,initializeServerApp:()=>ht,onLog:()=>vt,registerVersion:()=>gt,setLogLevel:()=>yt});var i=n(43),o=n.t(i,2),s=n(950);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const h=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(h(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new p;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class p extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m=function(e){return function(e){const t=h(e);return f.encodeByteArray(t,!0)}(e).replace(/\./g,"")},g=function(e){try{return f.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function v(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=v(e[n],t[n]));return e}function y(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const b=()=>{try{return y().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/curly-octo-enigma",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyDSJnHqkZbX5YgCemX8C2h1U50xpvs2dEs",REACT_APP_APP_ID:"1:530428556166:web:2fd589f96446a0354ef207",REACT_APP_AUTHDOMAIN:"drive-c0887.firebaseapp.com",REACT_APP_MESSAGINGSENDERID:"530428556166",REACT_APP_PROJECTID:"drive-c0887",REACT_APP_STORAGEBUCKET:"drive-c0887.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&g(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},w=()=>{var e;return null===(e=b())||void 0===e?void 0:e.config};class _{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function S(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[m(JSON.stringify({alg:"none",type:"JWT"})),m(JSON.stringify(o)),""].join(".")}function E(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function k(){var e;const t=null===(e=b())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function T(){return"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope}function I(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function x(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function C(){const e=E();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function A(){return!k()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R(){try{return"object"===typeof indexedDB}catch(e){return!1}}class P extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(O,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new P(n,o,t)}}const O=/\{\$([^}]+)}/g;function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function M(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(L(n)&&L(o)){if(!M(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function L(e){return null!==e&&"object"===typeof e}function F(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function j(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function U(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function V(e,t){const n=new B(e,t);return n.subscribe.bind(n)}class B{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function z(){}function q(e){return e&&e._delegate?e._delegate:e}class H{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const W="[DEFAULT]";class G{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new _;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:W})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.component?this.component.multipleInstances?e:W:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function K(e){return e===W?void 0:e}class Q{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new G(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Y=[];var $;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}($||($={}));const J={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},X=$.INFO,Z={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ee=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Z[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class te{constructor(e){this.name=e,this._logLevel=X,this._logHandler=ee,this._userLogHandler=null,Y.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?J[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...t),this._logHandler(this,$.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...t),this._logHandler(this,$.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$.INFO,...t),this._logHandler(this,$.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$.WARN,...t),this._logHandler(this,$.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$.ERROR,...t),this._logHandler(this,$.ERROR,...t)}}let ne,re;const ie=new WeakMap,oe=new WeakMap,se=new WeakMap,ae=new WeakMap,le=new WeakMap;let ce={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return oe.get(e);if("objectStoreNames"===t)return e.objectStoreNames||se.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return he(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ue(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(fe(this),n),he(ie.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return he(e.apply(fe(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(fe(this),t,...r);return se.set(o,t.sort?t.sort():[t]),he(o)}}function de(e){return"function"===typeof e?ue(e):(e instanceof IDBTransaction&&function(e){if(oe.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));oe.set(e,t)}(e),t=e,(ne||(ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,ce):e);var t}function he(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(he(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&ie.set(t,e)})).catch((()=>{})),le.set(t,e),t}(e);if(ae.has(e))return ae.get(e);const t=de(e);return t!==e&&(ae.set(e,t),le.set(t,e)),t}const fe=e=>le.get(e);const pe=["get","getKey","getAll","getAllKeys","count"],me=["put","add","delete","clear"],ge=new Map;function ve(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ge.get(t))return ge.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=me.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!pe.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return ge.set(t,o),o}ce=(e=>d(d({},e),{},{get:(t,n,r)=>ve(t,n)||e.get(t,n,r),has:(t,n)=>!!ve(t,n)||e.has(t,n)}))(ce);class ye{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const be="@firebase/app",we="0.10.17",_e=new te("@firebase/app"),Se="@firebase/app-compat",Ee="@firebase/analytics-compat",ke="@firebase/analytics",Te="@firebase/app-check-compat",Ie="@firebase/app-check",xe="@firebase/auth",Ce="@firebase/auth-compat",Ae="@firebase/database",Re="@firebase/data-connect",Pe="@firebase/database-compat",Ne="@firebase/functions",Oe="@firebase/functions-compat",De="@firebase/installations",Me="@firebase/installations-compat",Le="@firebase/messaging",Fe="@firebase/messaging-compat",je="@firebase/performance",Ue="@firebase/performance-compat",Ve="@firebase/remote-config",Be="@firebase/remote-config-compat",ze="@firebase/storage",qe="@firebase/storage-compat",He="@firebase/firestore",We="@firebase/vertexai",Ge="@firebase/firestore-compat",Ke="firebase",Qe="[DEFAULT]",Ye={[be]:"fire-core",[Se]:"fire-core-compat",[ke]:"fire-analytics",[Ee]:"fire-analytics-compat",[Ie]:"fire-app-check",[Te]:"fire-app-check-compat",[xe]:"fire-auth",[Ce]:"fire-auth-compat",[Ae]:"fire-rtdb",[Re]:"fire-data-connect",[Pe]:"fire-rtdb-compat",[Ne]:"fire-fn",[Oe]:"fire-fn-compat",[De]:"fire-iid",[Me]:"fire-iid-compat",[Le]:"fire-fcm",[Fe]:"fire-fcm-compat",[je]:"fire-perf",[Ue]:"fire-perf-compat",[Ve]:"fire-rc",[Be]:"fire-rc-compat",[ze]:"fire-gcs",[qe]:"fire-gcs-compat",[He]:"fire-fst",[Ge]:"fire-fst-compat",[We]:"fire-vertex","fire-js":"fire-js",[Ke]:"fire-js-all"},$e=new Map,Je=new Map,Xe=new Map;function Ze(e,t){try{e.container.addComponent(t)}catch(n){_e.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function et(e,t){e.container.addOrOverwriteComponent(t)}function tt(e){const t=e.name;if(Xe.has(t))return _e.debug("There were multiple attempts to register component ".concat(t,".")),!1;Xe.set(t,e);for(const n of $e.values())Ze(n,e);for(const n of Je.values())Ze(n,e);return!0}function nt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function rt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qe;nt(e,t).clearInstance(n)}function it(e){return void 0!==e.options}function ot(e){return void 0!==e.settings}function st(){Xe.clear()}const at=new N("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class lt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new H("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw at.create("app-deleted",{appName:this._name})}}class ct extends lt{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,o={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,o,r);else{super(e.options,o,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=null,"undefined"!==typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,gt(be,we,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){mt(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw at.create("server-app-deleted")}}const ut="11.1.0";function dt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Qe,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw at.create("bad-app-name",{appName:String(i)});if(n||(n=w()),!n)throw at.create("no-options");const o=$e.get(i);if(o){if(M(n,o.options)&&M(r,o.config))return o;throw at.create("duplicate-app",{appName:i})}const s=new Q(i);for(const l of Xe.values())s.addComponent(l);const a=new lt(n,r,s);return $e.set(i,a),a}function ht(e,t){if(("undefined"!==typeof window||T())&&!T())throw at.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=it(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw at.create("finalization-registry-not-supported",{});const i=""+(o=JSON.stringify(r),[...o].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var o;const s=Je.get(i);if(s)return s.incRefCount(t.releaseOnDeref),s;const a=new Q(i);for(const c of Xe.values())a.addComponent(c);const l=new ct(n,t,i,a);return Je.set(i,l),l}function ft(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe;const t=$e.get(e);if(!t&&e===Qe&&w())return dt();if(!t)throw at.create("no-app",{appName:e});return t}function pt(){return Array.from($e.values())}async function mt(e){let t=!1;const n=e.name;if($e.has(n))t=!0,$e.delete(n);else if(Je.has(n)){e.decRefCount()<=0&&(Je.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function gt(e,t,n){var r;let i=null!==(r=Ye[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void _e.warn(e.join(" "))}tt(new H("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function vt(e,t){if(null!==e&&"function"!==typeof e)throw at.create("invalid-log-argument");!function(e,t){for(const n of Y){let r=null;t&&t.level&&(r=J[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:$[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function yt(e){var t;t=e,Y.forEach((e=>{e.setLogLevel(t)}))}const bt="firebase-heartbeat-store";let wt=null;function _t(){return wt||(wt=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=he(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(he(s.result),e.oldVersion,e.newVersion,he(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(bt)}catch(n){console.warn(n)}}}).catch((e=>{throw at.create("idb-open",{originalErrorMessage:e.message})}))),wt}async function St(e,t){try{const n=(await _t()).transaction(bt,"readwrite"),r=n.objectStore(bt);await r.put(t,Et(e)),await n.done}catch(n){if(n instanceof P)_e.warn(n.message);else{const e=at.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});_e.warn(e.message)}}}function Et(e){return"".concat(e.name,"!").concat(e.options.appId)}class kt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new It(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Tt();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(n){_e.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Tt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),xt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=m(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return _e.warn(t),""}}}function Tt(){return(new Date).toISOString().substring(0,10)}class It{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!R()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await _t()).transaction(bt),n=await t.objectStore(bt).get(Et(e));return await t.done,n}catch(t){if(t instanceof P)_e.warn(t.message);else{const e=at.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});_e.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return St(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return St(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function xt(e){return m(JSON.stringify({version:2,heartbeats:e})).length}var Ct;Ct="",tt(new H("platform-logger",(e=>new ye(e)),"PRIVATE")),tt(new H("heartbeat",(e=>new kt(e)),"PRIVATE")),gt(be,we,Ct),gt(be,we,"esm2017"),gt("fire-js","");gt("firebase","11.1.0","app");var At,Rt,Pt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Nt={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=s(n)).j(t);d(c)||0<c.l(e);)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Rt=Nt.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=a,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},At=Nt.Integer=r}).apply("undefined"!==typeof Pt?Pt:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ot,Dt,Mt,Lt,Ft,jt,Ut,Vt,Bt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},zt={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Bt&&Bt];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new I),(e=>e.reset()));class I{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,C=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=i.Promise.resolve(void 0);x=()=>{e.then(P)}};var P=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){E(n)}var t=T;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function N(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function M(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,O);var L={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),j=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=q(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function G(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)G(e,t[o],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,s(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new B(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,s(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Y(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(o=e.g[t],n,r,i))&&(V(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&$(n))}function $(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function J(e){return e in W?W[e]:W[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&$(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){N.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;_(t=new O(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(s=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&z(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,N),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends N{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){N.call(this),this.h=e,this.g={}}d(le,N);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&$(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){O.call(this,"d")}function be(){O.call(this,"c")}d(ye,O),d(be,O);var we={},_e=null;function Se(){return _e=_e||new ne}function Ee(e){O.call(this,we.La,e)}function ke(e){const t=Se();re(t,new Ee(t))}function Te(e,t){O.call(this,we.STAT_EVENT,e),this.stat=t}function Ie(e){const t=Se();re(t,new Te(t,e))}function xe(e,t){O.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Re(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(Ee,O),we.STAT_EVENT="statevent",d(Te,O),we.Ma="timingevent",d(xe,O),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Pe,Ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Pe=new De;var Fe={},je={};function Ue(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),qe(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Tt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=Tn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var s=G(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||wn(e.j,e)}function Ke(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;bn(n),cn(n)}gn(n),Ie(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else Sn(n,11)}else if((e.K||n.g==e)&&bn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=kn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(We(a),qe(a)),r.g=s}else mn(r);0<n.i.length&&dn(n)}else"stop"!=c[0]&&"close"!=c[0]||Sn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Sn(n,7):ln(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==rn(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=rn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||on(this.g)))){this.J||4!=h||7==t||ke(),We(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=on(this.g);e="";var o=r.length,s=4==rn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ie(12),Ke(this),Ge(this);break e}Re(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=ze(this,a),e==je){4==h&&(this.s=4,Ie(14),n=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Ie(15),Re(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Re(this.i,this.l,e,null),Qe(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Ie(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),vn(d),d.M=!0,Ie(11))}}else Re(this.i,this.l,a,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else Re(this.i,this.l,a,null),Qe(this,a);4==h&&Ke(this),this.o&&!this.J&&(4==h?wn(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=rn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ie(12)):(this.s=0,Ie(13)),Ke(this),Ge(this)}}}catch(qt){}},Me.prototype.cancel=function(){this.J=!0,Ke(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Ie(17)),Ke(this),this.s=2,Ge(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function $e(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}$e.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function st(e){return new ot(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),Tt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new _t(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){St(e),t=It(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return St(e),t=It(e,t),e.g.has(t)}function Tt(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(It(e,t),h(n)),e.h+=n.length)}function It(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function xt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Ct(){this.g=new fe}function At(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;s(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Nt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ht(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Wt(e)}function Wt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Kt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Qt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Kt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Yt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){St(this),this.i=null,e=It(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(It(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,kt(this,e=It(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},d(Rt,pe),Rt.prototype.g=function(){return new Pt(this.l,this.j)},Rt.prototype.i=(mt={},function(){return mt}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Wt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ht(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Wt(this)),this.g&&(this.readyState=3,Wt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ht(this):Wt(this),3==this.readyState&&Nt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ht(this))},e.Qa=function(e){this.g&&(this.response=e,Ht(this))},e.ga=function(){this.g&&Ht(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Yt,ne);var $t=/^https?$/i,Jt=["POST","PUT"];function Xt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Zt(e),tn(e)}function Zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function en(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=rn(e)||2!=e.Z()))if(e.u&&4==rn(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==rn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(it)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!$t.test(s?s.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<rn(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Zt(e)}}finally{tn(e)}}}function tn(e,t){if(e.g){nn(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function nn(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function rn(e){return e.g?e.g.readyState:0}function on(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Gt){return null}}function sn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function an(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sn("baseRetryDelayMs",5e3,e),this.cb=sn("retryDelaySeedMs",1e4,e),this.Wa=sn("forwardChannelMaxRetries",2,e),this.wa=sn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new $e(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ln(e){if(un(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),fn(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=Tn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}En(e)}function cn(e){e.g&&(vn(e),e.g.cancel(),e.g=null)}function un(e){cn(e),e.u&&(i.clearTimeout(e.u),e.u=null),bn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function dn(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;x||R(),C||(x(),C=!0),A.add(t,e),e.B=0}}function hn(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),fn(e,r),e.m&&e.o&&Qt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=pn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function fn(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function pn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{At(a,e,"req"+n+"_")}catch(qt){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function mn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;x||R(),C||(x(),C=!0),A.add(t,e),e.v=0}}function gn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),_n(e,e.v)),e.v++,!0)}function vn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function yn(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),fn(e,t),e.m&&e.o&&Qt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Ve(n,e)}function bn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function wn(e,t){var n=null;if(e.g==t){bn(e),vn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new xe(r,n)),dn(e)}else mn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),_n(e,e.B)),e.B++,!0))}(e,t)||2==r&&gn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Sn(e,5);break;case 4:Sn(e,10);break;case 3:Sn(e,6);break;default:Sn(e,2)}}function _n(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function Sn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=u(xt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(xt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(xt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(xt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout((()=>{n.abort(),xt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?xt(0,0,!0,t):xt(0,0,!1,t)})).catch((()=>{clearTimeout(r),xt(0,0,!1,t)}))}(r.toString(),n)}else Ie(2);e.G=0,e.l&&e.l.sa(t),En(e),un(e)}function En(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function kn(e,t,n){var r=n instanceof ot?st(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new ot(null);r&&at(s,r),t&&(s.g=t),o&&lt(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),fn(e,r),r}function Tn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Yt(new Rt({eb:n})):new Yt(e.pa)).Ha(e.J),t}function In(){}function xn(){}function Cn(e,t){ne.call(this),this.g=new an(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Pn(this)}function An(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Rn(){be.call(this),this.status=1}function Pn(e){this.g=e}(e=Yt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Xt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Jt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nn(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Xt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),tn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),Yt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?en(this):this.bb())},e.bb=function(){en(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=an.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ie(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=kn(this,null,this.W),dn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),_(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=pn(this,i,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),fn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Kt(o)))+"&"+t:this.m&&Qt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?hn(this,e):0==this.i.length||Je(this.h)||hn(this))},e.Fa=function(){if(this.u=null,yn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ie(10),cn(this),yn(this))},e.Za=function(){null!=this.C&&(this.C=null,cn(this),gn(this),Ie(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=In.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},xn.prototype.g=function(e,t){return new Cn(e,t)},d(Cn,ne),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){ln(this.g)},Cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&dn(t)},Cn.prototype.N=function(){this.g.l=null,delete this.j,ln(this.g),delete this.g,Cn.aa.N.call(this)},d(An,ye),d(Rn,be),d(Pn,In),Pn.prototype.ua=function(){re(this.g,"a")},Pn.prototype.ta=function(e){re(this.g,new An(e))},Pn.prototype.sa=function(e){re(this.g,new Rn)},Pn.prototype.ra=function(){re(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,Vt=zt.createWebChannelTransport=function(){return new xn},Ut=zt.getStatEventTarget=function(){return Se()},jt=zt.Event=we,Ft=zt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ne.NO_ERROR=0,Ne.TIMEOUT=8,Ne.HTTP_ERROR=6,Lt=zt.ErrorCode=Ne,Oe.COMPLETE="complete",Mt=zt.EventType=Oe,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Dt=zt.WebChannel=ge,zt.FetchXmlHttpFactory=Rt,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,Ot=zt.XhrIo=Yt}).apply("undefined"!==typeof Bt?Bt:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const qt="@firebase/firestore";class Ht{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");let Wt="11.0.2";const Gt=new te("@firebase/firestore");function Kt(){return Gt.logLevel}function Qt(e){if(Gt.logLevel<=$.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Jt);Gt.debug("Firestore (".concat(Wt,"): ").concat(e),...i)}}function Yt(e){if(Gt.logLevel<=$.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Jt);Gt.error("Firestore (".concat(Wt,"): ").concat(e),...i)}}function $t(e){if(Gt.logLevel<=$.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Jt);Gt.warn("Firestore (".concat(Wt,"): ").concat(e),...i)}}function Jt(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Xt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Wt,") INTERNAL ASSERTION FAILED: ")+e;throw Yt(t),new Error(t)}function Zt(e,t){e||Xt()}function en(e,t){return e}const tn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nn extends P{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class rn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class on{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class sn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ht.UNAUTHENTICATED)))}shutdown(){}}class an{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ln{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Zt(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new rn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rn,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rn)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Zt("string"==typeof t.accessToken),new on(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Zt(null===e||"string"==typeof e),new Ht(e)}}class cn{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class un{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new cn(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ht.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Zt(void 0===this.o);const n=e=>{null!=e.error&&Qt("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Qt("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Zt("string"==typeof e.token),this.R=e.token,new dn(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function fn(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class pn{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=fn(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function mn(e,t){return e<t?-1:e>t?1:0}function gn(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function vn(e){return e+"\0"}class yn{static now(){return yn.fromMillis(Date.now())}static fromDate(e){return yn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new yn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new nn(tn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new nn(tn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new nn(tn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nn(tn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mn(this.nanoseconds,e.nanoseconds):mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bn{static fromTimestamp(e){return new bn(e)}static min(){return new bn(new yn(0,0))}static max(){return new bn(new yn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wn{constructor(e,t,n){void 0===t?t=0:t>e.length&&Xt(),void 0===n?n=e.length-t:n>e.length-t&&Xt(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===wn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wn?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _n extends wn{construct(e,t,n){return new _n(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new nn(tn.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new _n(e)}static emptyPath(){return new _n([])}}const Sn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends wn{construct(e,t,n){return new En(e,t,n)}static isValidIdentifier(e){return Sn.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new En(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new nn(tn.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new nn(tn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new nn(tn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new nn(tn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(t)}static emptyPath(){return new En([])}}class kn{constructor(e){this.path=e}static fromPath(e){return new kn(_n.fromString(e))}static fromName(e){return new kn(_n.fromString(e).popFirst(5))}static empty(){return new kn(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_n.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _n.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kn(new _n(e.slice()))}}class Tn{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function In(e){return e.fields.find((e=>2===e.kind))}function xn(e){return e.fields.filter((e=>2!==e.kind))}Tn.UNKNOWN_ID=-1;class Cn{constructor(e,t){this.fieldPath=e,this.kind=t}}class An{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new An(0,Nn.min())}}function Rn(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=bn.fromTimestamp(1e9===r?new yn(n+1,0):new yn(n,r));return new Nn(i,kn.empty(),t)}function Pn(e){return new Nn(e.readTime,e.key,-1)}class Nn{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Nn(bn.min(),kn.empty(),-1)}static max(){return new Nn(bn.max(),kn.empty(),-1)}}function On(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=kn.comparator(e.documentKey,t.documentKey),0!==n?n:mn(e.largestBatchId,t.largestBatchId))}const Dn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ln(e){if(e.code!==tn.FAILED_PRECONDITION||e.message!==Dn)throw e;Qt("LocalStore","Unexpectedly lost primary lease")}class Fn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Fn(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Fn?t:Fn.resolve(t)}catch(e){return Fn.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Fn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Fn.reject(t)}static resolve(e){return new Fn(((t,n)=>{t(e)}))}static reject(e){return new Fn(((t,n)=>{n(e)}))}static waitFor(e){return new Fn(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Fn.resolve(!1);for(const n of e)t=t.next((e=>e?Fn.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Fn(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Fn(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class jn{static open(e,t,n,r){try{return new jn(t,e.transaction(r,n))}catch(e){throw new zn(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new rn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new zn(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Kn(t.target.error);this.V.reject(new zn(e,n))}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Qt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Hn(t)}}class Un{static delete(e){return Qt("SimpleDb","Removing database:",e),Wn(window.indexedDB.deleteDatabase(e)).toPromise()}static p(){if(!R())return!1;if(Un.S())return!0;const e=E(),t=Un.D(e),n=0<t&&t<10,r=Vn(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static C(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.F=n,12.2===Un.D(E())&&Yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async M(e){return this.db||(Qt("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new zn(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new nn(tn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new nn(tn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new zn(e,r))},r.onupgradeneeded=e=>{Qt("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.F.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Qt("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.M(e);const t=jn.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Fn.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Qt("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Vn(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Bn{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Wn(this.B.delete())}}class zn extends nn{constructor(e,t){super(tn.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function qn(e){return"IndexedDbTransactionError"===e.name}class Hn{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Qt("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Qt("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Wn(n)}add(e){return Qt("SimpleDb","ADD",this.store.name,e,e),Wn(this.store.add(e))}get(e){return Wn(this.store.get(e)).next((t=>(void 0===t&&(t=null),Qt("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Qt("SimpleDb","DELETE",this.store.name,e),Wn(this.store.delete(e))}count(){return Qt("SimpleDb","COUNT",this.store.name),Wn(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Fn(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Fn(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){Qt("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new Fn(((n,r)=>{t.onerror=e=>{const t=Kn(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new Fn(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Bn(i),s=t(i.primaryKey,i.value,o);if(s instanceof Fn){const e=s.catch((e=>(o.done(),Fn.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>Fn.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wn(e){return new Fn(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Kn(e.target.error);n(t)}}))}let Gn=!1;function Kn(e){const t=Un.D(E());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new nn("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Gn||(Gn=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Qn{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){Qt("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Qt("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){qn(e)?Qt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Ln(e)}await this.X(6e4)}))}}class Yn{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return Fn.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Qt("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(Qt("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Pn(t);On(r,n)>0&&(n=r)})),new Nn(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class $n{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Jn(e){return null==e}function Xn(e){return 0===e&&1/e==-1/0}function Zn(e){return"number"==typeof e&&Number.isInteger(e)&&!Xn(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function er(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=nr(t)),t=tr(e.get(n),t);return nr(t)}function tr(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function nr(e){return e+"\x01\x01"}function rr(e){const t=e.length;if(Zt(t>=2),2===t)return Zt("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),_n.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&Xt(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:Xt()}o=t+2}return new _n(r)}$n.oe=-1;const ir=["userId","batchId"];function or(e,t){return[e,er(t)]}function sr(e,t,n){return[e,er(t),n]}const ar={},lr=["prefixPath","collectionGroup","readTime","documentId"],cr=["prefixPath","collectionGroup","documentId"],ur=["collectionGroup","readTime","prefixPath","documentId"],dr=["canonicalId","targetId"],hr=["targetId","path"],fr=["path","targetId"],pr=["collectionId","parent"],mr=["indexId","uid"],gr=["uid","sequenceNumber"],vr=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yr=["indexId","uid","orderedDocumentKey"],br=["userId","collectionPath","documentId"],wr=["userId","collectionPath","largestBatchId"],_r=["userId","collectionGroup","largestBatchId"],Sr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Er=[...Sr,"documentOverlays"],kr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Tr=kr,Ir=[...Tr,"indexConfiguration","indexState","indexEntries"],xr=Ir,Cr=[...Ir,"globals"];class Ar extends Mn{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function Rr(e,t){const n=en(e);return Un.C(n._e,t)}function Pr(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Nr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Or(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Dr{constructor(e,t){this.comparator=e,this.root=t||Lr.EMPTY}insert(e,t){return new Dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mr(this.root,e,this.comparator,!0)}}class Mr{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lr{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Lr.RED,this.left=null!=r?r:Lr.EMPTY,this.right=null!=i?i:Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Lr(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Lr.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xt();if(this.right.isRed())throw Xt();const e=this.left.check();if(e!==this.right.check())throw Xt();return e+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1,Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xt()}get value(){throw Xt()}get color(){throw Xt()}get left(){throw Xt()}get right(){throw Xt()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Lr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fr{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jr(this.data.getIterator())}getIteratorFrom(e){return new jr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Fr))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Fr(this.comparator);return t.data=e,t}}class jr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ur(e){return e.hasNext()?e.getNext():void 0}class Vr{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new Vr([])}unionWith(e){let t=new Fr(En.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Vr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gn(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Br extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Br("Invalid base64 string: "+e):e}}(e);return new zr(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new zr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zr.EMPTY_BYTE_STRING=new zr("");const qr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(e){if(Zt(!!e),"string"==typeof e){let t=0;const n=qr.exec(e);if(Zt(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Wr(e.seconds),nanos:Wr(e.nanos)}}function Wr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Gr(e){return"string"==typeof e?zr.fromBase64String(e):zr.fromUint8Array(e)}function Kr(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qr(e){const t=e.mapValue.fields.__previous_value__;return Kr(t)?Qr(t):t}function Yr(e){const t=Hr(e.mapValue.fields.__local_write_time__.timestampValue);return new yn(t.seconds,t.nanos)}class $r{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Jr{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Jr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jr&&e.projectId===this.projectId&&e.database===this.database}}const Xr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zr={nullValue:"NULL_VALUE"};function ei(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Kr(e)?4:vi(e)?9007199254740991:mi(e)?10:11:Xt()}function ti(e,t){if(e===t)return!0;const n=ei(e);if(n!==ei(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yr(e).isEqual(Yr(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Hr(e.timestampValue),r=Hr(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Gr(e.bytesValue).isEqual(Gr(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Wr(e.geoPointValue.latitude)===Wr(t.geoPointValue.latitude)&&Wr(e.geoPointValue.longitude)===Wr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Wr(e.integerValue)===Wr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Wr(e.doubleValue),r=Wr(t.doubleValue);return n===r?Xn(n)===Xn(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return gn(e.arrayValue.values||[],t.arrayValue.values||[],ti);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Pr(n)!==Pr(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ti(n[i],r[i])))return!1;return!0}(e,t);default:return Xt()}}function ni(e,t){return void 0!==(e.values||[]).find((e=>ti(e,t)))}function ri(e,t){if(e===t)return 0;const n=ei(e),r=ei(t);if(n!==r)return mn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mn(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Wr(e.integerValue||e.doubleValue),r=Wr(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ii(e.timestampValue,t.timestampValue);case 4:return ii(Yr(e),Yr(t));case 5:return mn(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Gr(e),r=Gr(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=mn(n[i],r[i]);if(0!==e)return e}return mn(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=mn(Wr(e.latitude),Wr(t.latitude));return 0!==n?n:mn(Wr(e.longitude),Wr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return oi(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},l=null===(n=s.value)||void 0===n?void 0:n.arrayValue,c=null===(r=a.value)||void 0===r?void 0:r.arrayValue,u=mn((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:oi(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Xr.mapValue&&t===Xr.mapValue)return 0;if(e===Xr.mapValue)return 1;if(t===Xr.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=mn(r[s],o[s]);if(0!==e)return e;const t=ri(n[r[s]],i[o[s]]);if(0!==t)return t}return mn(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Xt()}}function ii(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return mn(e,t);const n=Hr(e),r=Hr(t),i=mn(n.seconds,r.seconds);return 0!==i?i:mn(n.nanos,r.nanos)}function oi(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ri(n[i],r[i]);if(e)return e}return mn(n.length,r.length)}function si(e){return ai(e)}function ai(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Hr(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Gr(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return kn.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ai(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(ai(e.fields[i]));return n+"}"}(e.mapValue):Xt()}function li(e){switch(ei(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qr(e);return t?16+li(t):16;case 5:return 2*e.stringValue.length;case 6:return Gr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+li(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Nr(e.fields,((e,n)=>{t+=e.length+li(n)})),t}(e.mapValue);default:throw Xt()}}function ci(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ui(e){return!!e&&"integerValue"in e}function di(e){return!!e&&"arrayValue"in e}function hi(e){return!!e&&"nullValue"in e}function fi(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pi(e){return!!e&&"mapValue"in e}function mi(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gi(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Nr(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=gi(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gi(e.arrayValue.values[n]);return t}return Object.assign({},e)}function vi(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}const yi={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function bi(e){return"nullValue"in e?Zr:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ci(Jr.empty(),kn.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?mi(e)?yi:{mapValue:{}}:Xt()}function wi(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ci(Jr.empty(),kn.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?yi:"mapValue"in e?mi(e)?{mapValue:{}}:Xr:Xt()}function _i(e,t){const n=ri(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Si(e,t){const n=ri(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Ei{constructor(e){this.value=e}static empty(){return new Ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!pi(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gi(t)}setAll(e){let t=En.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=gi(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());pi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];pi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Nr(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ei(gi(this.value))}}function ki(e){const t=[];return Nr(e.fields,((e,n)=>{const r=new En([e]);if(pi(n)){const e=ki(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Vr(t)}class Ti{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Ti(e,0,bn.min(),bn.min(),bn.min(),Ei.empty(),0)}static newFoundDocument(e,t,n,r){return new Ti(e,1,t,bn.min(),n,r,0)}static newNoDocument(e,t){return new Ti(e,2,t,bn.min(),bn.min(),Ei.empty(),0)}static newUnknownDocument(e,t){return new Ti(e,3,t,bn.min(),bn.min(),Ei.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ti&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ti(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ii{constructor(e,t){this.position=e,this.inclusive=t}}function xi(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?kn.comparator(kn.fromName(s.referenceValue),n.key):ri(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Ci(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ti(e.position[n],t.position[n]))return!1;return!0}class Ai{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ri(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Pi{}class Ni extends Pi{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new zi(e,t,n):"array-contains"===t?new Gi(e,n):"in"===t?new Ki(e,n):"not-in"===t?new Qi(e,n):"array-contains-any"===t?new Yi(e,n):new Ni(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new qi(e,n):new Hi(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ri(t,this.value)):null!==t&&ei(this.value)===ei(t)&&this.matchesComparison(ri(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends Pi{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Oi(e,t)}matches(e){return Di(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Di(e){return"and"===e.op}function Mi(e){return"or"===e.op}function Li(e){return Fi(e)&&Di(e)}function Fi(e){for(const t of e.filters)if(t instanceof Oi)return!1;return!0}function ji(e){if(e instanceof Ni)return e.field.canonicalString()+e.op.toString()+si(e.value);if(Li(e))return e.filters.map((e=>ji(e))).join(",");{const t=e.filters.map((e=>ji(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ui(e,t){return e instanceof Ni?function(e,t){return t instanceof Ni&&e.op===t.op&&e.field.isEqual(t.field)&&ti(e.value,t.value)}(e,t):e instanceof Oi?function(e,t){return t instanceof Oi&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Ui(n,t.filters[r])),!0)}(e,t):void Xt()}function Vi(e,t){const n=e.filters.concat(t);return Oi.create(n,e.op)}function Bi(e){return e instanceof Ni?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(si(e.value))}(e):e instanceof Oi?function(e){return e.op.toString()+" {"+e.getFilters().map(Bi).join(" ,")+"}"}(e):"Filter"}class zi extends Ni{constructor(e,t,n){super(e,t,n),this.key=kn.fromName(n.referenceValue)}matches(e){const t=kn.comparator(e.key,this.key);return this.matchesComparison(t)}}class qi extends Ni{constructor(e,t){super(e,"in",t),this.keys=Wi("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Hi extends Ni{constructor(e,t){super(e,"not-in",t),this.keys=Wi("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Wi(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>kn.fromName(e.referenceValue)))}class Gi extends Ni{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return di(t)&&ni(t.arrayValue,this.value)}}class Ki extends Ni{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ni(this.value.arrayValue,t)}}class Qi extends Ni{constructor(e,t){super(e,"not-in",t)}matches(e){if(ni(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ni(this.value.arrayValue,t)}}class Yi extends Ni{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!di(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ni(this.value.arrayValue,e)))}}class $i{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ue=null}}function Ji(e){return new $i(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Xi(e){const t=en(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ji(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Jn(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>si(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>si(e))).join(",")),t.ue=e}return t.ue}function Zi(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ri(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ui(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ci(e.startAt,t.startAt)&&Ci(e.endAt,t.endAt)}function eo(e){return kn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function to(e,t){return e.filters.filter((e=>e instanceof Ni&&e.field.isEqual(t)))}function no(e,t,n){let r=Zr,i=!0;for(const o of to(e,t)){let e=Zr,t=!0;switch(o.op){case"<":case"<=":e=bi(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Zr}_i({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];_i({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function ro(e,t,n){let r=Xr,i=!0;for(const o of to(e,t)){let e=Xr,t=!0;switch(o.op){case">=":case">":e=wi(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Xr}Si({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Si({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class io{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function oo(e,t,n,r,i,o,s,a){return new io(e,t,n,r,i,o,s,a)}function so(e){return new io(e)}function ao(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function lo(e){return null!==e.collectionGroup}function co(e){const t=en(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Fr(En.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Ai(r,n))})),e.has(En.keyField().canonicalString())||t.ce.push(new Ai(En.keyField(),n))}return t.ce}function uo(e){const t=en(e);return t.le||(t.le=ho(t,co(e))),t.le}function ho(e,t){if("F"===e.limitType)return Ji(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Ai(e.field,t)}));const n=e.endAt?new Ii(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ii(e.startAt.position,e.startAt.inclusive):null;return Ji(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function fo(e,t){const n=e.filters.concat([t]);return new io(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function po(e,t,n){return new io(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mo(e,t){return Zi(uo(e),uo(t))&&e.limitType===t.limitType}function go(e){return"".concat(Xi(uo(e)),"|lt:").concat(e.limitType)}function vo(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Bi(e))).join(", "),"]")),Jn(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>si(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>si(e))).join(",")),"Target(".concat(t,")")}(uo(e)),"; limitType=").concat(e.limitType,")")}function yo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):kn.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of co(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=xi(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,co(e),t))&&!(e.endAt&&!function(e,t,n){const r=xi(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,co(e),t))}(e,t)}function bo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function wo(e){return(t,n)=>{let r=!1;for(const i of co(e)){const e=_o(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function _o(e,t,n){const r=e.field.isKeyField()?kn.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ri(r,i):Xt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Xt()}}class So{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Or(this.inner)}size(){return this.innerSize}}const Eo=new Dr(kn.comparator);function ko(){return Eo}const To=new Dr(kn.comparator);function Io(){let e=To;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function xo(e){let t=To;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Co(){return Ro()}function Ao(){return Ro()}function Ro(){return new So((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Po=new Dr(kn.comparator),No=new Fr(kn.comparator);function Oo(){let e=No;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Do=new Fr(mn);function Mo(){return Do}function Lo(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xn(t)?"-0":t}}function Fo(e){return{integerValue:""+e}}function jo(e,t){return Zn(t)?Fo(t):Lo(e,t)}class Uo{constructor(){this._=void 0}}function Vo(e,t,n){return e instanceof qo?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Kr(t)&&(t=Qr(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ho?Wo(e,t):e instanceof Go?Ko(e,t):function(e,t){const n=zo(e,t),r=Yo(n)+Yo(e.Pe);return ui(n)&&ui(e.Pe)?Fo(r):Lo(e.serializer,r)}(e,t)}function Bo(e,t,n){return e instanceof Ho?Wo(e,t):e instanceof Go?Ko(e,t):n}function zo(e,t){return e instanceof Qo?function(e){return ui(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class qo extends Uo{}class Ho extends Uo{constructor(e){super(),this.elements=e}}function Wo(e,t){const n=$o(t);for(const r of e.elements)n.some((e=>ti(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Go extends Uo{constructor(e){super(),this.elements=e}}function Ko(e,t){let n=$o(t);for(const r of e.elements)n=n.filter((e=>!ti(e,r)));return{arrayValue:{values:n}}}class Qo extends Uo{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Yo(e){return Wr(e.integerValue||e.doubleValue)}function $o(e){return di(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Jo{constructor(e,t){this.field=e,this.transform=t}}class Xo{constructor(e,t){this.version=e,this.transformResults=t}}class Zo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zo}static exists(e){return new Zo(void 0,e)}static updateTime(e){return new Zo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function es(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ts{}function ns(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new hs(e.key,Zo.none()):new as(e.key,e.data,Zo.none());{const n=e.data,r=Ei.empty();let i=new Fr(En.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ls(e.key,r,new Vr(i.toArray()),Zo.none())}}function rs(e,t,n){e instanceof as?function(e,t,n){const r=e.value.clone(),i=us(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ls?function(e,t,n){if(!es(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=us(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(cs(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function is(e,t,n,r){return e instanceof as?function(e,t,n,r){if(!es(e.precondition,t))return n;const i=e.value.clone(),o=ds(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ls?function(e,t,n,r){if(!es(e.precondition,t))return n;const i=ds(e.fieldTransforms,r,t),o=t.data;return o.setAll(cs(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return es(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function os(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=zo(r.transform,e||null);null!=i&&(null===n&&(n=Ei.empty()),n.set(r.field,i))}return n||null}function ss(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&gn(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ho&&t instanceof Ho||e instanceof Go&&t instanceof Go?gn(e.elements,t.elements,ti):e instanceof Qo&&t instanceof Qo?ti(e.Pe,t.Pe):e instanceof qo&&t instanceof qo}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class as extends ts{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ls extends ts{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function cs(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function us(e,t,n){const r=new Map;Zt(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Bo(s,a,n[i]))}return r}function ds(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Vo(e,o,t))}return r}class hs extends ts{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fs extends ts{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ps{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&rs(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=is(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=is(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ao();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=ns(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(bn.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Oo())}isEqual(e){return this.batchId===e.batchId&&gn(this.mutations,e.mutations,((e,t)=>ss(e,t)))&&gn(this.baseMutations,e.baseMutations,((e,t)=>ss(e,t)))}}class ms{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Zt(e.mutations.length===n.length);let r=Po;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new ms(e,t,n,r)}}class gs{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class vs{constructor(e,t){this.count=e,this.unchangedNames=t}}var ys,bs;function ws(e){switch(e){default:return Xt();case tn.CANCELLED:case tn.UNKNOWN:case tn.DEADLINE_EXCEEDED:case tn.RESOURCE_EXHAUSTED:case tn.INTERNAL:case tn.UNAVAILABLE:case tn.UNAUTHENTICATED:return!1;case tn.INVALID_ARGUMENT:case tn.NOT_FOUND:case tn.ALREADY_EXISTS:case tn.PERMISSION_DENIED:case tn.FAILED_PRECONDITION:case tn.ABORTED:case tn.OUT_OF_RANGE:case tn.UNIMPLEMENTED:case tn.DATA_LOSS:return!0}}function _s(e){if(void 0===e)return Yt("GRPC error has no .code"),tn.UNKNOWN;switch(e){case ys.OK:return tn.OK;case ys.CANCELLED:return tn.CANCELLED;case ys.UNKNOWN:return tn.UNKNOWN;case ys.DEADLINE_EXCEEDED:return tn.DEADLINE_EXCEEDED;case ys.RESOURCE_EXHAUSTED:return tn.RESOURCE_EXHAUSTED;case ys.INTERNAL:return tn.INTERNAL;case ys.UNAVAILABLE:return tn.UNAVAILABLE;case ys.UNAUTHENTICATED:return tn.UNAUTHENTICATED;case ys.INVALID_ARGUMENT:return tn.INVALID_ARGUMENT;case ys.NOT_FOUND:return tn.NOT_FOUND;case ys.ALREADY_EXISTS:return tn.ALREADY_EXISTS;case ys.PERMISSION_DENIED:return tn.PERMISSION_DENIED;case ys.FAILED_PRECONDITION:return tn.FAILED_PRECONDITION;case ys.ABORTED:return tn.ABORTED;case ys.OUT_OF_RANGE:return tn.OUT_OF_RANGE;case ys.UNIMPLEMENTED:return tn.UNIMPLEMENTED;case ys.DATA_LOSS:return tn.DATA_LOSS;default:return Xt()}}(bs=ys||(ys={}))[bs.OK=0]="OK",bs[bs.CANCELLED=1]="CANCELLED",bs[bs.UNKNOWN=2]="UNKNOWN",bs[bs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bs[bs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bs[bs.NOT_FOUND=5]="NOT_FOUND",bs[bs.ALREADY_EXISTS=6]="ALREADY_EXISTS",bs[bs.PERMISSION_DENIED=7]="PERMISSION_DENIED",bs[bs.UNAUTHENTICATED=16]="UNAUTHENTICATED",bs[bs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bs[bs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bs[bs.ABORTED=10]="ABORTED",bs[bs.OUT_OF_RANGE=11]="OUT_OF_RANGE",bs[bs.UNIMPLEMENTED=12]="UNIMPLEMENTED",bs[bs.INTERNAL=13]="INTERNAL",bs[bs.UNAVAILABLE=14]="UNAVAILABLE",bs[bs.DATA_LOSS=15]="DATA_LOSS";let Ss=null;function Es(){return new TextEncoder}const ks=new At([4294967295,4294967295],0);function Ts(e){const t=Es().encode(e),n=new Rt;return n.update(t),new Uint8Array(n.digest())}function Is(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new At([n,r],0),new At([i,o],0)]}class xs{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Cs("Invalid padding: ".concat(t));if(n<0)throw new Cs("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Cs("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Cs("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ie=At.fromNumber(this.Te)}Ee(e,t,n){let r=e.add(t.multiply(At.fromNumber(n)));return 1===r.compare(ks)&&(r=new At([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Ts(e),[n,r]=Is(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new xs(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=Ts(e),[n,r]=Is(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Cs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class As{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Rs.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new As(bn.min(),r,new Dr(mn),ko(),Oo())}}class Rs{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Rs(n,t,Oo(),Oo(),Oo())}}class Ps{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Ns{constructor(e,t){this.targetId=e,this.me=t}}class Os{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zr.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ds{constructor(){this.fe=0,this.ge=Fs(),this.pe=zr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oo(),t=Oo(),n=Oo();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Xt()}})),new Rs(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Fs()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Zt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ms{constructor(e){this.Le=e,this.Be=new Map,this.ke=ko(),this.qe=Ls(),this.Qe=Ls(),this.Ke=new Dr(mn)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:Xt()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.me.count,r=this.Ye(t);if(r){const i=r.target;if(eo(i))if(0===n){const e=new kn(i.path);this.We(t,e,Ti.newNoDocument(e,bn.min()))}else Zt(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Ss||Ss.tt(function(e,t,n,r,i){var o,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.nt(),n,i))}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Gr(n).toUint8Array()}catch(e){if(e instanceof Br)return $t("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new xs(o,r,i)}catch(e){return $t(e instanceof Cs?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&eo(i.target)){const t=new kn(i.target.path);this.st(t).has(r)||this.ot(r,t)||this.We(r,t,Ti.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=Oo();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new As(e,t,this.Ke,this.ke,n);return this.ke=ko(),this.qe=Ls(),this.Qe=Ls(),this.Ke=new Dr(mn),r}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.ot(e,t)?r.Fe(t,1):r.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Ds,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Fr(mn),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Fr(mn),this.qe=this.qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Qt("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Ds),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ls(){return new Dr(kn.comparator)}function Fs(){return new Dr(kn.comparator)}const js={asc:"ASCENDING",desc:"DESCENDING"},Us={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vs={and:"AND",or:"OR"};class Bs{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zs(e,t){return e.useProto3Json||Jn(t)?t:{value:t}}function qs(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Hs(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ws(e,t){return qs(e,t.toTimestamp())}function Gs(e){return Zt(!!e),bn.fromTimestamp(function(e){const t=Hr(e);return new yn(t.seconds,t.nanos)}(e))}function Ks(e,t){return Qs(e,t).canonicalString()}function Qs(e,t){const n=function(e){return new _n(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ys(e){const t=_n.fromString(e);return Zt(va(t)),t}function $s(e,t){return Ks(e.databaseId,t.path)}function Js(e,t){const n=Ys(t);if(n.get(1)!==e.databaseId.projectId)throw new nn(tn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new nn(tn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new kn(ta(n))}function Xs(e,t){return Ks(e.databaseId,t)}function Zs(e){const t=Ys(e);return 4===t.length?_n.emptyPath():ta(t)}function ea(e){return new _n(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ta(e){return Zt(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function na(e,t,n){return{name:$s(e,t),fields:n.value.mapValue.fields}}function ra(e,t,n){const r=Js(e,t.name),i=Gs(t.updateTime),o=t.createTime?Gs(t.createTime):bn.min(),s=new Ei({mapValue:{fields:t.fields}}),a=Ti.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ia(e,t){let n;if(t instanceof as)n={update:na(e,t.key,t.value)};else if(t instanceof hs)n={delete:$s(e,t.key)};else if(t instanceof ls)n={update:na(e,t.key,t.data),updateMask:ga(t.fieldMask)};else{if(!(t instanceof fs))return Xt();n={verify:$s(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof qo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ho)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Go)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qo)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Xt()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ws(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Xt()}(e,t.precondition)),n}function oa(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Zo.updateTime(Gs(e.updateTime)):void 0!==e.exists?Zo.exists(e.exists):Zo.none()}(t.currentDocument):Zo.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Zt("REQUEST_TIME"===t.setToServerValue),n=new qo;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ho(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Go(e)}else"increment"in t?n=new Qo(e,t.increment):Xt();const r=En.fromServerFormat(t.fieldPath);return new Jo(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Js(e,t.update.name),o=new Ei({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Vr(t.map((e=>En.fromServerFormat(e))))}(t.updateMask);return new ls(i,o,e,n,r)}return new as(i,o,n,r)}if(t.delete){const r=Js(e,t.delete);return new hs(r,n)}if(t.verify){const r=Js(e,t.verify);return new fs(r,n)}return Xt()}function sa(e,t){return{documents:[Xs(e,t.path)]}}function aa(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Xs(e,i);const o=function(e){if(0!==e.length)return ma(Oi.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:fa(e.field),direction:ua(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=zs(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ct:n,parent:i}}function la(e){let t=Zs(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Zt(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=ca(e);return t instanceof Oi&&Li(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Ai(pa(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Jn(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ii(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ii(n,t)}(n.endAt)),oo(t,i,s,o,a,"F",l,c)}function ca(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=pa(e.unaryFilter.field);return Ni.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=pa(e.unaryFilter.field);return Ni.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=pa(e.unaryFilter.field);return Ni.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=pa(e.unaryFilter.field);return Ni.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Xt()}}(e):void 0!==e.fieldFilter?function(e){return Ni.create(pa(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xt()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Oi.create(e.compositeFilter.filters.map((e=>ca(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Xt()}}(e.compositeFilter.op))}(e):Xt()}function ua(e){return js[e]}function da(e){return Us[e]}function ha(e){return Vs[e]}function fa(e){return{fieldPath:e.canonicalString()}}function pa(e){return En.fromServerFormat(e.fieldPath)}function ma(e){return e instanceof Ni?function(e){if("=="===e.op){if(fi(e.value))return{unaryFilter:{field:fa(e.field),op:"IS_NAN"}};if(hi(e.value))return{unaryFilter:{field:fa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(fi(e.value))return{unaryFilter:{field:fa(e.field),op:"IS_NOT_NAN"}};if(hi(e.value))return{unaryFilter:{field:fa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fa(e.field),op:da(e.op),value:e.value}}}(e):e instanceof Oi?function(e){const t=e.getFilters().map((e=>ma(e)));return 1===t.length?t[0]:{compositeFilter:{op:ha(e.op),filters:t}}}(e):Xt()}function ga(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function va(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ya{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:bn.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:bn.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:zr.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ba{constructor(e){this.ht=e}}function wa(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:_a(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:$s(e,t.key),fields:t.data.value.mapValue.fields,updateTime:qs(e,t.version.toTimestamp()),createTime:qs(e,t.createTime.toTimestamp())}}(e.ht,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Sa(t.version)};else{if(!t.isUnknownDocument())return Xt();r.unknownDocument={path:n.path.toArray(),version:Sa(t.version)}}return r}function _a(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Sa(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ea(e){const t=new yn(e.seconds,e.nanoseconds);return bn.fromTimestamp(t)}function ka(e,t){const n=(t.baseMutations||[]).map((t=>oa(e.ht,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>oa(e.ht,t))),i=yn.fromMillis(t.localWriteTimeMs);return new ps(t.batchId,i,n,r)}function Ta(e){const t=Ea(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ea(e.lastLimboFreeSnapshotVersion):bn.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Zt(1===e.documents.length),uo(so(Zs(e.documents[0])))}(e.query):function(e){return uo(la(e))}(e.query),new ya(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,zr.fromBase64String(e.resumeToken))}function Ia(e,t){const n=Sa(t.snapshotVersion),r=Sa(t.lastLimboFreeSnapshotVersion);let i;i=eo(t.target)?sa(e.ht,t.target):aa(e.ht,t.target).ct;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Xi(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function xa(e){const t=la({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?po(t,t.limit,"L"):t}function Ca(e,t){return new gs(t.largestBatchId,oa(e.ht,t.overlayMutation))}function Aa(e,t){const n=t.path.lastSegment();return[e,er(t.path.popLast()),n]}function Ra(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Sa(r.readTime),documentKey:er(r.documentKey.path),largestBatchId:r.largestBatchId}}class Pa{getBundleMetadata(e,t){return Na(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Ea(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Na(e).put(function(e){return{bundleId:e.id,createTime:Sa(Gs(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Oa(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:xa(e.bundledQuery),readTime:Ea(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Oa(e).put(function(e){return{name:e.name,readTime:Sa(Gs(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Na(e){return Rr(e,"bundles")}function Oa(e){return Rr(e,"namedQueries")}class Da{constructor(e,t){this.serializer=e,this.userId=t}static Pt(e,t){const n=t.uid||"";return new Da(e,n)}getOverlay(e,t){return Ma(e).get(Aa(this.userId,t)).next((e=>e?Ca(this.serializer,e):null))}getOverlays(e,t){const n=Co();return Fn.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new gs(t,i);r.push(this.Tt(e,o))})),Fn.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(er(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Ma(e).j("collectionPathOverlayIndex",r))})),Fn.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Co(),i=er(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Ma(e).U("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=Ca(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Co();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ma(e).J({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=Ca(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}Tt(e,t){return Ma(e).put(function(e,t,n){const[r,i,o]=Aa(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ia(e.ht,n.mutation)}}(this.serializer,this.userId,t))}}function Ma(e){return Rr(e,"documentOverlays")}class La{It(e){return Rr(e,"globals")}getSessionToken(e){return this.It(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?zr.fromUint8Array(t):zr.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.It(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Fa{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(Wr(e.integerValue));else if("doubleValue"in e){const n=Wr(e.doubleValue);isNaN(n)?this.Rt(t,13):(this.Rt(t,15),Xn(n)?t.Vt(0):t.Vt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Rt(t,20),"string"==typeof n&&(n=Hr(n)),t.ft("".concat(n.seconds||"")),t.Vt(n.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(Gr(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Rt(t,45),t.Vt(n.latitude||0),t.Vt(n.longitude||0)}else"mapValue"in e?vi(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):mi(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):Xt()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){const n=e.fields||{};this.Rt(t,55);for(const r of Object.keys(n))this.gt(r,t),this.dt(n[r],t)}bt(e,t){var n,r;const i=e.fields||{};this.Rt(t,53);const o="value",s=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(t,15),t.Vt(Wr(s)),this.gt(o,t),this.dt(i[o],t)}vt(e,t){const n=e.values||[];this.Rt(t,50);for(const r of n)this.dt(r,t)}St(e,t){this.Rt(t,37),kn.fromName(e).path.forEach((e=>{this.Rt(t,60),this.Ct(e,t)}))}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}function ja(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ua(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=ja(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Fa.Ft=new Fa;class Va{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Mt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.xt(n.value),n=t.next();this.Ot()}Nt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Lt(n.value),n=t.next();this.Bt()}kt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.xt(e);else if(e<2048)this.xt(960|e>>>6),this.xt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.xt(480|e>>>12),this.xt(128|63&e>>>6),this.xt(128|63&e);else{const e=t.codePointAt(0);this.xt(240|e>>>18),this.xt(128|63&e>>>12),this.xt(128|63&e>>>6),this.xt(128|63&e)}}this.Ot()}qt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Lt(e);else if(e<2048)this.Lt(960|e>>>6),this.Lt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Lt(480|e>>>12),this.Lt(128|63&e>>>6),this.Lt(128|63&e);else{const e=t.codePointAt(0);this.Lt(240|e>>>18),this.Lt(128|63&e>>>12),this.Lt(128|63&e>>>6),this.Lt(128|63&e)}}this.Bt()}Qt(e){const t=this.Kt(e),n=Ua(t);this.$t(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ut(e){const t=this.Kt(e),n=Ua(t);this.$t(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Wt(){this.Gt(255),this.Gt(255)}zt(){this.jt(255),this.jt(255)}reset(){this.position=0}seed(e){this.$t(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ht(){return this.buffer.slice(0,this.position)}Kt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}xt(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(t)}Lt(e){const t=255&e;0===t?(this.jt(0),this.jt(255)):255===t?(this.jt(255),this.jt(0)):this.jt(e)}Ot(){this.Gt(0),this.Gt(1)}Bt(){this.jt(0),this.jt(1)}Gt(e){this.$t(1),this.buffer[this.position++]=e}jt(e){this.$t(1),this.buffer[this.position++]=~e}$t(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Ba{constructor(e){this.Jt=e}wt(e){this.Jt.Mt(e)}ft(e){this.Jt.kt(e)}Vt(e){this.Jt.Qt(e)}At(){this.Jt.Wt()}}class za{constructor(e){this.Jt=e}wt(e){this.Jt.Nt(e)}ft(e){this.Jt.qt(e)}Vt(e){this.Jt.Ut(e)}At(){this.Jt.zt()}}class qa{constructor(){this.Jt=new Va,this.Yt=new Ba(this.Jt),this.Zt=new za(this.Jt)}seed(e){this.Jt.seed(e)}Xt(e){return 0===e?this.Yt:this.Zt}Ht(){return this.Jt.Ht()}reset(){this.Jt.reset()}}class Ha{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}en(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Ha(this.indexId,this.documentKey,this.arrayValue,n)}}function Wa(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Ga(e.arrayValue,t.arrayValue),0!==n?n:(n=Ga(e.directionalValue,t.directionalValue),0!==n?n:kn.comparator(e.documentKey,t.documentKey)))}function Ga(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Ka{constructor(e){this.tn=new Fr(((e,t)=>En.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.nn=e.orderBy,this.rn=[];for(const t of e.filters){const e=t;e.isInequality()?this.tn=this.tn.add(e):this.rn.push(e)}}get sn(){return this.tn.size>1}on(e){if(Zt(e.collectionGroup===this.collectionId),this.sn)return!1;const t=In(e);if(void 0!==t&&!this._n(t))return!1;const n=xn(e);let r=new Set,i=0,o=0;for(;i<n.length&&this._n(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.tn.size>0){const e=this.tn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.an(e,t)||!this.un(this.nn[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.nn.length||!this.un(this.nn[o++],e))return!1}return!0}cn(){if(this.sn)return null;let e=new Fr(En.comparator);const t=[];for(const n of this.rn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Cn(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Cn(n.field,0))}for(const n of this.nn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Cn(n.field,"asc"===n.dir?0:1)));return new Tn(Tn.UNKNOWN_ID,this.collectionId,t,An.empty())}_n(e){for(const t of this.rn)if(this.an(t,e))return!0;return!1}an(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}un(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Qa(e){var t,n;if(Zt(e instanceof Ni||e instanceof Oi),e instanceof Ni){if(e instanceof Ki){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Ni.create(e.field,"==",t))))||[];return Oi.create(r,"or")}return e}const r=e.filters.map((e=>Qa(e)));return Oi.create(r,e.op)}function Ya(e){if(0===e.getFilters().length)return[];const t=Za(Qa(e));return Zt(Xa(t)),$a(t)||Ja(t)?[t]:t.getFilters()}function $a(e){return e instanceof Ni}function Ja(e){return e instanceof Oi&&Li(e)}function Xa(e){return $a(e)||Ja(e)||function(e){if(e instanceof Oi&&Mi(e)){for(const t of e.getFilters())if(!$a(t)&&!Ja(t))return!1;return!0}return!1}(e)}function Za(e){if(Zt(e instanceof Ni||e instanceof Oi),e instanceof Ni)return e;if(1===e.filters.length)return Za(e.filters[0]);const t=e.filters.map((e=>Za(e)));let n=Oi.create(t,e.op);return n=nl(n),Xa(n)?n:(Zt(n instanceof Oi),Zt(Di(n)),Zt(n.filters.length>1),n.filters.reduce(((e,t)=>el(e,t))))}function el(e,t){let n;return Zt(e instanceof Ni||e instanceof Oi),Zt(t instanceof Ni||t instanceof Oi),n=e instanceof Ni?t instanceof Ni?function(e,t){return Oi.create([e,t],"and")}(e,t):tl(e,t):t instanceof Ni?tl(t,e):function(e,t){if(Zt(e.filters.length>0&&t.filters.length>0),Di(e)&&Di(t))return Vi(e,t.getFilters());const n=Mi(e)?e:t,r=Mi(e)?t:e,i=n.filters.map((e=>el(e,r)));return Oi.create(i,"or")}(e,t),nl(n)}function tl(e,t){if(Di(t))return Vi(t,e.getFilters());{const n=t.filters.map((t=>el(e,t)));return Oi.create(n,"or")}}function nl(e){if(Zt(e instanceof Ni||e instanceof Oi),e instanceof Ni)return e;const t=e.getFilters();if(1===t.length)return nl(t[0]);if(Fi(e))return e;const n=t.map((e=>nl(e))),r=[];return n.forEach((t=>{t instanceof Ni?r.push(t):t instanceof Oi&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Oi.create(r,e.op)}class rl{constructor(){this.ln=new il}addToCollectionParentIndex(e,t){return this.ln.add(t),Fn.resolve()}getCollectionParents(e,t){return Fn.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Fn.resolve()}deleteFieldIndex(e,t){return Fn.resolve()}deleteAllFieldIndexes(e){return Fn.resolve()}createTargetIndexes(e,t){return Fn.resolve()}getDocumentsMatchingTarget(e,t){return Fn.resolve(null)}getIndexType(e,t){return Fn.resolve(0)}getFieldIndexes(e,t){return Fn.resolve([])}getNextCollectionGroupToUpdate(e){return Fn.resolve(null)}getMinOffset(e,t){return Fn.resolve(Nn.min())}getMinOffsetFromCollectionGroup(e,t){return Fn.resolve(Nn.min())}updateCollectionGroup(e,t,n){return Fn.resolve()}updateIndexEntries(e,t){return Fn.resolve()}}class il{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Fr(_n.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Fr(_n.comparator)).toArray()}}const ol=new Uint8Array(0);class sl{constructor(e,t){this.databaseId=t,this.hn=new il,this.Pn=new So((e=>Xi(e)),((e,t)=>Zi(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.hn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.hn.add(t)}));const i={collectionId:n,parent:er(r)};return al(e).put(i)}return Fn.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[vn(t),""],!1,!0);return al(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(rr(r.parent))}return n}))}addFieldIndex(e,t){const n=cl(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=ul(e);return i.next((e=>{n.put(Ra(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=cl(e),r=ul(e),i=ll(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=cl(e),n=ll(e),r=ul(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return Fn.forEach(this.Tn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Ka(t).cn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=ll(e);let r=!0;const i=new Map;return Fn.forEach(this.Tn(t),(t=>this.In(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Oo();const r=[];return Fn.forEach(i,((i,o)=>{Qt("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Xi(t)));const s=function(e,t){const n=In(t);if(void 0===n)return null;for(const r of to(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of xn(t))for(const t of to(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of xn(t)){const t=0===i.kind?no(e,i.fieldPath,e.startAt):ro(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Ii(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of xn(t)){const t=0===i.kind?ro(e,i.fieldPath,e.endAt):no(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Ii(n,r)}(o,i),u=this.En(i,o,l),d=this.En(i,o,c),h=this.dn(i,o,a),f=this.An(i.indexId,s,u,l.inclusive,d,c.inclusive,h);return Fn.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=kn.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Fn.resolve(null)}))}Tn(e){let t=this.Pn.get(e);return t||(t=0===e.filters.length?[e]:Ya(Oi.create(e.filters,"and")).map((t=>Ji(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.Pn.set(e,t),t)}An(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.Rn(t[u/l]):ol,d=this.Vn(e,a,n[u%l],r),h=this.mn(e,a,i[u%l],o),f=s.map((t=>this.Vn(e,a,t,!0)));c.push(...this.createRange(d,h,f))}return c}Vn(e,t,n,r){const i=new Ha(e,kn.empty(),t,n);return r?i:i.en()}mn(e,t,n,r){const i=new Ha(e,kn.empty(),t,n);return r?i.en():i}In(e,t){const n=new Ka(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.on(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.Tn(t);return Fn.forEach(r,(t=>this.In(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Fr(En.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}fn(e,t){const n=new qa;for(const r of xn(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Xt(r.kind);Fa.Ft.Et(e,i)}return n.Ht()}Rn(e){const t=new qa;return Fa.Ft.Et(e,t.Xt(0)),t.Ht()}gn(e,t){const n=new qa;return Fa.Ft.Et(ci(this.databaseId,t),n.Xt(function(e){const t=xn(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ht()}dn(e,t,n){if(null===n)return[];let r=[];r.push(new qa);let i=0;for(const o of xn(e)){const e=n[i++];for(const n of r)if(this.pn(t,o.fieldPath)&&di(e))r=this.yn(r,o,e);else{const t=n.Xt(o.kind);Fa.Ft.Et(e,t)}}return this.wn(r)}En(e,t,n){return this.dn(e,t,n.position)}wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ht();return t}yn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new qa;n.seed(e.Ht()),Fa.Ft.Et(o,n.Xt(t.kind)),i.push(n)}return i}pn(e,t){return!!e.filters.find((e=>e instanceof Ni&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=cl(e),r=ul(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return Fn.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new An(t.sequenceNumber,new Nn(Ea(t.readTime),new kn(rr(t.documentKey)),t.largestBatchId)):An.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Cn(En.fromServerFormat(t),n)}));return new Tn(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:mn(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=cl(e),i=ul(e);return this.Sn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Fn.forEach(t,(t=>i.put(Ra(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Fn.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Fn.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Fn.forEach(i,(n=>this.bn(e,t,n).next((t=>{const i=this.Dn(r,n);return t.isEqual(i)?Fn.resolve():this.vn(e,r,n,t,i)})))))))}))}Cn(e,t,n,r){return ll(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Fn(e,t,n,r){return ll(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}bn(e,t,n){const r=ll(e);let i=new Fr(Wa);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new Ha(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Dn(e,t){let n=new Fr(Wa);const r=this.fn(t,e);if(null==r)return n;const i=In(t);if(null!=i){const o=e.data.field(i.fieldPath);if(di(o))for(const i of o.arrayValue.values||[])n=n.add(new Ha(t.indexId,e.key,this.Rn(i),r))}else n=n.add(new Ha(t.indexId,e.key,ol,r));return n}vn(e,t,n,r,i){Qt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Ur(o),l=Ur(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Ur(s)):t?(i(a),a=Ur(o)):(a=Ur(o),l=Ur(s))}}(r,i,Wa,(r=>{o.push(this.Cn(e,t,n,r))}),(r=>{o.push(this.Fn(e,t,n,r))})),Fn.waitFor(o)}Sn(e){let t=1;return ul(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Wa(e,t))).filter(((e,t,n)=>!t||0!==Wa(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Wa(o,e),i=Wa(o,t);if(0===n)r[0]=e.en();else if(n>0&&i<0)r.push(o),r.push(o.en());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Mn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,ol,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,ol,[]];i.push(IDBKeyRange.bound(e,t))}return i}Mn(e,t){return Wa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(dl)}getMinOffset(e,t){return Fn.mapArray(this.Tn(t),(t=>this.In(e,t).next((e=>e||Xt())))).next(dl)}}function al(e){return Rr(e,"collectionParents")}function ll(e){return Rr(e,"indexEntries")}function cl(e){return Rr(e,"indexConfiguration")}function ul(e){return Rr(e,"indexState")}function dl(e){Zt(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;On(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Nn(t.readTime,t.documentKey,n)}const hl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fl{static withCacheSize(e){return new fl(e,fl.DEFAULT_COLLECTION_PERCENTILE,fl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function pl(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{Zt(1===a)})));const c=[];for(const u of n.mutations){const e=sr(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return Fn.waitFor(o).next((()=>c))}function ml(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Xt();t=e.noDocument}return JSON.stringify(t).length}fl.DEFAULT_COLLECTION_PERCENTILE=10,fl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fl.DEFAULT=new fl(41943040,fl.DEFAULT_COLLECTION_PERCENTILE,fl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fl.DISABLED=new fl(-1,0,0);class gl{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.xn={}}static Pt(e,t,n,r){Zt(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new gl(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yl(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=bl(e),o=yl(e);return o.add({}).next((s=>{Zt("number"==typeof s);const a=new ps(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>ia(e.ht,t))),i=n.mutations.map((t=>ia(e.ht,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new Fr(((e,t)=>mn(e.canonicalString(),t.canonicalString())));for(const e of r){const t=sr(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,ar))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.xn[s]=a.keys()})),Fn.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return yl(e).get(t).next((e=>e?(Zt(e.userId===this.userId),ka(this.serializer,e)):null))}On(e,t){return this.xn[t]?Fn.resolve(this.xn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.xn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return yl(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Zt(t.batchId>=n),i=ka(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return yl(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yl(e).U("userMutationsIndex",t).next((e=>e.map((e=>ka(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=or(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return bl(e).J({range:r},((n,r,o)=>{const[s,a,l]=n,c=rr(a);if(s===this.userId&&t.path.isEqual(c))return yl(e).get(l).next((e=>{if(!e)throw Xt();Zt(e.userId===this.userId),i.push(ka(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Fr(mn);const r=[];return t.forEach((t=>{const i=or(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=bl(e).J({range:o},((e,r,i)=>{const[o,s,a]=e,l=rr(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),Fn.waitFor(r).next((()=>this.Nn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=or(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Fr(mn);return bl(e).J({range:o},((e,t,i)=>{const[o,a,l]=e,c=rr(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()})).next((()=>this.Nn(e,s)))}Nn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(yl(e).get(t).next((e=>{if(null===e)throw Xt();Zt(e.userId===this.userId),n.push(ka(this.serializer,e))})))})),Fn.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return pl(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Ln(t.batchId)})),Fn.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Ln(e){delete this.xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Fn.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return bl(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=rr(e[1]);r.push(t)}else n.done()})).next((()=>{Zt(0===r.length)}))}))}containsKey(e,t){return vl(e,this.userId,t)}Bn(e){return wl(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function vl(e,t,n){const r=or(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return bl(e).J({range:o,H:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function yl(e){return Rr(e,"mutations")}function bl(e){return Rr(e,"documentMutations")}function wl(e){return Rr(e,"mutationQueues")}class _l{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new _l(0)}static Qn(){return new _l(-1)}}class Sl{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Kn(e).next((t=>{const n=new _l(t.highestTargetId);return t.highestTargetId=n.next(),this.$n(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Kn(e).next((e=>bn.fromTimestamp(new yn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Kn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Kn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.$n(e,r))))}addTargetData(e,t){return this.Un(e,t).next((()=>this.Kn(e).next((n=>(n.targetCount+=1,this.Wn(t,n),this.$n(e,n))))))}updateTargetData(e,t){return this.Un(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>El(e).delete(t.targetId))).next((()=>this.Kn(e))).next((t=>(Zt(t.targetCount>0),t.targetCount-=1,this.$n(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return El(e).J(((o,s)=>{const a=Ta(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Fn.waitFor(i))).next((()=>r))}forEachTarget(e,t){return El(e).J(((e,n)=>{const r=Ta(n);t(r)}))}Kn(e){return kl(e).get("targetGlobalKey").next((e=>(Zt(null!==e),e)))}$n(e,t){return kl(e).put("targetGlobalKey",t)}Un(e,t){return El(e).put(Ia(this.serializer,t))}Wn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Kn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Xi(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return El(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=Ta(n);Zi(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Tl(e);return t.forEach((t=>{const o=er(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Fn.waitFor(r)}removeMatchingKeys(e,t,n){const r=Tl(e);return Fn.forEach(t,(t=>{const i=er(t.path);return Fn.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Tl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Tl(e);let i=Oo();return r.J({range:n,H:!0},((e,t,n)=>{const r=rr(e[1]),o=new kn(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=er(t.path),r=IDBKeyRange.bound([n],[vn(n)],!1,!0);let i=0;return Tl(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ut(e,t){return El(e).get(t).next((e=>e?Ta(e):null))}}function El(e){return Rr(e,"targets")}function kl(e){return Rr(e,"targetGlobal")}function Tl(e){return Rr(e,"targetDocuments")}function Il(e,t){let[n,r]=e,[i,o]=t;const s=mn(n,i);return 0===s?mn(r,o):s}class xl{constructor(e){this.Gn=e,this.buffer=new Fr(Il),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Il(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Cl{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(e){Qt("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){qn(e)?Qt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Ln(e)}await this.Yn(3e5)}))}}class Al{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Fn.resolve($n.oe);const n=new xl(t);return this.Zn.forEachTarget(e,(e=>n.Hn(e.sequenceNumber))).next((()=>this.Zn.er(e,(e=>n.Hn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector","Garbage collection skipped; disabled"),Fn.resolve(hl)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),hl):this.tr(e,t)))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Qt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Kt()<=$.DEBUG&&Qt("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Fn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Rl(e,t){return new Al(e,t)}class Pl{constructor(e,t){this.db=e,this.garbageCollector=Rl(this,t)}Xn(e){const t=this.nr(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}er(e,t){return this.rr(e,((e,n)=>t(n)))}addReference(e,t,n){return Nl(e,n)}removeReference(e,t,n){return Nl(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Nl(e,t)}ir(e,t){return function(e,t){let n=!1;return wl(e).Y((r=>vl(e,r,t).next((e=>(e&&(n=!0),Fn.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.rr(e,((o,s)=>{if(s<=t){const t=this.ir(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,bn.min()),Tl(e).delete(function(e){return[0,er(e.path)]}(o)))))}));r.push(t)}})).next((()=>Fn.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Nl(e,t)}rr(e,t){const n=Tl(e);let r,i=$n.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==$n.oe&&t(new kn(rr(r)),i),i=l,r=a):i=$n.oe})).next((()=>{i!==$n.oe&&t(new kn(rr(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nl(e,t){return Tl(e).put(function(e,t){return{targetId:0,path:er(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Ol{constructor(){this.changes=new So((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ti.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Fn.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dl{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return jl(e).put(n)}removeEntry(e,t,n){return jl(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],_a(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.sr(e,n))))}getEntry(e,t){let n=Ti.newInvalidDocument(t);return jl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ul(t))},((e,r)=>{n=this._r(t,r)})).next((()=>n))}ar(e,t){let n={size:0,document:Ti.newInvalidDocument(t)};return jl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ul(t))},((e,r)=>{n={document:this._r(t,r),size:ml(r)}})).next((()=>n))}getEntries(e,t){let n=ko();return this.ur(e,t,((e,t)=>{const r=this._r(e,t);n=n.insert(e,r)})).next((()=>n))}cr(e,t){let n=ko(),r=new Dr(kn.comparator);return this.ur(e,t,((e,t)=>{const i=this._r(e,t);n=n.insert(e,i),r=r.insert(e,ml(t))})).next((()=>({documents:n,lr:r})))}ur(e,t,n){if(t.isEmpty())return Fn.resolve();let r=new Fr(Bl);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Ul(r.first()),Ul(r.last())),o=r.getIterator();let s=o.getNext();return jl(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=kn.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&Bl(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.$(Ul(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),_a(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jl(e).U(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=ko();for(const i of e){const e=this._r(kn.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(yo(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=ko();const o=Vl(t,n),s=Vl(t,Nn.max());return jl(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this._r(kn.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Ll(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Fl(e).get("remoteDocumentGlobalKey").next((e=>(Zt(!!e),e)))}sr(e,t){return Fl(e).put("remoteDocumentGlobalKey",t)}_r(e,t){if(t){const e=function(e,t){let n;if(t.document)n=ra(e.ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=kn.fromSegments(t.noDocument.path),r=Ea(t.noDocument.readTime);n=Ti.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Xt();{const e=kn.fromSegments(t.unknownDocument.path),r=Ea(t.unknownDocument.version);n=Ti.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new yn(e[0],e[1]);return bn.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(bn.min()))return e}return Ti.newInvalidDocument(e)}}function Ml(e){return new Dl(e)}class Ll extends Ol{constructor(e,t){super(),this.hr=e,this.trackRemovals=t,this.Pr=new So((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Fr(((e,t)=>mn(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.Pr.get(i);if(t.push(this.hr.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=wa(this.hr.serializer,o);r=r.add(i.path.popLast());const l=ml(a);n+=l-s.size,t.push(this.hr.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=wa(this.hr.serializer,o.convertToNoDocument(bn.min()));t.push(this.hr.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.hr.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.hr.updateMetadata(e,n)),Fn.waitFor(t)}getFromCache(e,t){return this.hr.ar(e,t).next((e=>(this.Pr.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.hr.cr(e,t).next((e=>{let{documents:t,lr:n}=e;return n.forEach(((e,n)=>{this.Pr.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Fl(e){return Rr(e,"remoteDocumentGlobal")}function jl(e){return Rr(e,"remoteDocumentsV14")}function Ul(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Vl(e,t){const n=t.documentKey.path.toArray();return[e,_a(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Bl(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=mn(n[o],r[o]),i)return i;return i=mn(n.length,r.length),i||(i=mn(n[n.length-2],r[r.length-2]),i||mn(n[n.length-1],r[r.length-1]))}class zl{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ql{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&is(n.mutation,e,Vr.empty(),yn.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Oo()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oo();const r=Co();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Io();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Co();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Oo())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=ko();const o=Ro(),s=Ro();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof ls)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),is(s.mutation,t,s.mutation.getFieldMask(),yn.now())):o.set(t.key,Vr.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new zl(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Ro();let r=new Dr(((e,t)=>e-t)),i=Oo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Vr.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Oo()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=Ao();l.forEach((e=>{if(!i.has(e)){const r=ns(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Fn.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return kn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Fn.resolve(Co());let s=-1,a=i;return o.next((t=>Fn.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Fn.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Oo()))).next((e=>({batchId:s,changes:xo(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new kn(t)).next((e=>{let t=Io();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Io();return this.indexManager.getCollectionParents(e,i).next((s=>Fn.forEach(s,(s=>{const a=function(e,t){return new io(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ti.newInvalidDocument(r)))}));let n=Io();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&is(o.mutation,r,Vr.empty(),yn.now()),yo(t,r)&&(n=n.insert(e,r))})),n}))}}class Hl{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Fn.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Gs(e.createTime)}}(t)),Fn.resolve()}getNamedQuery(e,t){return Fn.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(e){return{name:e.name,query:xa(e.bundledQuery),readTime:Gs(e.readTime)}}(t)),Fn.resolve()}}class Wl{constructor(){this.overlays=new Dr(kn.comparator),this.Er=new Map}getOverlay(e,t){return Fn.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Co();return Fn.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Tt(e,t,r)})),Fn.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Er.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Er.delete(n)),Fn.resolve()}getOverlaysForCollection(e,t,n){const r=Co(),i=t.length+1,o=new kn(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Fn.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Dr(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Co(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Co(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Fn.resolve(s)}Tt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Er.get(r.largestBatchId).delete(n.key);this.Er.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new gs(t,n));let i=this.Er.get(t);void 0===i&&(i=Oo(),this.Er.set(t,i)),this.Er.set(t,i.add(n.key))}}class Gl{constructor(){this.sessionToken=zr.EMPTY_BYTE_STRING}getSessionToken(e){return Fn.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Fn.resolve()}}class Kl{constructor(){this.dr=new Fr(Ql.Ar),this.Rr=new Fr(Ql.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const n=new Ql(e,t);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.gr(new Ql(e,t))}pr(e,t){e.forEach((e=>this.removeReference(e,t)))}yr(e){const t=new kn(new _n([])),n=new Ql(t,e),r=new Ql(t,e+1),i=[];return this.Rr.forEachInRange([n,r],(e=>{this.gr(e),i.push(e.key)})),i}wr(){this.dr.forEach((e=>this.gr(e)))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new kn(new _n([])),n=new Ql(t,e),r=new Ql(t,e+1);let i=Oo();return this.Rr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Ql(e,0),n=this.dr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ql{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return kn.comparator(e.key,t.key)||mn(e.br,t.br)}static Vr(e,t){return mn(e.br,t.br)||kn.comparator(e.key,t.key)}}class Yl{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Fr(Ql.Ar)}checkEmpty(e){return Fn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ps(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.vr=this.vr.add(new Ql(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Fn.resolve(o)}lookupMutationBatch(e,t){return Fn.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Fr(n),i=r<0?0:r;return Fn.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Fn.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(e){return Fn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ql(t,0),r=new Ql(t,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([n,r],(e=>{const t=this.Cr(e.br);i.push(t)})),Fn.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Fr(mn);return t.forEach((e=>{const t=new Ql(e,0),r=new Ql(e,Number.POSITIVE_INFINITY);this.vr.forEachInRange([t,r],(e=>{n=n.add(e.br)}))})),Fn.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;kn.isDocumentKey(i)||(i=i.child(""));const o=new Ql(new kn(i),0);let s=new Fr(mn);return this.vr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.br)),!0)}),o),Fn.resolve(this.Mr(s))}Mr(e){const t=[];return e.forEach((e=>{const n=this.Cr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Zt(0===this.Or(t.batchId,"removed")),this.mutationQueue.shift();let n=this.vr;return Fn.forEach(t.mutations,(r=>{const i=new Ql(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.vr=n}))}Ln(e){}containsKey(e,t){const n=new Ql(t,0),r=this.vr.firstAfterOrEqual(n);return Fn.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Fn.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $l{constructor(e){this.Nr=e,this.docs=new Dr(kn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Fn.resolve(n?n.document.mutableCopy():Ti.newInvalidDocument(t))}getEntries(e,t){let n=ko();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ti.newInvalidDocument(e))})),Fn.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ko();const o=t.path,s=new kn(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||On(Pn(s),n)<=0||(r.has(s.key)||yo(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Fn.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Xt()}Lr(e,t){return Fn.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Jl(this)}getSize(e){return Fn.resolve(this.size)}}class Jl extends Ol{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.hr.addEntry(e,r)):this.hr.removeEntry(n)})),Fn.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}class Xl{constructor(e){this.persistence=e,this.Br=new So((e=>Xi(e)),Zi),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.kr=0,this.qr=new Kl,this.targetCount=0,this.Qr=_l.qn()}forEachTarget(e,t){return this.Br.forEach(((e,n)=>t(n))),Fn.resolve()}getLastRemoteSnapshotVersion(e){return Fn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fn.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Fn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),Fn.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new _l(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Fn.resolve()}updateTargetData(e,t){return this.Un(t),Fn.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Fn.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Br.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Br.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Fn.waitFor(i).next((()=>r))}getTargetCount(e){return Fn.resolve(this.targetCount)}getTargetData(e,t){const n=this.Br.get(t)||null;return Fn.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),Fn.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Fn.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Fn.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return Fn.resolve(n)}containsKey(e,t){return Fn.resolve(this.qr.containsKey(t))}}class Zl{constructor(e,t){this.Kr={},this.overlays={},this.$r=new $n(0),this.Ur=!1,this.Ur=!0,this.Wr=new Gl,this.referenceDelegate=e(this),this.Gr=new Xl(this),this.indexManager=new rl,this.remoteDocumentCache=function(e){return new $l(e)}((e=>this.referenceDelegate.zr(e))),this.serializer=new ba(t),this.jr=new Hl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Wl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new Yl(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){Qt("MemoryPersistence","Starting transaction:",e);const r=new ec(this.$r.next());return this.referenceDelegate.Hr(),n(r).next((e=>this.referenceDelegate.Jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Yr(e,t){return Fn.or(Object.values(this.Kr).map((n=>()=>n.containsKey(e,t))))}}class ec extends Mn{constructor(e){super(),this.currentSequenceNumber=e}}class tc{constructor(e){this.persistence=e,this.Zr=new Kl,this.Xr=null}static ei(e){return new tc(e)}get ti(){if(this.Xr)return this.Xr;throw Xt()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),Fn.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),Fn.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Fn.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach((e=>this.ti.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ti.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fn.forEach(this.ti,(n=>{const r=kn.fromPath(n);return this.ni(e,r).next((e=>{e||t.removeEntry(r,bn.min())}))})).next((()=>(this.Xr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ni(e,t).next((e=>{e?this.ti.delete(t.toString()):this.ti.add(t.toString())}))}zr(e){return 0}ni(e,t){return Fn.or([()=>Fn.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class nc{constructor(e,t){this.persistence=e,this.ri=new So((e=>er(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Rl(this,t)}static ei(e,t){return new nc(e,t)}Hr(){}Jr(e){return Fn.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}er(e,t){return Fn.forEach(this.ri,((n,r)=>this.ir(e,n,r).next((e=>e?Fn.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Lr(e,(r=>this.ir(e,r,t).next((e=>{e||(n++,i.removeEntry(r,bn.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Fn.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),Fn.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),Fn.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Fn.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=li(e.data.value)),t}ir(e,t,n){return Fn.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.ri.get(t);return Fn.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class rc{constructor(e){this.serializer=e}O(e,t,n,r){const i=new jn("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ir,{unique:!0}),e.createObjectStore("documentMutations")}(e),ic(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Fn.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ic(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bn.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ir,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Fn.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.ii(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.si(i))))),n<7&&r>=7&&(o=o.next((()=>this.oi(i)))),n<8&&r>=8&&(o=o.next((()=>this._i(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ai(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:br});t.createIndex("collectionPathOverlayIndex",wr,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",_r,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:lr});t.createIndex("documentKeyIndex",cr),t.createIndex("collectionGroupIndex",ur)}(e))).next((()=>this.ui(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ci(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:mr}).createIndex("sequenceNumberIndex",gr,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:vr}).createIndex("documentKeyIndex",yr,{unique:!1})}(e)))),n<16&&r>=16&&(o=o.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),n<17&&r>=17&&(o=o.next((()=>{!function(e){e.createObjectStore("globals",{keyPath:"name"})}(e)}))),o}si(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=ml(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ii(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>Fn.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>Fn.forEach(n,(n=>{Zt(n.userId===t.userId);const r=ka(this.serializer,n);return pl(e,t.userId,r).next((()=>{}))}))))}))))}oi(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const o=new _n(n),s=function(e){return[0,er(e)]}(o);r.push(t.get(s).next((n=>n?Fn.resolve():(n=>t.put({targetId:0,path:er(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Fn.waitFor(r)))}))}_i(e,t){e.createObjectStore("collectionParents",{keyPath:pr});const n=t.store("collectionParents"),r=new il,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:er(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new _n(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,o]=e;const s=rr(r);return i(s.popLast())}))))}ai(e){const t=e.store("targets");return t.J(((e,n)=>{const r=Ta(n),i=Ia(this.serializer,r);return t.put(i)}))}ui(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new kn(_n.fromString(e.document.name).popFirst(5)):e.noDocument?kn.fromSegments(e.noDocument.path):e.unknownDocument?kn.fromSegments(e.unknownDocument.path):Xt()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>Fn.waitFor(r)))}ci(e,t){const n=t.store("mutations"),r=Ml(this.serializer),i=new Zl(tc.ei,this.serializer.ht);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Oo();ka(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Fn.forEach(n,((e,n)=>{const o=new Ht(n),s=Da.Pt(this.serializer,o),a=i.getIndexManager(o),l=gl.Pt(o,this.serializer,a,i.referenceDelegate);return new ql(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Ar(t,$n.oe),e).next()}))}))}}function ic(e){e.createObjectStore("targetDocuments",{keyPath:hr}).createIndex("documentTargetsIndex",fr,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",dr,{unique:!0}),e.createObjectStore("targetGlobal")}const oc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sc{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.li=i,this.window=o,this.document=s,this.hi=l,this.Pi=c,this.Ti=u,this.$r=null,this.Ur=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ii=null,this.inForeground=!1,this.Ei=null,this.di=null,this.Ai=Number.NEGATIVE_INFINITY,this.Ri=e=>Promise.resolve(),!sc.p())throw new nn(tn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Pl(this,r),this.Vi=t+"main",this.serializer=new ba(a),this.mi=new Un(this.Vi,this.Ti,new rc(this.serializer)),this.Wr=new La,this.Gr=new Sl(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ml(this.serializer),this.jr=new Pa,this.window&&this.window.localStorage?this.fi=this.window.localStorage:(this.fi=null,!1===c&&Yt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new nn(tn.FAILED_PRECONDITION,oc);return this.pi(),this.yi(),this.wi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Gr.getHighestSequenceNumber(e)))})).then((e=>{this.$r=new $n(e,this.hi)})).then((()=>{this.Ur=!0})).catch((e=>(this.mi&&this.mi.close(),Promise.reject(e))))}Si(e){return this.Ri=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.mi.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.li.enqueueAndForget((async()=>{this.started&&await this.gi()})))}gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>lc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.bi(e).next((e=>{e||(this.isPrimary=!1,this.li.enqueueRetryable((()=>this.Ri(!1))))}))})).next((()=>this.Di(e))).next((t=>this.isPrimary&&!t?this.vi(e).next((()=>!1)):!!t&&this.Ci(e).next((()=>!0)))))).catch((e=>{if(qn(e))return Qt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.li.enqueueRetryable((()=>this.Ri(e))),this.isPrimary=e}))}bi(e){return ac(e).get("owner").next((e=>Fn.resolve(this.Fi(e))))}Mi(e){return lc(e).delete(this.clientId)}async xi(){if(this.isPrimary&&!this.Oi(this.Ai,18e5)){this.Ai=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Rr(e,"clientMetadata");return t.U().next((e=>{const n=this.Ni(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Fn.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.fi)for(const t of e)this.fi.removeItem(this.Li(t.clientId))}}wi(){this.di=this.li.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.gi().then((()=>this.xi())).then((()=>this.wi()))))}Fi(e){return!!e&&e.ownerId===this.clientId}Di(e){return this.Pi?Fn.resolve(!0):ac(e).get("owner").next((t=>{if(null!==t&&this.Oi(t.leaseTimestampMs,5e3)&&!this.Bi(t.ownerId)){if(this.Fi(t)&&this.networkEnabled)return!0;if(!this.Fi(t)){if(!t.allowTabSynchronization)throw new nn(tn.FAILED_PRECONDITION,oc);return!1}}return!(!this.networkEnabled||!this.inForeground)||lc(e).U().next((e=>void 0===this.Ni(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Qt("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Ur=!1,this.ki(),this.di&&(this.di.cancel(),this.di=null),this.qi(),this.Qi(),await this.mi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Ar(e,$n.oe);return this.vi(t).next((()=>this.Mi(t)))})),this.mi.close(),this.Ki()}Ni(e,t){return e.filter((e=>this.Oi(e.updateTimeMs,t)&&!this.Bi(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>lc(e).U().next((e=>this.Ni(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ur}getGlobalsCache(){return this.Wr}getMutationQueue(e,t){return gl.Pt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new sl(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return Da.Pt(this.serializer,e)}getBundleCache(){return this.jr}runTransaction(e,t,n){Qt("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?Cr:16===e?xr:15===e?Ir:14===e?Tr:13===e?kr:12===e?Er:11===e?Sr:void Xt()}(this.Ti);let o;return this.mi.runTransaction(e,r,i,(r=>(o=new Ar(r,this.$r?this.$r.next():$n.oe),"readwrite-primary"===t?this.bi(o).next((e=>!!e||this.Di(o))).next((t=>{if(!t)throw Yt("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.li.enqueueRetryable((()=>this.Ri(!1))),new nn(tn.FAILED_PRECONDITION,Dn);return n(o)})).next((e=>this.Ci(o).next((()=>e)))):this.Ui(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Ui(e){return ac(e).get("owner").next((e=>{if(null!==e&&this.Oi(e.leaseTimestampMs,5e3)&&!this.Bi(e.ownerId)&&!this.Fi(e)&&!(this.Pi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new nn(tn.FAILED_PRECONDITION,oc)}))}Ci(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ac(e).put("owner",t)}static p(){return Un.p()}vi(e){const t=ac(e);return t.get("owner").next((e=>this.Fi(e)?(Qt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Fn.resolve()))}Oi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Yt("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}pi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ei=()=>{this.li.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.gi())))},this.document.addEventListener("visibilitychange",this.Ei),this.inForeground="visible"===this.document.visibilityState)}qi(){this.Ei&&(this.document.removeEventListener("visibilitychange",this.Ei),this.Ei=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ii=()=>{this.ki();const e=/(?:Version|Mobile)\/1[456]/;A()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.li.enterRestrictedMode(!0),this.li.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ii))}Qi(){this.Ii&&(this.window.removeEventListener("pagehide",this.Ii),this.Ii=null)}Bi(e){var t;try{const n=null!==(null===(t=this.fi)||void 0===t?void 0:t.getItem(this.Li(e)));return Qt("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Yt("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}ki(){if(this.fi)try{this.fi.setItem(this.Li(this.clientId),String(Date.now()))}catch(e){Yt("Failed to set zombie client id.",e)}}Ki(){if(this.fi)try{this.fi.removeItem(this.Li(this.clientId))}catch(e){}}Li(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function ac(e){return Rr(e,"owner")}function lc(e){return Rr(e,"clientMetadata")}function cc(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class uc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=r}static zi(e,t){let n=Oo(),r=Oo();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new uc(e,t.fromCache,n,r)}}class dc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hc{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=A()?8:Vn(E())>0?6:4}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Xi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.es(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new dc;return this.ts(e,t,n).next((r=>{if(i.result=r,this.Hi)return this.ns(e,t,n,r.size)}))})).next((()=>i.result))}ns(e,t,n,r){return n.documentReadCount<this.Ji?(Kt()<=$.DEBUG&&Qt("QueryEngine","SDK will not create cache indexes for query:",vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Fn.resolve()):(Kt()<=$.DEBUG&&Qt("QueryEngine","Query:",vo(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(Kt()<=$.DEBUG&&Qt("QueryEngine","The SDK decides to create cache indexes for query:",vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,uo(t))):Fn.resolve())}Xi(e,t){if(ao(t))return Fn.resolve(null);let n=uo(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=po(t,null,"F"),n=uo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Oo(...r);return this.Zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.rs(t,r);return this.ss(t,o,i,n.readTime)?this.Xi(e,po(t,null,"F")):this.os(e,o,t,n)}))))})))))}es(e,t,n,r){return ao(t)||r.isEqual(bn.min())?Fn.resolve(null):this.Zi.getDocuments(e,n).next((i=>{const o=this.rs(t,i);return this.ss(t,o,n,r)?Fn.resolve(null):(Kt()<=$.DEBUG&&Qt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vo(t)),this.os(e,o,t,Rn(r,-1)).next((e=>e)))}))}rs(e,t){let n=new Fr(wo(e));return t.forEach(((t,r)=>{yo(e,r)&&(n=n.add(r))})),n}ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ts(e,t,n){return Kt()<=$.DEBUG&&Qt("QueryEngine","Using full collection scan to execute query:",vo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Nn.min(),n)}os(e,t,n,r){return this.Zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class fc{constructor(e,t,n,r){this.persistence=e,this._s=t,this.serializer=r,this.us=new Dr(mn),this.cs=new So((e=>Xi(e)),Zi),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ql(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.us)))}}function pc(e,t,n,r){return new fc(e,t,n,r)}async function mc(e,t){const n=en(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ps(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Oo();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Ts:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function gc(e){const t=en(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Gr.getLastRemoteSnapshotVersion(e)))}function vc(e,t,n){let r=Oo(),i=Oo();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ko();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(bn.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Qt("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{Is:r,Es:i}}))}function yc(e,t){const n=en(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function bc(e,t){const n=en(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Gr.getTargetData(e,t).next((i=>i?(r=i,Fn.resolve(r)):n.Gr.allocateTargetId(e).next((i=>(r=new ya(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Gr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.us.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.us=n.us.insert(e.targetId,e),n.cs.set(t,e.targetId)),e}))}async function wc(e,t,n){const r=en(e),i=r.us.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!qn(e))throw e;Qt("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.us=r.us.remove(t),r.cs.delete(i.target)}function _c(e,t,n){const r=en(e);let i=bn.min(),o=Oo();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=en(e),i=r.cs.get(n);return void 0!==i?Fn.resolve(r.us.get(i)):r.Gr.getTargetData(t,n)}(r,e,uo(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r._s.getDocumentsMatchingQuery(e,t,n?i:bn.min(),n?o:Oo()))).next((e=>(kc(r,bo(t),e),{documents:e,ds:o})))))}function Sc(e,t){const n=en(e),r=en(n.Gr),i=n.us.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ut(e,t).next((e=>e?e.target:null))))}function Ec(e,t){const n=en(e),r=n.ls.get(t)||bn.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.hs.getAllFromCollectionGroup(e,t,Rn(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(kc(n,t,e),e)))}function kc(e,t,n){let r=e.ls.get(t)||bn.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ls.set(t,r)}async function Tc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oo();const r=await bc(e,uo(xa(t.bundledQuery))),i=en(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Gs(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.jr.saveNamedQuery(e,t);const s=r.withResumeToken(zr.EMPTY_BYTE_STRING,o);return i.us=i.us.insert(s.targetId,s),i.Gr.updateTargetData(e,s).next((()=>i.Gr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Gr.addMatchingKeys(e,n,r.targetId))).next((()=>i.jr.saveNamedQuery(e,t)))}))}function Ic(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function xc(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Cc(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Ac{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static fs(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new nn(r.error.code,r.error.message))),o?new Ac(e,t,r.state,i):(Yt("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rc{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static fs(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new nn(n.error.code,n.error.message))),i?new Rc(e,n.state,r):(Yt("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Pc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static fs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Mo();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Zn(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Pc(e,i):(Yt("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Nc{constructor(e,t){this.clientId=e,this.onlineState=t}static fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Nc(t.clientId,t.onlineState):(Yt("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Oc{constructor(){this.activeTargetIds=Mo()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dc{constructor(e,t,n,r,i){this.window=e,this.li=t,this.persistenceKey=n,this.ws=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ss=this.bs.bind(this),this.Ds=new Dr(mn),this.started=!1,this.vs=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Cs=Ic(this.persistenceKey,this.ws),this.Fs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ds=this.Ds.insert(this.ws,new Oc),this.Ms=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.xs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Os=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ns=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ls=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Ss)}static p(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.ws)continue;const e=this.getItem(Ic(this.persistenceKey,n));if(e){const t=Pc.fs(n,e);t&&(this.Ds=this.Ds.insert(t.clientId,t))}}this.Bs();const t=this.storage.getItem(this.Ns);if(t){const e=this.ks(t);e&&this.qs(e)}for(const n of this.vs)this.bs(n);this.vs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Fs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Qs(this.Ds)}isActiveQueryTarget(e){let t=!1;return this.Ds.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ks(e,"pending")}updateMutationState(e,t,n){this.Ks(e,t,n),this.$s(e)}addLocalQueryTarget(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(Cc(this.persistenceKey,e));if(t){const r=Rc.fs(e,t);r&&(n=r.state)}}return t&&this.Us.ps(e),this.Bs(),n}removeLocalQueryTarget(e){this.Us.ys(e),this.Bs()}isLocalQueryTarget(e){return this.Us.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Cc(this.persistenceKey,e))}updateQueryState(e,t,n){this.Ws(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.$s(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Gs(e)}notifyBundleLoaded(e){this.zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ss),this.removeItem(this.Cs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Qt("SharedClientState","READ",e,t),t}setItem(e,t){Qt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Qt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}bs(e){const t=e;if(t.storageArea===this.storage){if(Qt("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Cs)return void Yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.li.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ms.test(t.key)){if(null==t.newValue){const e=this.js(t.key);return this.Hs(e,null)}{const e=this.Js(t.key,t.newValue);if(e)return this.Hs(e.clientId,e)}}else if(this.xs.test(t.key)){if(null!==t.newValue){const e=this.Ys(t.key,t.newValue);if(e)return this.Zs(e)}}else if(this.Os.test(t.key)){if(null!==t.newValue){const e=this.Xs(t.key,t.newValue);if(e)return this.eo(e)}}else if(t.key===this.Ns){if(null!==t.newValue){const e=this.ks(t.newValue);if(e)return this.qs(e)}}else if(t.key===this.Fs){const e=function(e){let t=$n.oe;if(null!=e)try{const n=JSON.parse(e);Zt("number"==typeof n),t=n}catch(e){Yt("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==$n.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.Ls){const e=this.no(t.newValue);await Promise.all(e.map((e=>this.syncEngine.ro(e))))}}else this.vs.push(t)}))}}get Us(){return this.Ds.get(this.ws)}Bs(){this.setItem(this.Cs,this.Us.gs())}Ks(e,t,n){const r=new Ac(this.currentUser,e,t,n),i=xc(this.persistenceKey,this.currentUser,e);this.setItem(i,r.gs())}$s(e){const t=xc(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Gs(e){const t={clientId:this.ws,onlineState:e};this.storage.setItem(this.Ns,JSON.stringify(t))}Ws(e,t,n){const r=Cc(this.persistenceKey,e),i=new Rc(e,t,n);this.setItem(r,i.gs())}zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Ls,t)}js(e){const t=this.Ms.exec(e);return t?t[1]:null}Js(e,t){const n=this.js(e);return Pc.fs(n,t)}Ys(e,t){const n=this.xs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ac.fs(new Ht(i),r,t)}Xs(e,t){const n=this.Os.exec(e),r=Number(n[1]);return Rc.fs(r,t)}ks(e){return Nc.fs(e)}no(e){return JSON.parse(e)}async Zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.io(e.batchId,e.state,e.error);Qt("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}eo(e){return this.syncEngine.so(e.targetId,e.state,e.error)}Hs(e,t){const n=t?this.Ds.insert(e,t):this.Ds.remove(e),r=this.Qs(this.Ds),i=this.Qs(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.oo(o,s).then((()=>{this.Ds=n}))}qs(e){this.Ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Qs(e){let t=Mo();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Mc{constructor(){this._o=new Oc,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Oc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lc{uo(e){}shutdown(){}}class Fc{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Qt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Qt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let jc=null;function Uc(){return null===jc?jc=268435456+Math.round(2147483648*Math.random()):jc++,"0x"+jc.toString(16)}const Vc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bc{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}const zc="WebChannelConnection";class qc extends class{get Co(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=t+"://"+e.host,this.Mo="projects/".concat(n,"/databases/").concat(r),this.xo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Oo(e,t,n,r,i){const o=Uc(),s=this.No(e,t.toUriEncodedString());Qt("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(a,r,i),this.Bo(e,s,a,n).then((t=>(Qt("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw $t("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}ko(e,t,n,r,i,o){return this.Oo(e,t,n,r,i)}Lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wt,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}No(e,t){const n=Vc[e];return"".concat(this.Fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,n,r){const i=Uc();return new Promise(((o,s)=>{const a=new Ot;a.setWithCredentials(!0),a.listenOnce(Mt.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Lt.NO_ERROR:const t=a.getResponseJson();Qt(zc,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Lt.TIMEOUT:Qt(zc,"RPC '".concat(e,"' ").concat(i," timed out")),s(new nn(tn.DEADLINE_EXCEEDED,"Request time out"));break;case Lt.HTTP_ERROR:const n=a.getStatus();if(Qt(zc,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(tn).indexOf(t)>=0?t:tn.UNKNOWN}(t.status);s(new nn(e,t.message))}else s(new nn(tn.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new nn(tn.UNAVAILABLE,"Connection failed."));break;default:Xt()}}finally{Qt(zc,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Qt(zc,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}qo(e,t,n){const r=Uc(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Vt(),s=Ut(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Lo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Qt(zc,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const f=new Bc({Eo:t=>{h?Qt(zc,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Qt(zc,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Qt(zc,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Ao:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Dt.EventType.OPEN,(()=>{h||(Qt(zc,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.So())})),p(u,Dt.EventType.CLOSE,(()=>{h||(h=!0,Qt(zc,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Do())})),p(u,Dt.EventType.ERROR,(t=>{h||(h=!0,$t(zc,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Do(new nn(tn.UNAVAILABLE,"The operation could not be completed")))})),p(u,Dt.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Zt(!!i);const o=i,s=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Qt(zc,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=ys[e];if(void 0!==t)return _s(t)}(t),i=s.message;void 0===n&&(n=tn.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.Do(new nn(n,i)),u.close()}else Qt(zc,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.vo(i)}})),p(s,jt.STAT_EVENT,(t=>{t.stat===Ft.PROXY?Qt(zc,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ft.NOPROXY&&Qt(zc,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.bo()}),0),f}}function Hc(){return"undefined"!=typeof window?window:null}function Wc(){return"undefined"!=typeof document?document:null}function Gc(e){return new Bs(e,!0)}class Kc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.li=e,this.timerId=t,this.Qo=n,this.Ko=r,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,t-n);r>0&&Qt("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Uo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,(()=>(this.Go=Date.now(),e()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class Qc{constructor(e,t,n,r,i,o,s,a){this.li=e,this.Yo=n,this.Zo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Kc(e,t)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==e?this.r_.reset():t&&t.code===tn.RESOURCE_EXHAUSTED?(Yt(t.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===tn.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Xo===t&&this.I_(n,r)}),(t=>{e((()=>{const e=new nn(tn.UNKNOWN,"Fetching auth token failed: "+t.message);return this.E_(e)}))}))}I_(e,t){const n=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro((()=>{n((()=>this.listener.Ro()))})),this.stream.mo((()=>{n((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((e=>{n((()=>this.E_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.n_?this.A_(e):this.onNext(e)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}E_(e){return Qt("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget((()=>this.Xo===e?t():(Qt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Yc extends Qc{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Xt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Zt(void 0===t||"string"==typeof t),zr.fromBase64String(t||"")):(Zt(void 0===t||t instanceof Buffer||t instanceof Uint8Array),zr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?tn.UNKNOWN:_s(e.code);return new nn(t,e.message||"")}(s);n=new Os(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Js(e,r.document.name),o=Gs(r.document.updateTime),s=r.document.createTime?Gs(r.document.createTime):bn.min(),a=new Ei({mapValue:{fields:r.document.fields}}),l=Ti.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ps(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Js(e,r.document),o=r.readTime?Gs(r.readTime):bn.min(),s=Ti.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ps([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Js(e,r.document),o=r.removedTargetIds||[];n=new Ps([],o,i,null)}else{if(!("filter"in t))return Xt();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new vs(r,i),s=e.targetId;n=new Ns(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return bn.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?bn.min():t.readTime?Gs(t.readTime):bn.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=ea(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=eo(r)?{documents:sa(e,r)}:{query:aa(e,r).ct},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Hs(e,t.resumeToken);const r=zs(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(bn.min())>0){n.readTime=qs(e,t.snapshotVersion.toTimestamp());const r=zs(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xt()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=ea(this.serializer),t.removeTarget=e,this.c_(t)}}class $c extends Qc{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Zt(!!e.streamToken),this.lastStreamToken=e.streamToken,Zt(!e.writeResults||0===e.writeResults.length),this.listener.p_()}onNext(e){Zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=function(e,t){return e&&e.length>0?(Zt(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Gs(e.updateTime):Gs(t);return n.isEqual(bn.min())&&(n=Gs(t)),new Xo(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Gs(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=ea(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>ia(this.serializer,e)))};this.c_(t)}}class Jc extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new nn(tn.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Oo(e,Qs(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===tn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new nn(tn.UNKNOWN,e.toString())}))}ko(e,t,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.ko(e,Qs(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===tn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new nn(tn.UNKNOWN,e.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class Xc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(e){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.M_("Offline")))}set(e){this.N_(),this.D_=0,"Online"===e&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.C_?(Yt(t),this.C_=!1):Qt("OnlineStateTracker",t)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class Zc{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo((e=>{n.enqueueAndForget((async()=>{lu(this)&&(Qt("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=en(e);t.k_.add(4),await tu(t),t.K_.set("Unknown"),t.k_.delete(4),await eu(t)}(this))}))})),this.K_=new Xc(n,r)}}async function eu(e){if(lu(e))for(const t of e.q_)await t(!0)}async function tu(e){for(const t of e.q_)await t(!1)}function nu(e,t){const n=en(e);n.B_.has(t.targetId)||(n.B_.set(t.targetId,t),au(n)?su(n):xu(n).s_()&&iu(n,t))}function ru(e,t){const n=en(e),r=xu(n);n.B_.delete(t),r.s_()&&ou(n,t),0===n.B_.size&&(r.s_()?r.a_():lu(n)&&n.K_.set("Unknown"))}function iu(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bn.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}xu(e).V_(t)}function ou(e,t){e.U_.xe(t),xu(e).m_(t)}function su(e){e.U_=new Ms({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.B_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),xu(e).start(),e.K_.F_()}function au(e){return lu(e)&&!xu(e).i_()&&e.B_.size>0}function lu(e){return 0===en(e).k_.size}function cu(e){e.U_=void 0}async function uu(e){e.K_.set("Online")}async function du(e){e.B_.forEach(((t,n)=>{iu(e,t)}))}async function hu(e,t){cu(e),au(e)?(e.K_.O_(t),su(e)):e.K_.set("Unknown")}async function fu(e,t,n){if(e.K_.set("Online"),t instanceof Os&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.B_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.B_.delete(r),e.U_.removeTarget(r))}(e,t)}catch(n){Qt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await pu(e,n)}else if(t instanceof Ps?e.U_.$e(t):t instanceof Ns?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(bn.min()))try{const t=await gc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.U_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.B_.get(r);i&&e.B_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.B_.get(t);if(!r)return;e.B_.set(t,r.withResumeToken(zr.EMPTY_BYTE_STRING,r.snapshotVersion)),ou(e,t);const i=new ya(r.target,t,n,r.sequenceNumber);iu(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Qt("RemoteStore","Failed to raise snapshot:",t),await pu(e,t)}}async function pu(e,t,n){if(!qn(t))throw t;e.k_.add(1),await tu(e),e.K_.set("Offline"),n||(n=()=>gc(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Qt("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await eu(e)}))}function mu(e,t){return t().catch((n=>pu(e,n,t)))}async function gu(e){const t=en(e),n=Cu(t);let r=t.L_.length>0?t.L_[t.L_.length-1].batchId:-1;for(;vu(t);)try{const e=await yc(t.localStore,r);if(null===e){0===t.L_.length&&n.a_();break}r=e.batchId,yu(t,e)}catch(e){await pu(t,e)}bu(t)&&wu(t)}function vu(e){return lu(e)&&e.L_.length<10}function yu(e,t){e.L_.push(t);const n=Cu(e);n.s_()&&n.f_&&n.g_(t.mutations)}function bu(e){return lu(e)&&!Cu(e).i_()&&e.L_.length>0}function wu(e){Cu(e).start()}async function _u(e){Cu(e).w_()}async function Su(e){const t=Cu(e);for(const n of e.L_)t.g_(n.mutations)}async function Eu(e,t,n){const r=e.L_.shift(),i=ms.from(r,t,n);await mu(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await gu(e)}async function ku(e,t){t&&Cu(e).f_&&await async function(e,t){if(function(e){return ws(e)&&e!==tn.ABORTED}(t.code)){const n=e.L_.shift();Cu(e).__(),await mu(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await gu(e)}}(e,t),bu(e)&&wu(e)}async function Tu(e,t){const n=en(e);n.asyncQueue.verifyOperationInProgress(),Qt("RemoteStore","RemoteStore received new credentials");const r=lu(n);n.k_.add(3),await tu(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await eu(n)}async function Iu(e,t){const n=en(e);t?(n.k_.delete(2),await eu(n)):t||(n.k_.add(2),await tu(n),n.K_.set("Unknown"))}function xu(e){return e.W_||(e.W_=function(e,t,n){const r=en(e);return r.b_(),new Yc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:uu.bind(null,e),mo:du.bind(null,e),po:hu.bind(null,e),R_:fu.bind(null,e)}),e.q_.push((async t=>{t?(e.W_.__(),au(e)?su(e):e.K_.set("Unknown")):(await e.W_.stop(),cu(e))}))),e.W_}function Cu(e){return e.G_||(e.G_=function(e,t,n){const r=en(e);return r.b_(),new $c(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:()=>Promise.resolve(),mo:_u.bind(null,e),po:ku.bind(null,e),p_:Su.bind(null,e),y_:Eu.bind(null,e)}),e.q_.push((async t=>{t?(e.G_.__(),await gu(e)):(await e.G_.stop(),e.L_.length>0&&(Qt("RemoteStore","Stopping write stream with ".concat(e.L_.length," pending writes")),e.L_=[]))}))),e.G_}class Au{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Au(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nn(tn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ru(e,t){if(Yt("AsyncQueue","".concat(t,": ").concat(e)),qn(e))return new nn(tn.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Pu{static emptySet(e){return new Pu(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||kn.comparator(t.key,n.key):(e,t)=>kn.comparator(e.key,t.key),this.keyedMap=Io(),this.sortedSet=new Dr(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Pu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Nu{constructor(){this.z_=new Dr(kn.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?0!==e.type&&3===n.type?this.z_=this.z_.insert(t,e):3===e.type&&1!==n.type?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.z_=this.z_.remove(t):1===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Xt():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Ou{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Ou(e,t,Pu.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Du{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((e=>e.Z_()))}}class Mu{constructor(){this.queries=Lu(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(e,t){const n=en(e),r=n.queries;n.queries=Lu(),r.forEach(((e,n)=>{for(const r of n.J_)r.onError(t)}))}(this,new nn(tn.ABORTED,"Firestore shutting down"))}}function Lu(){return new So((e=>go(e)),mo)}async function Fu(e,t){const n=en(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.Y_()&&t.Z_()&&(r=2):(o=new Du,r=t.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Ru(e,"Initialization of query '".concat(vo(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.J_.push(t),t.ea(n.onlineState),o.H_&&t.ta(o.H_)&&Bu(n)}async function ju(e,t){const n=en(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.J_.indexOf(t);e>=0&&(o.J_.splice(e,1),0===o.J_.length?i=t.Z_()?0:1:!o.Y_()&&t.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Uu(e,t){const n=en(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.J_)e.ta(i)&&(r=!0);t.H_=i}}r&&Bu(n)}function Vu(e,t,n){const r=en(e),i=r.queries.get(t);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(t)}function Bu(e){e.X_.forEach((e=>{e.next()}))}var zu,qu;(qu=zu||(zu={})).na="default",qu.Cache="cache";class Hu{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ou(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache)return!0;if(!this.Z_())return!0;const n="Offline"!==t;return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}aa(e){e=Ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==zu.Cache}}class Wu{constructor(e,t){this.ca=e,this.byteLength=t}la(){return"metadata"in this.ca}}class Gu{constructor(e){this.serializer=e}As(e){return Js(this.serializer,e)}Rs(e){return e.metadata.exists?ra(this.serializer,e.document,!1):Ti.newNoDocument(this.As(e.metadata.name),this.Vs(e.metadata.readTime))}Vs(e){return Gs(e)}}class Ku{constructor(e,t,n){this.ha=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Qu(e)}Pa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ca.namedQuery)this.queries.push(e.ca.namedQuery);else if(e.ca.documentMetadata){this.documents.push({metadata:e.ca.documentMetadata}),e.ca.documentMetadata.exists||++t;const n=_n.fromString(e.ca.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ca.document&&(this.documents[this.documents.length-1].document=e.ca.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ta(e){const t=new Map,n=new Gu(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.As(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Oo()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=en(e);let o=Oo(),s=ko();for(const c of n){const e=t.As(c.metadata.name);c.document&&(o=o.add(e));const n=t.Rs(c);n.setReadTime(t.Vs(c.metadata.readTime)),s=s.insert(e,n)}const a=i.hs.newChangeBuffer({trackRemovals:!0}),l=await bc(i,function(e){return uo(so(_n.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>vc(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Gr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Gr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.Is,t.Es))).next((()=>t.Is))))))}(this.localStore,new Gu(this.serializer),this.documents,this.ha.id),t=this.Ta(this.documents);for(const n of this.queries)await Tc(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Ia:this.collectionGroups,Ea:e}}}function Qu(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Yu{constructor(e){this.key=e}}class $u{constructor(e){this.key=e}}class Ju{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Oo(),this.mutatedKeys=Oo(),this.Va=wo(e),this.ma=new Pu(this.Va)}get fa(){return this.da}ga(e,t){const n=t?t.pa:new Nu,r=t?t.ma:this.ma;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=yo(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ya(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Va(u,a)>0||l&&this.Va(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ma:o,pa:n,ss:s,mutatedKeys:i}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xt()}};return n(e)-n(t)}(e.type,t.type)||this.Va(e.doc,t.doc))),this.wa(n),r=null!=r&&r;const s=t&&!r?this.Sa():[],a=0===this.Ra.size&&this.current&&!r?1:0,l=a!==this.Aa;return this.Aa=a,0!==o.length||l?{snapshot:new Ou(this.query,e.ma,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:s}:{ba:s}}ea(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Nu,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach((e=>this.da=this.da.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.da=this.da.delete(e))),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Oo(),this.ma.forEach((e=>{this.Da(e.key)&&(this.Ra=this.Ra.add(e.key))}));const t=[];return e.forEach((e=>{this.Ra.has(e)||t.push(new $u(e))})),this.Ra.forEach((n=>{e.has(n)||t.push(new Yu(n))})),t}va(e){this.da=e.ds,this.Ra=Oo();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Ou.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class Xu{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Zu{constructor(e){this.key=e,this.Fa=!1}}class ed{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new So((e=>go(e)),mo),this.Oa=new Map,this.Na=new Set,this.La=new Dr(kn.comparator),this.Ba=new Map,this.ka=new Kl,this.qa={},this.Qa=new Map,this.Ka=_l.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function td(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Rd(e);let i;const o=r.xa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await rd(r,t,n,!0),i}async function nd(e,t){const n=Rd(e);await rd(n,t,!0,!1)}async function rd(e,t,n,r){const i=await bc(e.localStore,uo(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await id(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&nu(e.remoteStore,i),a}async function id(e,t,n,r,i){e.Ua=(t,n,r)=>async function(e,t,n,r){let i=t.view.ga(n);i.ss&&(i=await _c(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ga(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return gd(e,t.targetId,a.ba),a.snapshot}(e,t,n,r);const o=await _c(e.localStore,t,!0),s=new Ju(t,o.ds),a=s.ga(o.documents),l=Rs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);gd(e,n,c.ba);const u=new Xu(t,n,s);return e.xa.set(t,u),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),c.snapshot}async function od(e,t,n){const r=en(e),i=r.xa.get(t),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter((e=>!mo(e,t)))),void r.xa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wc(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ru(r.remoteStore,i.targetId),pd(r,i.targetId)})).catch(Ln)):(pd(r,i.targetId),await wc(r.localStore,i.targetId,!0))}async function sd(e,t){const n=en(e),r=n.xa.get(t),i=n.Oa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ru(n.remoteStore,r.targetId))}async function ad(e,t){const n=en(e);try{const e=await function(e,t){const n=en(e),r=t.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Gr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Gr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(zr.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Gr.updateTargetData(e,c))}));let a=ko(),l=Oo();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(vc(e,o,t.documentUpdates).next((e=>{a=e.Is,l=e.Es}))),!r.isEqual(bn.min())){const t=n.Gr.getLastRemoteSnapshotVersion(e).next((t=>n.Gr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Fn.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.us=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ba.get(t);r&&(Zt(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Fa=!0:e.modifiedDocuments.size>0?Zt(r.Fa):e.removedDocuments.size>0&&(Zt(r.Fa),r.Fa=!1))})),await bd(n,e,t)}catch(e){await Ln(e)}}function ld(e,t,n){const r=en(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xa.forEach(((n,r)=>{const i=r.view.ea(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=en(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.J_)i.ea(t)&&(r=!0)})),r&&Bu(n)}(r.eventManager,t),e.length&&r.Ma.R_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function cd(e,t,n){const r=en(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ba.get(t),o=i&&i.key;if(o){let e=new Dr(kn.comparator);e=e.insert(o,Ti.newNoDocument(o,bn.min()));const n=Oo().add(o),i=new As(bn.min(),new Map,new Dr(mn),e,n);await ad(r,i),r.La=r.La.remove(o),r.Ba.delete(t),yd(r)}else await wc(r.localStore,t,!1).then((()=>pd(r,t,n))).catch(Ln)}async function ud(e,t){const n=en(e),r=t.batch.batchId;try{const e=await function(e,t){const n=en(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Fn.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Zt(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Oo();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);fd(n,r,null),hd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bd(n,e)}catch(e){await Ln(e)}}async function dd(e,t,n){const r=en(e);try{const e=await function(e,t){const n=en(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Zt(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);fd(r,t,n),hd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await bd(r,e)}catch(n){await Ln(n)}}function hd(e,t){(e.Qa.get(t)||[]).forEach((e=>{e.resolve()})),e.Qa.delete(t)}function fd(e,t,n){const r=en(e);let i=r.qa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.qa[r.currentUser.toKey()]=i}}function pd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Oa.get(t))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach((t=>{e.ka.containsKey(t)||md(e,t)}))}function md(e,t){e.Na.delete(t.path.canonicalString());const n=e.La.get(t);null!==n&&(ru(e.remoteStore,n),e.La=e.La.remove(t),e.Ba.delete(n),yd(e))}function gd(e,t,n){for(const r of n)r instanceof Yu?(e.ka.addReference(r.key,t),vd(e,r)):r instanceof $u?(Qt("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||md(e,r.key)):Xt()}function vd(e,t){const n=t.key,r=n.path.canonicalString();e.La.get(n)||e.Na.has(r)||(Qt("SyncEngine","New document in limbo: "+n),e.Na.add(r),yd(e))}function yd(e){for(;e.Na.size>0&&e.La.size<e.maxConcurrentLimboResolutions;){const t=e.Na.values().next().value;e.Na.delete(t);const n=new kn(_n.fromString(t)),r=e.Ka.next();e.Ba.set(r,new Zu(n)),e.La=e.La.insert(n,r),nu(e.remoteStore,new ya(uo(so(n.path)),r,"TargetPurposeLimboResolution",$n.oe))}}async function bd(e,t,n){const r=en(e),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach(((e,a)=>{s.push(r.Ua(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=uc.zi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Ma.R_(i),await async function(e,t){const n=en(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Fn.forEach(t,(t=>Fn.forEach(t.Wi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Fn.forEach(t.Gi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!qn(e))throw e;Qt("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.us.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.us=n.us.insert(e,i)}}}(r.localStore,o))}async function wd(e,t){const n=en(e);if(!n.currentUser.isEqual(t)){Qt("SyncEngine","User change. New user:",t.toKey());const e=await mc(n.localStore,t);n.currentUser=t,function(e,t){e.Qa.forEach((e=>{e.forEach((e=>{e.reject(new nn(tn.CANCELLED,t))}))})),e.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await bd(n,e.Ts)}}function _d(e,t){const n=en(e),r=n.Ba.get(t);if(r&&r.Fa)return Oo().add(r.key);{let e=Oo();const r=n.Oa.get(t);if(!r)return e;for(const t of r){const r=n.xa.get(t);e=e.unionWith(r.view.fa)}return e}}async function Sd(e,t){const n=en(e),r=await _c(n.localStore,t.query,!0),i=t.view.va(r);return n.isPrimaryClient&&gd(n,t.targetId,i.ba),i}async function Ed(e,t){const n=en(e);return Ec(n.localStore,t).then((e=>bd(n,e)))}async function kd(e,t,n,r){const i=en(e),o=await function(e,t){const n=en(e),r=en(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.On(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Fn.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await gu(i.remoteStore):"acknowledged"===n||"rejected"===n?(fd(i,t,r||null),hd(i,t),function(e,t){en(en(e).mutationQueue).Ln(t)}(i.localStore,t)):Xt(),await bd(i,o)):Qt("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Td(e,t,n){const r=en(e),i=[],o=[];for(const s of t){let e;const t=r.Oa.get(s);if(t&&0!==t.length){e=await bc(r.localStore,uo(t[0]));for(const e of t){const t=r.xa.get(e),n=await Sd(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await Sc(r.localStore,s);e=await bc(r.localStore,t),await id(r,Id(t),s,!1,e.resumeToken)}i.push(e)}return r.Ma.R_(o),i}function Id(e){return oo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function xd(e){return function(e){return en(en(e).persistence).$i()}(en(e).localStore)}async function Cd(e,t,n,r){const i=en(e);if(i.$a)return void Qt("SyncEngine","Ignoring unexpected query state notification.");const o=i.Oa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await Ec(i.localStore,bo(o[0])),r=As.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,zr.EMPTY_BYTE_STRING);await bd(i,e,r);break}case"rejected":await wc(i.localStore,t,!0),pd(i,t,r);break;default:Xt()}}async function Ad(e,t,n){const r=Rd(e);if(r.$a){for(const e of t){if(r.Oa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Qt("SyncEngine","Adding an already active target "+e);continue}const t=await Sc(r.localStore,e),n=await bc(r.localStore,t);await id(r,Id(t),n.targetId,!1,n.resumeToken),nu(r.remoteStore,n)}for(const e of n)r.Oa.has(e)&&await wc(r.localStore,e,!1).then((()=>{ru(r.remoteStore,e),pd(r,e)})).catch(Ln)}}function Rd(e){const t=en(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ad.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_d.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cd.bind(null,t),t.Ma.R_=Uu.bind(null,t.eventManager),t.Ma.Wa=Vu.bind(null,t.eventManager),t}function Pd(e){const t=en(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ud.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dd.bind(null,t),t}class Nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return pc(this.persistence,new hc,e.initialUser,this.serializer)}ja(e){return new Zl(tc.ei,this.serializer)}za(e){return new Mc}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nd.provider={build:()=>new Nd};class Od extends Nd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Zt(this.persistence.referenceDelegate instanceof nc);const n=this.persistence.referenceDelegate.garbageCollector;return new Cl(n,e.asyncQueue,t)}ja(e){const t=void 0!==this.cacheSizeBytes?fl.withCacheSize(this.cacheSizeBytes):fl.DEFAULT;return new Zl((e=>nc.ei(e,t)),this.serializer)}}class Dd extends Nd{constructor(e,t,n){super(),this.Za=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Za.initialize(this,e),await Pd(this.Za.syncEngine),await gu(this.Za.remoteStore),await this.persistence.Si((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}Ha(e){return pc(this.persistence,new hc,e.initialUser,this.serializer)}Ja(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Cl(n,e.asyncQueue,t)}Ya(e,t){const n=new Yn(t,this.persistence);return new Qn(e.asyncQueue,n)}ja(e){const t=cc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?fl.withCacheSize(this.cacheSizeBytes):fl.DEFAULT;return new sc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Hc(),Wc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}za(e){return new Mc}}class Md extends Dd{constructor(e,t){super(e,t,!1),this.Za=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Za.syncEngine;this.sharedClientState instanceof Dc&&(this.sharedClientState.syncEngine={io:kd.bind(null,t),so:Cd.bind(null,t),oo:Ad.bind(null,t),$i:xd.bind(null,t),ro:Ed.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Si((async e=>{await async function(e,t){const n=en(e);if(Rd(n),Pd(n),!0===t&&!0!==n.$a){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Td(n,e.toArray());n.$a=!0,await Iu(n.remoteStore,!0);for(const r of t)nu(n.remoteStore,r)}else if(!1===t&&!1!==n.$a){const e=[];let t=Promise.resolve();n.Oa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(pd(n,i),wc(n.localStore,i,!0)))),ru(n.remoteStore,i)})),await t,await Td(n,e),function(e){const t=en(e);t.Ba.forEach(((e,n)=>{ru(t.remoteStore,n)})),t.ka.wr(),t.Ba=new Map,t.La=new Dr(kn.comparator)}(n),n.$a=!1,await Iu(n.remoteStore,!1)}}(this.Za.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}za(e){const t=Hc();if(!Dc.p(t))throw new nn(tn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=cc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Dc(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Ld{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ld(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=wd.bind(null,this.syncEngine),await Iu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Mu}createDatastore(e){const t=Gc(e.databaseInfo.databaseId),n=function(e){return new qc(e)}(e.databaseInfo);return function(e,t,n,r){return new Jc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Zc(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>ld(this.syncEngine,e,0)),Fc.p()?new Fc:new Lc)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new ed(e,t,n,r,i,o);return s&&(a.$a=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=en(e);Qt("RemoteStore","RemoteStore shutting down."),t.k_.add(5),await tu(t),t.Q_.shutdown(),t.K_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function Fd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}Ld.provider={build:()=>new Ld};class jd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Ud{constructor(e,t){this.tu=e,this.serializer=t,this.metadata=new rn,this.buffer=new Uint8Array,this.nu=new TextDecoder("utf-8"),this.ru().then((e=>{e&&e.la()?this.metadata.resolve(e.ca.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ca))))}),(e=>this.metadata.reject(e)))}close(){return this.tu.cancel()}async getMetadata(){return this.metadata.promise}async Ga(){return await this.getMetadata(),this.ru()}async ru(){const e=await this.iu();if(null===e)return null;const t=this.nu.decode(e),n=Number(t);isNaN(n)&&this.su("length string (".concat(t,") is not valid number"));const r=await this.ou(n);return new Wu(JSON.parse(r),e.length+n)}_u(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async iu(){for(;this._u()<0&&!await this.au(););if(0===this.buffer.length)return null;const e=this._u();e<0&&this.su("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ou(e){for(;this.buffer.length<e;)await this.au()&&this.su("Reached the end of bundle when more is expected.");const t=this.nu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}su(e){throw this.tu.cancel(),new Error("Invalid bundle format: ".concat(e))}async au(){const e=await this.tu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Vd{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new nn(tn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=en(e),r={documents:t.map((e=>$s(n.serializer,e)))},i=await n.ko("BatchGetDocuments",n.serializer.databaseId,_n.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Zt(!!t.found),t.found.name,t.found.updateTime;const n=Js(e,t.found.name),r=Gs(t.found.updateTime),i=t.found.createTime?Gs(t.found.createTime):bn.min(),o=new Ei({mapValue:{fields:t.found.fields}});return Ti.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Zt(!!t.missing),Zt(!!t.readTime);const n=Js(e,t.missing),r=Gs(t.readTime);return Ti.newNoDocument(n,r)}(e,t):Xt()}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());Zt(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new hs(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=kn.fromPath(t);this.mutations.push(new fs(n,this.precondition(n)))})),await async function(e,t){const n=en(e),r={writes:t.map((e=>ia(n.serializer,e)))};await n.Oo("Commit",n.serializer.databaseId,_n.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xt();t=bn.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new nn(tn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(bn.min())?Zo.exists(!1):Zo.updateTime(t):Zo.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bn.min()))throw new nn(tn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zo.updateTime(t)}return Zo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Bd{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.uu=n.maxAttempts,this.r_=new Kc(this.asyncQueue,"transaction_retry")}cu(){this.uu-=1,this.lu()}lu(){this.r_.jo((async()=>{const e=new Vd(this.datastore),t=this.hu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Pu(e)}))))})).catch((e=>{this.Pu(e)}))}))}hu(e){try{const t=this.updateFunction(e);return!Jn(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Pu(e){this.uu>0&&this.Tu(e)?(this.uu-=1,this.asyncQueue.enqueueAndForget((()=>(this.lu(),Promise.resolve())))):this.deferred.reject(e)}Tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ws(t)}return!1}}class zd{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ht.UNAUTHENTICATED,this.clientId=pn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Qt("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Qt("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ru(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function qd(e,t){e.asyncQueue.verifyOperationInProgress(),Qt("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await mc(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Hd(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Wd(e);Qt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Tu(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Tu(t.remoteStore,n))),e._onlineComponents=t}async function Wd(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Qt("FirestoreClient","Using user provided OfflineComponentProvider");try{await qd(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===tn.FAILED_PRECONDITION||e.code===tn.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;$t("Error using user provided cache. Falling back to memory cache: "+n),await qd(e,new Nd)}}else Qt("FirestoreClient","Using default OfflineComponentProvider"),await qd(e,new Od(void 0));return e._offlineComponents}async function Gd(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Qt("FirestoreClient","Using user provided OnlineComponentProvider"),await Hd(e,e._uninitializedComponentsProvider._online)):(Qt("FirestoreClient","Using default OnlineComponentProvider"),await Hd(e,new Ld))),e._onlineComponents}function Kd(e){return Wd(e).then((e=>e.persistence))}function Qd(e){return Wd(e).then((e=>e.localStore))}function Yd(e){return Gd(e).then((e=>e.remoteStore))}function $d(e){return Gd(e).then((e=>e.syncEngine))}function Jd(e){return Gd(e).then((e=>e.datastore))}async function Xd(e){const t=await Gd(e),n=t.eventManager;return n.onListen=td.bind(null,t.syncEngine),n.onUnlisten=od.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=nd.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=sd.bind(null,t.syncEngine),n}function Zd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new rn;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new jd({next:a=>{o.eu(),t.enqueueAndForget((()=>ju(e,s)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new nn(tn.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new nn(tn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new Hu(so(n.path),o,{includeMetadataChanges:!0,ua:!0});return Fu(e,s)}(await Xd(e),e.asyncQueue,t,n,r))),r.promise}function eh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new rn;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new jd({next:n=>{o.eu(),t.enqueueAndForget((()=>ju(e,s))),n.fromCache&&"server"===r.source?i.reject(new nn(tn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Hu(n,o,{includeMetadataChanges:!0,ua:!0});return Fu(e,s)}(await Xd(e),e.asyncQueue,t,n,r))),r.promise}function th(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Es().encode(e):e,function(e,t){return new Ud(e,t)}(function(e,t){if(e instanceof Uint8Array)return Fd(e,t);if(e instanceof ArrayBuffer)return Fd(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Gc(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=en(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=en(e),r=Gs(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.jr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Qu(r));const i=new Ku(r,e.localStore,t.serializer);let o=await t.Ga();for(;o;){const e=await i.Pa(o);e&&n._updateProgress(e),o=await t.Ga()}const s=await i.complete();return await bd(e,s.Ea,void 0),await function(e,t){const n=en(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.jr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.Ia)}catch(e){return $t("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await $d(e),i,r)}))}function nh(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const rh=new Map;function ih(e,t,n){if(!n)throw new nn(tn.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function oh(e,t,n,r){if(!0===t&&!0===r)throw new nn(tn.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function sh(e){if(!kn.isDocumentKey(e))throw new nn(tn.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ah(e){if(kn.isDocumentKey(e))throw new nn(tn.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function lh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Xt()}function ch(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new nn(tn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lh(e);throw new nn(tn.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function uh(e,t){if(t<=0)throw new nn(tn.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class dh{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new nn(tn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new nn(tn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nh(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new nn(tn.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new nn(tn.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new nn(tn.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hh{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nn(tn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new nn(tn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dh(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new sn;switch(e.type){case"firstParty":return new un(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new nn(tn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=rh.get(e);t&&(Qt("ComponentProvider","Removing Datastore"),rh.delete(e),t.terminate())}(this),Promise.resolve()}}function fh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=ch(e,hh))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&$t("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ht.MOCK_USER;else{t=S(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new nn(tn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ht(o)}e._authCredentials=new an(new on(t,n))}}class ph{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ph(this.firestore,e,this._query)}}class mh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mh(this.firestore,e,this._key)}}class gh extends ph{constructor(e,t,n){super(e,t,so(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mh(this.firestore,null,new kn(e))}withConverter(e){return new gh(this.firestore,e,this._path)}}function vh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=q(e),ih("collection","path",t),e instanceof hh){const n=_n.fromString(t,...r);return ah(n),new gh(e,null,n)}{if(!(e instanceof mh||e instanceof gh))throw new nn(tn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(_n.fromString(t,...r));return ah(n),new gh(e.firestore,null,n)}}function yh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=q(e),1===arguments.length&&(t=pn.newId()),ih("doc","path",t),e instanceof hh){const n=_n.fromString(t,...r);return sh(n),new mh(e,null,new kn(n))}{if(!(e instanceof mh||e instanceof gh))throw new nn(tn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(_n.fromString(t,...r));return sh(n),new mh(e.firestore,e instanceof gh?e.converter:null,new kn(n))}}function bh(e,t){return e=q(e),t=q(t),(e instanceof mh||e instanceof gh)&&(t instanceof mh||t instanceof gh)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function wh(e,t){return e=q(e),t=q(t),e instanceof ph&&t instanceof ph&&e.firestore===t.firestore&&mo(e._query,t._query)&&e.converter===t.converter}class _h{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Kc(this,"async_queue_retry"),this.fu=()=>{const e=Wc();e&&Qt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.r_.Jo()},this.gu=e;const t=Wc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Wc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise((()=>{}));const t=new rn;return this.yu((()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Iu.push(e),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!qn(e))throw e;Qt("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(e){const t=this.gu.then((()=>(this.Ru=!0,e().catch((e=>{this.Au=e,this.Ru=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Yt("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ru=!1,e))))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const r=Au.createAndSchedule(this,e,t,n,(e=>this.Su(e)));return this.du.push(r),r}pu(){this.Au&&Xt()}verifyOperationInProgress(){}async bu(){let e;do{e=this.gu,await e}while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then((()=>{this.du.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.bu()}))}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function Sh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Eh{constructor(){this._progressObserver={},this._taskCompletionResolver=new rn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class kh extends hh{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new _h,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _h(e),this._firestoreClient=void 0,await e}}}function Th(e){if(e._terminated)throw new nn(tn.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Ih(e),e._firestoreClient}function Ih(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new $r(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,nh(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new zd(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function xh(e,t,n){if((e=ch(e,kh))._firestoreClient||e._terminated)throw new nn(tn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new nn(tn.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},Ih(e)}function Ch(e){return function(e){const t=new rn;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=en(e);lu(n.remoteStore)||Qt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=en(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Qa.get(e)||[];r.push(t),n.Qa.set(e,r)}catch(e){const n=Ru(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await $d(e),t))),t.promise}(Th(e=ch(e,kh)))}function Ah(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Kd(e),n=await Yd(e);return t.setNetworkEnabled(!0),function(e){const t=en(e);return t.k_.delete(0),eu(t)}(n)}))}(Th(e=ch(e,kh)))}function Rh(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Kd(e),n=await Yd(e);return t.setNetworkEnabled(!1),async function(e){const t=en(e);t.k_.add(0),await tu(t),t.K_.set("Offline")}(n)}))}(Th(e=ch(e,kh)))}function Ph(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=en(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.jr.getNamedQuery(e,t)))}(await Qd(e),t)))}(Th(e=ch(e,kh)),t).then((t=>t?new ph(e,null,t.query):null))}class Nh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nh(zr.fromBase64String(e))}catch(e){throw new nn(tn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Nh(zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Oh{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new nn(tn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dh{constructor(e){this._methodName=e}}class Mh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new nn(tn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new nn(tn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mn(this._lat,e._lat)||mn(this._long,e._long)}}class Lh{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Fh=/^__.*__$/;class jh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ls(e,this.data,this.fieldMask,t,this.fieldTransforms):new as(e,this.data,t,this.fieldTransforms)}}class Uh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ls(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Vh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xt()}}class Bh{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Bh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Lu(e),r}Bu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return lf(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(0===e.length)throw this.qu("Document fields must not be empty");if(Vh(this.Mu)&&Fh.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class zh{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Gc(e)}$u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Bh({Mu:e,methodName:t,Ku:n,path:En.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qh(e){const t=e._freezeSettings(),n=Gc(e._databaseId);return new zh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Hh(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.$u(o.merge||o.mergeFields?2:0,t,n,i);rf("Data must be an object, but it was:",s,r);const a=tf(r,s);let l,c;if(o.merge)l=new Vr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=of(t,r,n);if(!s.contains(i))throw new nn(tn.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));cf(e,i)||e.push(i)}l=new Vr(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new jh(new Ei(a),l,c)}class Wh extends Dh{_toFieldTransform(e){if(2!==e.Mu)throw 1===e.Mu?e.qu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}function Gh(e,t,n){return new Bh({Mu:3,Ku:t.settings.Ku,methodName:e._methodName,Nu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Kh extends Dh{_toFieldTransform(e){return new Jo(e.path,new qo)}isEqual(e){return e instanceof Kh}}class Qh extends Dh{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=Gh(this,e,!0),n=this.Uu.map((e=>ef(e,t))),r=new Ho(n);return new Jo(e.path,r)}isEqual(e){return e instanceof Qh&&M(this.Uu,e.Uu)}}class Yh extends Dh{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=Gh(this,e,!0),n=this.Uu.map((e=>ef(e,t))),r=new Go(n);return new Jo(e.path,r)}isEqual(e){return e instanceof Yh&&M(this.Uu,e.Uu)}}class $h extends Dh{constructor(e,t){super(e),this.Wu=t}_toFieldTransform(e){const t=new Qo(e.serializer,jo(e.serializer,this.Wu));return new Jo(e.path,t)}isEqual(e){return e instanceof $h&&this.Wu===e.Wu}}function Jh(e,t,n,r){const i=e.$u(1,t,n);rf("Data must be an object, but it was:",i,r);const o=[],s=Ei.empty();Nr(r,((e,r)=>{const a=af(t,e,n);r=q(r);const l=i.Bu(a);if(r instanceof Wh)o.push(a);else{const e=ef(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Vr(o);return new Uh(s,a,i.fieldTransforms)}function Xh(e,t,n,r,i,o){const s=e.$u(1,t,n),a=[of(t,r,n)],l=[i];if(o.length%2!=0)throw new nn(tn.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(of(t,o[h])),l.push(o[h+1]);const c=[],u=Ei.empty();for(let h=a.length-1;h>=0;--h)if(!cf(c,a[h])){const e=a[h];let t=l[h];t=q(t);const n=s.Bu(e);if(t instanceof Wh)c.push(e);else{const r=ef(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Vr(c);return new Uh(u,d,s.fieldTransforms)}function Zh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ef(n,e.$u(r?4:3,t))}function ef(e,t){if(nf(e=q(e)))return rf("Unsupported field value:",t,e),tf(e,t);if(e instanceof Dh)return function(e,t){if(!Vh(t.Mu))throw t.qu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&4!==t.Mu)throw t.qu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ef(i,t.ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=q(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return jo(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=yn.fromDate(e);return{timestampValue:qs(t.serializer,n)}}if(e instanceof yn){const n=new yn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:qs(t.serializer,n)}}if(e instanceof Mh)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Nh)return{bytesValue:Hs(t.serializer,e._byteString)};if(e instanceof mh){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.qu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Ks(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Lh)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.qu("VectorValues must only contain numeric values.");return Lo(t.serializer,e)}))}}}}}}(e,t);throw t.qu("Unsupported field value: ".concat(lh(e)))}(e,t)}function tf(e,t){const n={};return Or(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nr(e,((e,r)=>{const i=ef(r,t.Ou(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function nf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof yn||e instanceof Mh||e instanceof Nh||e instanceof mh||e instanceof Dh||e instanceof Lh)}function rf(e,t,n){if(!nf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=lh(n);throw"an object"===r?t.qu(e+" a custom object"):t.qu(e+" "+r)}}function of(e,t,n){if((t=q(t))instanceof Oh)return t._internalPath;if("string"==typeof t)return af(e,t);throw lf("Field path arguments must be of type string or ",e,!1,void 0,n)}const sf=new RegExp("[~\\*/\\[\\]]");function af(e,t,n){if(t.search(sf)>=0)throw lf("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Oh(...t.split("."))._internalPath}catch(B_){throw lf("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function lf(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new nn(tn.INVALID_ARGUMENT,a+e+l)}function cf(e,t){return e.some((e=>e.isEqual(t)))}class uf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new df(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class df extends uf{data(){return super.data()}}function hf(e,t){return"string"==typeof t?af(e,t):t instanceof Oh?t._internalPath:t._delegate._internalPath}function ff(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new nn(tn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pf{}class mf extends pf{}function gf(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof pf&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof yf)).length,n=e.filter((e=>e instanceof vf)).length;if(t>1||t>0&&n>0)throw new nn(tn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class vf extends mf{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new vf(e,t,n)}_apply(e){const t=this._parse(e);return If(e._query,t),new ph(e.firestore,e.converter,fo(e._query,t))}_parse(e){const t=qh(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new nn(tn.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Tf(s,o);const t=[];for(const n of s)t.push(kf(r,e,n));a={arrayValue:{values:t}}}else a=kf(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Tf(s,o),a=Zh(n,t,s,"in"===o||"not-in"===o);return Ni.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class yf extends pf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yf(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Oi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)If(n,i),n=fo(n,i)}(e._query,t),new ph(e.firestore,e.converter,fo(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bf extends mf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bf(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new nn(tn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new nn(tn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ai(t,n)}(e._query,this._field,this._direction);return new ph(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new io(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class wf extends mf{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new wf(e,t,n)}_apply(e){return new ph(e.firestore,e.converter,po(e._query,this._limit,this._limitType))}}class _f extends mf{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new _f(e,t,n)}_apply(e){const t=Ef(e,this.type,this._docOrFields,this._inclusive);return new ph(e.firestore,e.converter,function(e,t){return new io(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Sf extends mf{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Sf(e,t,n)}_apply(e){const t=Ef(e,this.type,this._docOrFields,this._inclusive);return new ph(e.firestore,e.converter,function(e,t){return new io(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Ef(e,t,n,r){if(n[0]=q(n[0]),n[0]instanceof uf)return function(e,t,n,r,i){if(!r)throw new nn(tn.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of co(e))if(s.field.isKeyField())o.push(ci(t,r.key));else{const e=r.data.field(s.field);if(Kr(e))throw new nn(tn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new nn(tn.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new Ii(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=qh(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new nn(tn.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new nn(tn.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!lo(e)&&-1!==o.indexOf("/"))throw new nn(tn.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(_n.fromString(o));if(!kn.isDocumentKey(n))throw new nn(tn.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new kn(n);a.push(ci(t,i))}else{const e=Zh(n,r,o);a.push(e)}}return new Ii(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function kf(e,t,n){if("string"==typeof(n=q(n))){if(""===n)throw new nn(tn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lo(t)&&-1!==n.indexOf("/"))throw new nn(tn.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(_n.fromString(n));if(!kn.isDocumentKey(r))throw new nn(tn.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ci(e,new kn(r))}if(n instanceof mh)return ci(e,n._key);throw new nn(tn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(lh(n),"."))}function Tf(e,t){if(!Array.isArray(e)||0===e.length)throw new nn(tn.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function If(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new nn(tn.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new nn(tn.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class xf{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Xt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Nr(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Wr(e.doubleValue)));return new Lh(i)}convertGeoPoint(e){return new Mh(Wr(e.latitude),Wr(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Qr(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Yr(e));default:return null}}convertTimestamp(e){const t=Hr(e);return new yn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=_n.fromString(e);Zt(va(n));const r=new Jr(n.get(1),n.get(3)),i=new kn(n.popFirst(5));return r.isEqual(t)||Yt("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Cf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Af extends xf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mh(this.firestore,null,t)}}class Rf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pf extends uf{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(hf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Nf extends Pf{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Of{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Rf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Nf(this._firestore,this._userDataWriter,n.key,n,new Rf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new nn(tn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Nf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Rf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Nf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Rf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Df(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Df(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xt()}}function Mf(e,t){return e instanceof Pf&&t instanceof Pf?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Of&&t instanceof Of&&e._firestore===t._firestore&&wh(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class Lf extends xf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mh(this.firestore,null,t)}}function Ff(e){e=ch(e,mh);const t=ch(e.firestore,kh),n=Th(t),r=new Lf(t);return function(e,t){const n=new rn;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=en(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new nn(tn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Ru(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await Qd(e),t,n))),n.promise}(n,e._key).then((n=>new Pf(t,r,e._key,n,new Rf(null!==n&&n.hasLocalMutations,!0),e.converter)))}function jf(e){e=ch(e,ph);const t=ch(e.firestore,kh),n=Th(t),r=new Lf(t);return function(e,t){const n=new rn;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await _c(e,t,!0),i=new Ju(t,r.ds),o=i.ga(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=Ru(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await Qd(e),t,n))),n.promise}(n,e._query).then((n=>new Of(t,r,e,n)))}function Uf(e,t,n){e=ch(e,mh);const r=ch(e.firestore,kh),i=Cf(e.converter,t,n);return qf(r,[Hh(qh(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Zo.none())])}function Vf(e,t,n){e=ch(e,mh);const r=ch(e.firestore,kh),i=qh(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=q(t))||t instanceof Oh?Xh(i,"updateDoc",e._key,t,n,a):Jh(i,"updateDoc",e._key,t),qf(r,[o.toMutation(e._key,Zo.exists(!0))])}function Bf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=q(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Sh(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Sh(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof mh)d=ch(e.firestore,kh),h=so(e._key.path),u={next:t=>{n[l]&&n[l](Hf(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=ch(e,ph);d=ch(t.firestore,kh),h=t._query;const r=new Lf(d);u={next:e=>{n[l]&&n[l](new Of(d,r,t,e))},error:n[l+1],complete:n[l+2]},ff(e._query)}return function(e,t,n,r){const i=new jd(r),o=new Hu(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Fu(await Xd(e),o))),()=>{i.eu(),e.asyncQueue.enqueueAndForget((async()=>ju(await Xd(e),o)))}}(Th(d),h,c,u)}function zf(e,t){return function(e,t){const n=new jd(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){en(e).X_.add(t),t.next()}(await Xd(e),n))),()=>{n.eu(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){en(e).X_.delete(t)}(await Xd(e),n)))}}(Th(e=ch(e,kh)),Sh(t)?t:{next:t})}function qf(e,t){return function(e,t){const n=new rn;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Pd(e);try{const e=await function(e,t){const n=en(e),r=yn.now(),i=t.reduce(((e,t)=>e.add(t.key)),Oo());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=ko(),l=Oo();return n.hs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=os(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new ls(e.key,t,ki(t.value.mapValue),Zo.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:xo(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.qa[e.currentUser.toKey()];r||(r=new Dr(mn)),r=r.insert(t,n),e.qa[e.currentUser.toKey()]=r}(r,e.batchId,n),await bd(r,e.changes),await gu(r.remoteStore)}catch(e){const t=Ru(e,"Failed to persist write");n.reject(t)}}(await $d(e),t,n))),n.promise}(Th(e),t)}function Hf(e,t,n){const r=n.docs.get(t._key),i=new Lf(e);return new Pf(e,i,t._key,r,new Rf(n.hasPendingWrites,n.fromCache),t.converter)}const Wf={maxAttempts:5};class Gf{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qh(e)}set(e,t,n){this._verifyNotCommitted();const r=Kf(e,this._firestore),i=Cf(r.converter,t,n),o=Hh(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Zo.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Kf(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=q(t))||t instanceof Oh?Xh(this._dataReader,"WriteBatch.update",r._key,t,n,s):Jh(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Zo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Kf(e,this._firestore);return this._mutations=this._mutations.concat(new hs(t._key,Zo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new nn(tn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kf(e,t){if((e=q(e)).firestore!==t)throw new nn(tn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Qf extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qh(e)}get(e){const t=Kf(e,this._firestore),n=new Af(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Xt();const r=e[0];if(r.isFoundDocument())return new uf(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new uf(this._firestore,n,t._key,null,t.converter);throw Xt()}))}set(e,t,n){const r=Kf(e,this._firestore),i=Cf(r.converter,t,n),o=Hh(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=Kf(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=q(t))||t instanceof Oh?Xh(this._dataReader,"Transaction.update",r._key,t,n,s):Jh(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Kf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Kf(e,this._firestore),n=new Lf(this._firestore);return super.get(e).then((e=>new Pf(this._firestore,n,t._key,e._document,new Rf(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Wt=e}(ut),tt(new H("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new kh(new ln(e.getProvider("auth-internal")),new hn(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new nn(tn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jr(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),gt(qt,"4.7.5",e),gt(qt,"4.7.5","esm2017")}();class Yf{constructor(e,t){this._delegate=e,this.firebase=t,Ze(e,new H("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),mt(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qe;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qe;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Ze(this._delegate,e)}_addOrOverwriteComponent(e){et(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const $f=new N("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Jf=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(r){const i=dt(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(D(t,i.name))return t[i.name];const o=new e(i,n);return t[i.name]=o,o},app:i,registerVersion:gt,setLogLevel:yt,onLog:vt,apps:null,SDK_VERSION:ut,INTERNAL:{registerComponent:function(t){const r=t.name,o=r.replace("-compat","");if(tt(t)&&"PUBLIC"===t.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw $f.create("invalid-app-argument",{appName:r});return e[o]()};void 0!==t.serviceProps&&v(s,t.serviceProps),n[o]=s,e.prototype[o]=function(){const e=this._getService.bind(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[o]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:r}};function i(e){if(!D(t,e=e||Qe))throw $f.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),i.App=e,n}(Yf);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){v(t,e)},createSubscribe:V,ErrorFactory:N,deepExtend:v}),t}(),Xf=new te("@firebase/app-compat");try{const e=y();if(void 0!==e.firebase){Xf.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&Xf.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch(hM){}const Zf=Jf;!function(e){gt("@firebase/app-compat","0.2.47",e)}();Zf.registerVersion("firebase","11.1.0","app-compat");function ep(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const tp="facebook.com",np="github.com",rp="google.com",ip="password",op="twitter.com",sp="EMAIL_SIGNIN",ap="PASSWORD_RESET",lp="RECOVER_EMAIL",cp="REVERT_SECOND_FACTOR_ADDITION",up="VERIFY_AND_CHANGE_EMAIL",dp="VERIFY_EMAIL";function hp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fp=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},pp=hp,mp=new N("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gp=new te("@firebase/auth");function vp(e){if(gp.logLevel<=$.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];gp.error("Auth (".concat(ut,"): ").concat(e),...n)}}function yp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ep(e,...n)}function bp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ep(e,...n)}function wp(e,t,n){const r=Object.assign(Object.assign({},pp()),{[t]:n});return new N("auth","Firebase",r).create(t,{appName:e.name})}function _p(e){return wp(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sp(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&yp(e,"argument-error"),wp(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ep(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return mp.create(e,...n)}function kp(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ep(t,...r)}}function Tp(e){const t="INTERNAL ASSERTION FAILED: "+e;throw vp(t),new Error(t)}function Ip(e,t){e||Tp(t)}function xp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Cp(){return"http:"===Ap()||"https:"===Ap()}function Ap(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Rp{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ip(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(E())||x()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Cp()||I()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Pp(e,t){Ip(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Np{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Tp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Tp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Tp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Op={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Dp=new Rp(3e4,6e4);function Mp(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Lp(e,t,n,r){return Fp(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=F(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Np.fetch()(Up(e,e.config.apiHost,n,s),l)}))}async function Fp(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Op),t);try{const t=new Bp(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw zp(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw zp(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw zp(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw zp(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw wp(e,a,s);yp(e,a)}}catch(i){if(i instanceof P)throw i;yp(e,"network-request-failed",{message:String(i)})}}async function jp(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Lp(e,t,n,r,i);return"mfaPendingCredential"in o&&yp(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Up(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Pp(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Vp(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bp{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(bp(this.auth,"network-request-failed"))),Dp.get())}))}}function zp(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bp(e,t,r);return i.customData._tokenResponse=n,i}function qp(e){return void 0!==e&&void 0!==e.getResponse}function Hp(e){return void 0!==e&&void 0!==e.enterprise}class Wp{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Vp(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Gp(e,t){return Lp(e,"GET","/v2/recaptchaConfig",Mp(e,t))}async function Kp(e,t){return Lp(e,"POST","/v1/accounts:lookup",t)}function Qp(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Yp(e){return 1e3*Number(e)}function $p(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return vp("JWT malformed, contained fewer than 3 sections"),null;try{const e=g(n);return e?JSON.parse(e):(vp("Failed to decode base64 JWT payload"),null)}catch(i){return vp("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Jp(e){const t=$p(e);return kp(t,"internal-error"),kp("undefined"!==typeof t.exp,"internal-error"),kp("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Xp(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof P&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Zp{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class em{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qp(this.lastLoginAt),this.creationTime=Qp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function tm(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Xp(e,Kp(n,{idToken:r}));kp(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?nm(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function nm(e){return e.map((e=>{var{providerId:t}=e,n=ep(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class rm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){kp(e.idToken,"internal-error"),kp("undefined"!==typeof e.idToken,"internal-error"),kp("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Jp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){kp(0!==e.length,"internal-error");const t=Jp(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(kp(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Fp(e,{},(async()=>{const n=F({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Up(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Np.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new rm;return n&&(kp("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(kp("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(kp("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rm,this.toJSON())}_performRefresh(){return Tp("not implemented")}}function im(e,t){kp("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class om{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new em(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Xp(this,this.stsTokenManager.getToken(this.auth,e));return kp(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=q(e),r=await n.getIdToken(t),i=$p(r);kp(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Qp(Yp(i.auth_time)),issuedAtTime:Qp(Yp(i.iat)),expirationTime:Qp(Yp(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=q(e);await tm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(kp(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new om(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){kp(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await tm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ot(this.auth.app))return Promise.reject(_p(this.auth));const e=await this.getIdToken();return await Xp(this,async function(e,t){return Lp(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:S}=t;kp(y&&S,e,"internal-error");const E=rm.fromJSON(this.name,S);kp("string"===typeof y,e,"internal-error"),im(u,e.name),im(d,e.name),kp("boolean"===typeof b,e,"internal-error"),kp("boolean"===typeof w,e,"internal-error"),im(h,e.name),im(f,e.name),im(p,e.name),im(m,e.name),im(g,e.name),im(v,e.name);const k=new om({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(k.providerData=_.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new rm;r.updateFromServerResponse(t);const i=new om({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await tm(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];kp(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?nm(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new rm;s.updateFromIdToken(n);const a=new om({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new em(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const sm=new Map;function am(e){Ip(e instanceof Function,"Expected a class definition");let t=sm.get(e);return t?(Ip(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,sm.set(e,t),t)}class lm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lm.type="NONE";const cm=lm;function um(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class dm{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=um(this.userKey,r.apiKey,i),this.fullPersistenceKey=um("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?om._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new dm(am(cm),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||am(cm);const o=um(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){const n=om._fromJSON(e,t);l!==i&&(s=n),i=l;break}}catch(hM){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(hM){}}))),new dm(i,e,n)):new dm(i,e,n)}}function hm(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fm(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ym(t))return"Blackberry";if(bm(t))return"Webos";if(pm(t))return"Safari";if((t.includes("chrome/")||mm(t))&&!t.includes("edge/"))return"Chrome";if(vm(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function fm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return/firefox\//i.test(e)}function pm(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:E()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return/crios\//i.test(e)}function gm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return/iemobile/i.test(e)}function vm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return/android/i.test(e)}function ym(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return/blackberry/i.test(e)}function bm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return/webos/i.test(e)}function wm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return wm(e)||vm(e)||bm(e)||ym(e)||/windows phone/i.test(e)||gm(e)}function Sm(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=hm(E());break;case"Worker":t="".concat(hm(E()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ut,"/").concat(r)}class Em{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class km{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Tm{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xm(this),this.idTokenSubscription=new xm(this),this.beforeStateQueue=new Em(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=am(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await dm.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Kp(this,{idToken:e}),n=await om._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ot(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return kp(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tm(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ot(this.app))return Promise.reject(_p(this));const t=e?q(e):null;return t&&kp(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&kp(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return ot(this.app)?Promise.reject(_p(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ot(this.app)?Promise.reject(_p(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(am(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Lp(e,"GET","/v2/passwordPolicy",Mp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new km(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new N("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Lp(e,"POST","/v2/accounts:revokeToken",Mp(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&am(e)||this._popupRedirectResolver;kp(t,this,"argument-error"),this.redirectPersistenceManager=await dm.create(this,[am(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(kp(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return kp(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(gp.logLevel<=$.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];gp.warn("Auth (".concat(ut,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Im(e){return q(e)}class xm{constructor(e){this.auth=e,this.observer=null,this.addObserver=V((e=>this.observer=e))}get next(){return kp(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Am(e){return Cm.loadJS(e)}function Rm(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}const Pm=1e12;class Nm{constructor(e){this.auth=e,this.counter=Pm,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Mm(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Pm;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Pm;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Pm;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Om{constructor(){this.enterprise=new Dm}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Dm{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Mm{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;kp(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Lm="NO_RECAPTCHA";class Fm{constructor(e){this.type="recaptcha-enterprise",this.auth=Im(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Hp(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Lm)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Om).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Gp(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Wp(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Hp(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Cm.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Am(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function jm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new Fm(e);let s;if(i)s=Lm;else try{s=await o.verify(n)}catch(l){s=await o.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Um(e,t,n,r,i){var o,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await jm(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await jm(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const i=await jm(e,t,n);return r(e,i).catch((async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await jm(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await jm(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Vm(e){const t=Im(e),n=await Gp(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Wp(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Fm(t).verify()}}function Bm(e,t,n){const r=Im(e);kp(r._canInitEmulator,r,"emulator-config-failed"),kp(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=zm(t),{host:s,port:a}=function(e){const t=zm(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:qm(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:qm(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function zm(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function qm(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Hm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Tp("not implemented")}_getIdTokenResponse(e){return Tp("not implemented")}_linkToIdToken(e,t){return Tp("not implemented")}_getReauthenticationResolver(e){return Tp("not implemented")}}async function Wm(e,t){return Lp(e,"POST","/v1/accounts:resetPassword",Mp(e,t))}async function Gm(e,t){return Lp(e,"POST","/v1/accounts:signUp",t)}async function Km(e,t){return jp(e,"POST","/v1/accounts:signInWithPassword",Mp(e,t))}async function Qm(e,t){return Lp(e,"POST","/v1/accounts:sendOobCode",Mp(e,t))}async function Ym(e,t){return Qm(e,t)}async function $m(e,t){return Qm(e,t)}class Jm extends Hm{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Jm(e,t,"password")}static _fromEmailAndCode(e,t){return new Jm(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Um(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Km,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return jp(e,"POST","/v1/accounts:signInWithEmailLink",Mp(e,t))}(e,{email:this._email,oobCode:this._password});default:yp(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Um(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return jp(e,"POST","/v1/accounts:signInWithEmailLink",Mp(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:yp(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Xm(e,t){return jp(e,"POST","/v1/accounts:signInWithIdp",Mp(e,t))}class Zm extends Hm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yp("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ep(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Zm(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Xm(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Xm(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xm(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=F(t)}return e}}async function eg(e,t){return Lp(e,"POST","/v1/accounts:sendVerificationCode",Mp(e,t))}const tg={USER_NOT_FOUND:"user-not-found"};class ng extends Hm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ng({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ng({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return jp(e,"POST","/v1/accounts:signInWithPhoneNumber",Mp(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await jp(e,"POST","/v1/accounts:signInWithPhoneNumber",Mp(e,t));if(n.temporaryProof)throw zp(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return jp(e,"POST","/v1/accounts:signInWithPhoneNumber",Mp(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),tg)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ng({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class rg{constructor(e){var t,n,r,i,o,s;const a=j(U(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);kp(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=j(U(e)).link,n=t?j(U(t)).deep_link_id:null,r=j(U(e)).deep_link_id;return(r?j(U(r)).link:null)||r||n||t||e}(e);try{return new rg(t)}catch(hM){return null}}}class ig{constructor(){this.providerId=ig.PROVIDER_ID}static credential(e,t){return Jm._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=rg.parseLink(t);return kp(n,"argument-error"),Jm._fromEmailAndCode(e,n.code,n.tenantId)}}ig.PROVIDER_ID="password",ig.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ig.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class sg extends og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ag extends sg{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return kp("providerId"in t&&"signInMethod"in t,"argument-error"),Zm._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return kp(e.idToken||e.accessToken,"argument-error"),Zm._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ag.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ag.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new ag(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(l){return null}}}class lg extends sg{constructor(){super("facebook.com")}static credential(e){return Zm._fromParams({providerId:lg.PROVIDER_ID,signInMethod:lg.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lg.credentialFromTaggedObject(e)}static credentialFromError(e){return lg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return lg.credential(t.oauthAccessToken)}catch(hM){return null}}}lg.FACEBOOK_SIGN_IN_METHOD="facebook.com",lg.PROVIDER_ID="facebook.com";class cg extends sg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zm._fromParams({providerId:cg.PROVIDER_ID,signInMethod:cg.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return cg.credentialFromTaggedObject(e)}static credentialFromError(e){return cg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return cg.credential(n,r)}catch(hM){return null}}}cg.GOOGLE_SIGN_IN_METHOD="google.com",cg.PROVIDER_ID="google.com";class ug extends sg{constructor(){super("github.com")}static credential(e){return Zm._fromParams({providerId:ug.PROVIDER_ID,signInMethod:ug.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ug.credentialFromTaggedObject(e)}static credentialFromError(e){return ug.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ug.credential(t.oauthAccessToken)}catch(hM){return null}}}ug.GITHUB_SIGN_IN_METHOD="github.com",ug.PROVIDER_ID="github.com";class dg extends Hm{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Xm(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Xm(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xm(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new dg(n,i):null}static _create(e,t){return new dg(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hg extends og{constructor(e){kp(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return hg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return hg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=dg.fromJSON(e);return kp(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return dg._create(r,n)}catch(i){return null}}}class fg extends sg{constructor(){super("twitter.com")}static credential(e,t){return Zm._fromParams({providerId:fg.PROVIDER_ID,signInMethod:fg.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fg.credentialFromTaggedObject(e)}static credentialFromError(e){return fg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return fg.credential(n,r)}catch(hM){return null}}}async function pg(e,t){return jp(e,"POST","/v1/accounts:signUp",Mp(e,t))}fg.TWITTER_SIGN_IN_METHOD="twitter.com",fg.PROVIDER_ID="twitter.com";class mg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await om._fromIdTokenResponse(e,n,r),o=gg(n);return new mg({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=gg(n);return new mg({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function gg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class vg extends P{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,vg.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new vg(e,t,n,r)}}function yg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw vg._fromErrorAndOperation(e,n,t,r);throw n}))}function bg(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function wg(e,t){const n=q(e);await Sg(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Lp(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=bg(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function _g(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Xp(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return mg._forOperation(e,"link",r)}async function Sg(e,t,n){await tm(t);const r=!1===e?"provider-already-linked":"no-such-provider";kp(bg(t.providerData).has(n)===e,t.auth,r)}async function Eg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(ot(r.app))return Promise.reject(_p(r));const i="reauthenticate";try{const o=await Xp(e,yg(r,i,t,e),n);kp(o.idToken,r,"internal-error");const s=$p(o.idToken);kp(s,r,"internal-error");const{sub:a}=s;return kp(e.uid===a,r,"user-mismatch"),mg._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&yp(r,"user-mismatch"),o}}async function kg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ot(e.app))return Promise.reject(_p(e));const r="signIn",i=await yg(e,r,t),o=await mg._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Tg(e,t){return kg(Im(e),t)}async function Ig(e,t){const n=q(e);return await Sg(!1,n,t.providerId),_g(n,t)}async function xg(e,t){return Eg(q(e),t)}async function Cg(e,t){if(ot(e.app))return Promise.reject(_p(e));const n=Im(e),r=await async function(e,t){return jp(e,"POST","/v1/accounts:signInWithCustomToken",Mp(e,t))}(n,{token:t,returnSecureToken:!0}),i=await mg._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Ag{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Rg._fromServerResponse(e,t):"totpInfo"in t?Pg._fromServerResponse(e,t):yp(e,"internal-error")}}class Rg extends Ag{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Rg(t)}}class Pg extends Ag{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Pg(t)}}function Ng(e,t,n){var r;kp((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),kp("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(kp(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(kp(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Og(e){const t=Im(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Dg(e,t){await async function(e,t){return Lp(e,"POST","/v1/accounts:update",Mp(e,t))}(q(e),{oobCode:t})}async function Mg(e,t){const n=q(e),r=await Wm(n,{oobCode:t}),i=r.requestType;switch(kp(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":kp(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":kp(r.mfaInfo,n,"internal-error");default:kp(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Ag._fromServerResponse(Im(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Lg(e,t){const n={identifier:t,continueUri:Cp()?xp():"http://localhost"},{signinMethods:r}=await async function(e,t){return Lp(e,"POST","/v1/accounts:createAuthUri",Mp(e,t))}(q(e),n);return r||[]}async function Fg(e,t){const n=q(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Ng(n.auth,r,t);const{email:i}=await async function(e,t){return Qm(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function jg(e,t,n){const r=q(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Ng(r.auth,i,n);const{email:o}=await async function(e,t){return Qm(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function Ug(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=q(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await Xp(i,async function(e,t){return Lp(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function Vg(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await Xp(e,async function(e,t){return Lp(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class Bg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class zg extends Bg{constructor(e,t,n,r){super(e,t,n),this.username=r}}class qg extends Bg{constructor(e,t){super(e,"facebook.com",t)}}class Hg extends zg{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Wg extends Bg{constructor(e,t){super(e,"google.com",t)}}class Gg extends zg{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Kg(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=$p(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Bg(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new qg(o,i);case"github.com":return new Hg(o,i);case"google.com":return new Wg(o,i);case"twitter.com":return new Gg(o,i,e.screenName||null);case"custom":case"anonymous":return new Bg(o,null);default:return new Bg(o,r,i)}}(n)}class Qg{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Qg("enroll",e,t)}static _fromMfaPendingCredential(e){return new Qg("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Qg._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Qg._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Yg{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Im(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Ag._fromServerResponse(n,e)));kp(r.mfaPendingCredential,n,"internal-error");const o=Qg._fromMfaPendingCredential(r.mfaPendingCredential);return new Yg(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await mg._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return kp(t.user,n,"internal-error"),mg._forOperation(t.user,t.operationType,s);default:yp(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function $g(e,t){return Lp(e,"POST","/v2/accounts/mfaEnrollment:start",Mp(e,t))}class Jg{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Ag._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Jg(e)}async getSession(){return Qg._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Xp(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Xp(this.user,function(e,t){return Lp(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Mp(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const Xg=new WeakMap;const Zg="__sak";class ev{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zg,"1"),this.storage.removeItem(Zg),Promise.resolve(!0)):Promise.resolve(!1)}catch(hM){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class tv extends ev{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_m(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);C()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tv.type="LOCAL";const nv=tv;class rv extends ev{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rv.type="SESSION";const iv=rv;class ov{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ov(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function sv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ov.receivers=[];class av{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=sv("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function lv(){return window}function cv(){return"undefined"!==typeof lv().WorkerGlobalScope&&"function"===typeof lv().importScripts}const uv="firebaseLocalStorageDb",dv="firebaseLocalStorage",hv="fbase_key";class fv{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function pv(e,t){return e.transaction([dv],t?"readwrite":"readonly").objectStore(dv)}function mv(){const e=indexedDB.open(uv,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(dv,{keyPath:hv})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(dv)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(uv);return new fv(e).toPromise()}(),t(await mv()))}))}))}async function gv(e,t,n){const r=pv(e,!0).put({[hv]:t,value:n});return new fv(r).toPromise()}function vv(e,t){const n=pv(e,!0).delete(t);return new fv(n).toPromise()}class yv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await mv()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ov._getInstance(cv()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new av(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(hM){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mv();return await gv(e,Zg,"1"),await vv(e,Zg),!0}catch(hM){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>gv(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=pv(e,!1).get(t),r=await new fv(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>vv(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=pv(e,!1).getAll();return new fv(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}yv.type="LOCAL";const bv=yv;function wv(e,t){return Lp(e,"POST","/v2/accounts/mfaSignIn:start",Mp(e,t))}const _v=Rm("rcb"),Sv=new Rp(3e4,6e4);class Ev{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=lv().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return kp(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&qp(lv().grecaptcha)?Promise.resolve(lv().grecaptcha):new Promise(((n,r)=>{const i=lv().setTimeout((()=>{r(bp(e,"network-request-failed"))}),Sv.get());lv()[_v]=()=>{lv().clearTimeout(i),delete lv()[_v];const o=lv().grecaptcha;if(!o||!qp(o))return void r(bp(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};Am("".concat(Cm.recaptchaV2Script,"?").concat(F({onload:_v,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(bp(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=lv().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class kv{async load(e){return new Nm(e)}clearedOneInstance(){}}const Tv="recaptcha",Iv={theme:"light",type:"image"};class xv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Iv);this.parameters=n,this.type=Tv,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Im(e),this.isInvisible="invisible"===this.parameters.size,kp("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;kp(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kv:new Ev,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){kp(!this.parameters.sitekey,this.auth,"argument-error"),kp(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),kp("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=lv()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){kp(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){kp(Cp()&&!cv(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Lp(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);kp(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return kp(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Cv{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ng._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Av(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Vm(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){kp("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Um(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Lm){kp((null===n||void 0===n?void 0:n.type)===Tv,e,"argument-error");return $g(e,await Rv(e,t,n))}return $g(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{kp("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;kp(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Um(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Lm){kp((null===n||void 0===n?void 0:n.type)===Tv,e,"argument-error");return wv(e,await Rv(e,t,n))}return wv(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Um(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Lm){kp((null===n||void 0===n?void 0:n.type)===Tv,e,"argument-error");return eg(e,await Rv(e,t,n))}return eg(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Rv(e,t,n){kp(n.type===Tv,e,"argument-error");const r=await n.verify();kp("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Pv{constructor(e){this.providerId=Pv.PROVIDER_ID,this.auth=Im(e)}verifyPhoneNumber(e,t){return Av(this.auth,e,q(t))}static credential(e,t){return ng._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Pv.credentialFromTaggedObject(t)}static credentialFromError(e){return Pv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ng._fromTokenResponse(n,r):null}}function Nv(e,t){return t?am(t):(kp(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Pv.PROVIDER_ID="phone",Pv.PHONE_SIGN_IN_METHOD="phone";class Ov extends Hm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xm(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Dv(e){return kg(e.auth,new Ov(e),e.bypassAuthState)}function Mv(e){const{auth:t,user:n}=e;return kp(n,t,"internal-error"),Eg(n,new Ov(e),e.bypassAuthState)}async function Lv(e){const{auth:t,user:n}=e;return kp(n,t,"internal-error"),_g(n,new Ov(e),e.bypassAuthState)}class Fv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dv;case"linkViaPopup":case"linkViaRedirect":return Lv;case"reauthViaPopup":case"reauthViaRedirect":return Mv;default:yp(this.auth,"internal-error")}}resolve(e){Ip(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ip(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jv=new Rp(2e3,1e4);class Uv extends Fv{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Uv.currentPopupAction&&Uv.currentPopupAction.cancel(),Uv.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return kp(e,this.auth,"internal-error"),e}async onExecution(){Ip(1===this.filter.length,"Popup operations only handle one event");const e=sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(bp(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(bp(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uv.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(bp(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,jv.get())};e()}}Uv.currentPopupAction=null;const Vv=new Map;class Bv extends Fv{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Vv.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Wv(t),r=Hv(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Vv.set(this.auth._key(),e)}return this.bypassAuthState||Vv.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function zv(e,t){return Hv(e)._set(Wv(t),"true")}function qv(e,t){Vv.set(e._key(),t)}function Hv(e){return am(e._redirectPersistence)}function Wv(e){return um("pendingRedirect",e.config.apiKey,e.name)}function Gv(e,t,n){return async function(e,t,n){if(ot(e.app))return Promise.reject(_p(e));const r=Im(e);Sp(e,t,og),await r._initializationPromise;const i=Nv(r,n);return await zv(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Kv(e,t,n){return async function(e,t,n){const r=q(e);if(Sp(r.auth,t,og),ot(r.auth.app))return Promise.reject(_p(r.auth));await r.auth._initializationPromise;const i=Nv(r.auth,n);await zv(i,r.auth);const o=await $v(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function Qv(e,t,n){return async function(e,t,n){const r=q(e);Sp(r.auth,t,og),await r.auth._initializationPromise;const i=Nv(r.auth,n);await Sg(!1,r,t.providerId),await zv(i,r.auth);const o=await $v(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function Yv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ot(e.app))return Promise.reject(_p(e));const r=Im(e),i=Nv(r,t),o=new Bv(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function $v(e){const t=sv("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Jv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zv(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Zv(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(bp(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xv(e))}saveEventToCache(e){this.cachedEventUids.add(Xv(e)),this.lastProcessedEventTime=Date.now()}}function Xv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Zv(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function ey(e){return Lp(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const ty=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ny=/^https?/;function ry(e){const t=xp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ny.test(n))return!1;if(ty.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const iy=new Rp(3e4,6e4);function oy(){const e=lv().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function sy(e){return new Promise(((t,n)=>{var r,i,o;function s(){oy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{oy(),n(bp(e,"network-request-failed"))},timeout:iy.get()})}if(null===(i=null===(r=lv().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=lv().gapi)||void 0===o?void 0:o.load)){const t=Rm("iframefcb");return lv()[t]=()=>{gapi.load?s():n(bp(e,"network-request-failed"))},Am("".concat(Cm.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw ay=null,e}))}let ay=null;const ly=new Rp(5e3,15e3),cy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dy(e){const t=e.config;kp(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Pp(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ut},i=uy.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(F(r).slice(1))}async function hy(e){const t=await function(e){return ay=ay||sy(e),ay}(e),n=lv().gapi;return kp(n,e,"internal-error"),t.open({where:document.body,url:dy(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cy,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=bp(e,"network-request-failed"),o=lv().setTimeout((()=>{r(i)}),ly.get());function s(){lv().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const fy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class py{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function my(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},fy),{width:r.toString(),height:i.toString(),top:o,left:s}),c=E().toLowerCase();n&&(a=mm(c)?"_blank":n),fm(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return wm(arguments.length>0&&void 0!==arguments[0]?arguments[0]:E())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new py(null);const d=window.open(t||"",a,u);kp(d,e,"popup-blocked");try{d.focus()}catch(h){}return new py(d)}const gy="__/auth/handler",vy="emulator/auth/handler",yy=encodeURIComponent("fac");async function by(e,t,n,r,i,o){kp(e.config.authDomain,e,"auth-domain-config-required"),kp(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ut,eventId:i};if(t instanceof og){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof sg){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(yy,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(gy);return Pp(t,vy)}(e),"?").concat(F(a).slice(1)).concat(c)}const wy="webStorageSupport";const _y=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iv,this._completeRedirectFn=Yv,this._overrideRedirectResult=qv}async _openPopup(e,t,n,r){var i;Ip(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return my(e,await by(e,t,n,xp(),r),sv())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){lv().location.href=e}(await by(e,t,n,xp(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ip(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await hy(e),n=new Jv(e);return t.register("authEvent",(t=>{kp(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wy,{type:wy},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[wy];void 0!==i&&t(!!i),yp(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ey(e);for(const n of t)try{if(ry(n))return}catch(hM){}yp(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _m()||pm()||wm()}};class Sy{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Tp("unexpected MultiFactorSessionType")}}}class Ey extends Sy{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Ey(e)}_finalizeEnroll(e,t,n){return function(e,t){return Lp(e,"POST","/v2/accounts/mfaEnrollment:finalize",Mp(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Lp(e,"POST","/v2/accounts/mfaSignIn:finalize",Mp(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ky{constructor(){}static assertion(e){return Ey._fromCredential(e)}}ky.FACTOR_ID="phone";var Ty="@firebase/auth",Iy="1.8.1";class xy{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){kp(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=b())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var Cy;function Ay(){return window}Cm={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=bp("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Cy="Browser",tt(new H("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;kp(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Cy,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sm(Cy)},c=new Tm(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(am);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),tt(new H("auth-internal",(e=>(e=>new xy(e))(Im(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),gt(Ty,Iy,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Cy)),gt(Ty,Iy,"esm2017");async function Ry(e,t,n){var r;const{BuildInfo:i}=Ay();Ip(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(Ip(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return wm()?s.ibi=i.packageName:vm()?s.apn=i.packageName:yp(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,by(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function Py(e){const{cordova:t}=Ay();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}class Ny extends Jv{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInitialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Oy(e){const t=await Ly()._get(Fy(e));return t&&await Ly()._remove(Fy(e)),t}function Dy(e,t){var n,r;const i=function(e){const t=jy(e),n=t.link?decodeURIComponent(t.link):void 0,r=jy(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return jy(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=jy(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?bp(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function My(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Ly(){return am(nv)}function Fy(e){return um("authEvent",e.config.apiKey,e.name)}function jy(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return j(n.join("?"))}const Uy=class{constructor(){this._redirectPersistence=iv,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Yv,this._overrideRedirectResult=qv}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Ny(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){yp(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,l,c,u;const d=Ay();kp("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),kp("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),kp("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),kp("function"===typeof(null===(l=null===(a=null===(s=null===d||void 0===d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),kp("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Vv.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:My(),postBody:null,tenantId:e.tenantId,error:bp(e,"no-auth-event")}}(e,n,r);await function(e,t){return Ly()._set(Fy(e),t)}(e,o);const s=await Ry(e,o,t);return async function(e,t,n){const{cordova:r}=Ay();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(bp(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),vm()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await Py(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Ay(),n={};wm()?n.iosBundleId=t.packageName:vm()?n.androidPackageName=t.packageName:yp(e,"operation-not-supported-in-this-environment"),await ey(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Ay(),o=setTimeout((async()=>{await Oy(e),t.onEvent(Vy())}),500),s=async n=>{clearTimeout(o);const r=await Oy(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Dy(r,n.url)),t.onEvent(i||Vy())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,l="".concat(i.packageName.toLowerCase(),"://");Ay().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function Vy(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:bp("no-auth-event")}}function By(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function zy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return!("file:"!==By()&&"ionic:"!==By()&&"capacitor:"!==By()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function qy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return C()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();return/Edge\/\d+/.test(e)}(e)}function Hy(){try{const e=self.localStorage,t=sv();if(e)return e.setItem(t,"1"),e.removeItem(t),!qy()||R()}catch(e){return Wy()&&R()}return!1}function Wy(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Gy(){return("http:"===By()||"https:"===By()||I()||zy())&&!(x()||k())&&Hy()&&!Wy()}function Ky(){return zy()&&"undefined"!==typeof document}const Qy={LOCAL:"local",NONE:"none",SESSION:"session"},Yy=kp,$y="persistence";async function Jy(e){await e._initializationPromise;const t=Xy(),n=um($y,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Xy(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Zy=kp;class eb{constructor(){this.browserResolver=am(_y),this.cordovaResolver=am(Uy),this.underlyingResolver=null,this._redirectPersistence=iv,this._completeRedirectFn=Yv,this._overrideRedirectResult=qv}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Ky()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zy(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Ky()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function tb(e){return e.unwrap()}function nb(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new sb(e,function(e,t){var n;const r=q(e),i=t;return kp(t.customData.operationType,r,"argument-error"),kp(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Yg._fromError(r,i)}(e,t))}else if(r){const e=rb(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function rb(e){const{_tokenResponse:t}=e instanceof P?e.customData:e;if(!t)return null;if(!(e instanceof P)&&"temporaryProof"in t&&"phoneNumber"in t)return Pv.credentialFromResult(e);const n=t.providerId;if(!n||n===ip)return null;let r;switch(n){case rp:r=cg;break;case tp:r=lg;break;case np:r=ug;break;case op:r=fg;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?dg._create(n,s):Zm._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new ag(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof P?r.credentialFromError(e):r.credentialFromResult(e)}function ib(e,t){return t.catch((t=>{throw t instanceof P&&nb(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,rb(r)),additionalUserInfo:Kg(e),user:ab.getOrCreate(n)};var r}))}async function ob(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>ib(e,n.confirm(t))}}class sb{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ib(tb(this.auth),this.resolver.resolveSignIn(e))}}class ab{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=q(e);return Xg.has(t)||Xg.set(t,Jg._fromUser(t)),Xg.get(t)}(e)}static getOrCreate(e){return ab.USER_MAP.has(e)||ab.USER_MAP.set(e,new ab(e)),ab.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ib(this.auth,Ig(this._delegate,e))}async linkWithPhoneNumber(e,t){return ob(this.auth,async function(e,t,n){const r=q(e);await Sg(!1,r,"phone");const i=await Av(r.auth,t,q(n));return new Cv(i,(e=>Ig(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return ib(this.auth,async function(e,t,n){const r=q(e);Sp(r.auth,t,og);const i=Nv(r.auth,n);return new Uv(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,eb))}async linkWithRedirect(e){return await Jy(Im(this.auth)),Qv(this._delegate,e,eb)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ib(this.auth,xg(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return ob(this.auth,async function(e,t,n){const r=q(e);if(ot(r.auth.app))return Promise.reject(_p(r.auth));const i=await Av(r.auth,t,q(n));return new Cv(i,(e=>xg(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return ib(this.auth,async function(e,t,n){const r=q(e);if(ot(r.auth.app))return Promise.reject(bp(r.auth,"operation-not-supported-in-this-environment"));Sp(r.auth,t,og);const i=Nv(r.auth,n);return new Uv(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,eb))}async reauthenticateWithRedirect(e){return await Jy(Im(this.auth)),Kv(this._delegate,e,eb)}sendEmailVerification(e){return Fg(this._delegate,e)}async unlink(e){return await wg(this._delegate,e),this}updateEmail(e){return function(e,t){const n=q(e);return ot(n.auth.app)?Promise.reject(_p(n.auth)):Vg(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Vg(q(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=q(e);if(ot(n.auth.app))return Promise.reject(_p(n.auth));await _g(n,t)}(this._delegate,e)}updateProfile(e){return Ug(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return jg(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ab.USER_MAP=new WeakMap;const lb=kp;class cb{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;lb(n,"invalid-api-key",{appName:e.name}),lb(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?eb:void 0;this._delegate=t.initialize({options:{persistence:db(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(fp),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ab.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Bm(this._delegate,e,t)}applyActionCode(e){return Dg(this._delegate,e)}checkActionCode(e){return Mg(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Wm(q(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Og(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ib(this._delegate,async function(e,t,n){if(ot(e.app))return Promise.reject(_p(e));const r=Im(e),i=Um(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pg,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Og(e),t})),s=await mg._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Lg(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=rg.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){lb(Gy(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Im(e)._initializationPromise,Yv(e,t,!1)}(this._delegate,eb);return e?ib(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Im(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=ub(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=ub(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Im(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){kp(t.handleCodeInApp,r,"argument-error"),t&&Ng(r,e,t)}(i,n),await Um(r,i,"getOobCode",$m,"EMAIL_PASSWORD_PROVIDER")}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Im(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Ng(r,i,n),await Um(r,i,"getOobCode",Ym,"EMAIL_PASSWORD_PROVIDER")}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Yy(Object.values(Qy).includes(t),e,"invalid-persistence-type"),x()?Yy(t!==Qy.SESSION,e,"unsupported-persistence-type"):k()?Yy(t===Qy.NONE,e,"unsupported-persistence-type"):Wy()?Yy(t===Qy.NONE||t===Qy.LOCAL&&R(),e,"unsupported-persistence-type"):Yy(t===Qy.NONE||Hy(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Qy.SESSION:t=iv;break;case Qy.LOCAL:t=await am(bv)._isAvailable()?bv:nv;break;case Qy.NONE:t=cm;break;default:return yp("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ib(this._delegate,async function(e){var t;if(ot(e.app))return Promise.reject(_p(e));const n=Im(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new mg({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await pg(n,{returnSecureToken:!0}),i=await mg._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return ib(this._delegate,Tg(this._delegate,e))}signInWithCustomToken(e){return ib(this._delegate,Cg(this._delegate,e))}signInWithEmailAndPassword(e,t){return ib(this._delegate,function(e,t,n){return ot(e.app)?Promise.reject(_p(e)):Tg(q(e),ig.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Og(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return ib(this._delegate,async function(e,t,n){if(ot(e.app))return Promise.reject(_p(e));const r=q(e),i=ig.credentialWithLink(t,n||xp());return kp(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Tg(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return ob(this._delegate,async function(e,t,n){if(ot(e.app))return Promise.reject(_p(e));const r=Im(e),i=await Av(r,t,q(n));return new Cv(i,(e=>Tg(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return lb(Gy(),this._delegate,"operation-not-supported-in-this-environment"),ib(this._delegate,async function(e,t,n){if(ot(e.app))return Promise.reject(bp(e,"operation-not-supported-in-this-environment"));const r=Im(e);Sp(e,t,og);const i=Nv(r,n);return new Uv(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,eb))}async signInWithRedirect(e){return lb(Gy(),this._delegate,"operation-not-supported-in-this-environment"),await Jy(this._delegate),Gv(this._delegate,e,eb)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Mg(q(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function ub(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&ab.getOrCreate(e)),error:t,complete:n}}function db(e,t){const n=function(e,t){const n=Xy();if(!n)return[];const r=um($y,e,t);switch(n.getItem(r)){case Qy.NONE:return[cm];case Qy.LOCAL:return[bv,iv];case Qy.SESSION:return[iv];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(bv)||n.push(bv),"undefined"!==typeof window)for(const r of[nv,iv])n.includes(r)||n.push(r);return n.includes(cm)||n.push(cm),n}cb.Persistence=Qy;class hb{static credential(e,t){return Pv.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Pv(tb(Zf.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}hb.PHONE_SIGN_IN_METHOD=Pv.PHONE_SIGN_IN_METHOD,hb.PROVIDER_ID=Pv.PROVIDER_ID;const fb=kp;class pb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zf.app();var r;fb(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new xv(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var mb;(mb=Zf).INTERNAL.registerComponent(new H("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new cb(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:sp,PASSWORD_RESET:ap,RECOVER_EMAIL:lp,REVERT_SECOND_FACTOR_ADDITION:cp,VERIFY_AND_CHANGE_EMAIL:up,VERIFY_EMAIL:dp}},EmailAuthProvider:ig,FacebookAuthProvider:lg,GithubAuthProvider:ug,GoogleAuthProvider:cg,OAuthProvider:ag,SAMLAuthProvider:hg,PhoneAuthProvider:hb,PhoneMultiFactorGenerator:ky,RecaptchaVerifier:pb,TwitterAuthProvider:fg,Auth:cb,AuthCredential:Hm,Error:P}).setInstantiationMode("LAZY").setMultipleInstances(!1)),mb.registerVersion("@firebase/auth-compat","0.5.16");function gb(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new nn("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function vb(){if("undefined"===typeof Uint8Array)throw new nn("unimplemented","Uint8Arrays are not available in this environment.")}function yb(){if("undefined"==typeof atob)throw new nn("unimplemented","Blobs are unavailable in Firestore in this environment.")}class bb{constructor(e){this._delegate=e}static fromBase64String(e){return yb(),new bb(Nh.fromBase64String(e))}static fromUint8Array(e){return vb(),new bb(Nh.fromUint8Array(e))}toBase64(){return yb(),this._delegate.toBase64()}toUint8Array(){return vb(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function wb(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class _b{enableIndexedDbPersistence(e,t){return function(e,t){$t("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return xh(e,Ld.provider,{build:e=>new Dd(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return async function(e){$t("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();xh(e,Ld.provider,{build:e=>new Md(e,t.cacheSizeBytes)})}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new nn(tn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new rn;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Un.p())return Promise.resolve();const t=e+"main";await Un.delete(t)}(cc(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Sb{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Jr||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||$t("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fh(this._delegate,e,t,n)}enableNetwork(){return Ah(this._delegate)}disableNetwork(){return Rh(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,oh("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Ch(this._delegate)}onSnapshotsInSync(e){return zf(this._delegate,e)}get app(){if(!this._appCompat)throw new nn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Lb(this,vh(this._delegate,e))}catch(t){throw Cb(t,"collection()","Firestore.collection()")}}doc(e){try{return new xb(this,yh(this._delegate,e))}catch(t){throw Cb(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ob(this,function(e,t){if(e=ch(e,hh),ih("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new nn(tn.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new ph(e,null,function(e){return new io(_n.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Cb(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=ch(e,kh);const r=Object.assign(Object.assign({},Wf),n);return function(e){if(e.maxAttempts<1)throw new nn(tn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new rn;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Jd(e);new Bd(e.asyncQueue,i,n,t,r).cu()})),r.promise}(Th(e),(n=>t(new Qf(e,n))),r)}(this._delegate,(t=>e(new kb(this,t))))}batch(){return Th(this._delegate),new Tb(new Gf(this._delegate,(e=>qf(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Th(e=ch(e,kh)),r=new Eh;return th(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return Ph(this._delegate,e).then((e=>e?new Ob(this,e):null))}}class Eb extends xf{constructor(e){super(),this.firestore=e}convertBytes(e){return new bb(new Nh(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xb.forKey(t,this.firestore,null)}}class kb{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Eb(e)}get(e){const t=Fb(e);return this._delegate.get(t).then((e=>new Pb(this._firestore,new Pf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Fb(e);return n?(gb("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=Fb(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=Fb(e);return this._delegate.delete(t),this}}class Tb{constructor(e){this._delegate=e}set(e,t,n){const r=Fb(e);return n?(gb("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=Fb(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=Fb(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ib{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Nf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Nb(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Ib.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Ib(e,new Eb(e),t),r.set(t,i)),i}}Ib.INSTANCES=new WeakMap;class xb{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Eb(e)}static forPath(e,t,n){if(e.length%2!==0)throw new nn("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new xb(t,new mh(t._delegate,n,new kn(e)))}static forKey(e,t,n){return new xb(t,new mh(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Lb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Lb(this.firestore,vh(this._delegate,e))}catch(t){throw Cb(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=q(e))instanceof mh&&bh(this._delegate,e)}set(e,t){t=gb("DocumentReference.set",t);try{return t?Uf(this._delegate,e,t):Uf(this._delegate,e)}catch(n){throw Cb(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Vf(this._delegate,e):Vf(this._delegate,e,t,...r)}catch(o){throw Cb(o,"updateDoc()","DocumentReference.update()")}}delete(){return qf(ch((e=this._delegate).firestore,kh),[new hs(e._key,Zo.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Ab(t),i=Rb(t,(e=>new Pb(this.firestore,new Pf(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return Bf(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ff(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ch(e,mh);const t=ch(e.firestore,kh);return Zd(Th(t),e._key,{source:"server"}).then((n=>Hf(t,e,n)))}(this._delegate):function(e){e=ch(e,mh);const t=ch(e.firestore,kh);return Zd(Th(t),e._key).then((n=>Hf(t,e,n)))}(this._delegate),t.then((e=>new Pb(this.firestore,new Pf(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new xb(this.firestore,e?this._delegate.withConverter(Ib.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Cb(e,t,n){return e.message=e.message.replace(t,n),e}function Ab(e){for(const t of e)if("object"===typeof t&&!wb(t))return t;return{}}function Rb(e,t){var n,r;let i;return i=wb(e[0])?e[0]:wb(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Pb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xb(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Mf(this._delegate,e._delegate)}}class Nb extends Pb{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Xt(),t}}class Ob{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Eb(e)}where(e,t,n){try{return new Ob(this.firestore,gf(this._delegate,function(e,t,n){const r=t,i=hf("where",e);return vf._create(i,r,n)}(e,t,n)))}catch(r){throw Cb(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ob(this.firestore,gf(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=hf("orderBy",e);return bf._create(n,t)}(e,t)))}catch(n){throw Cb(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ob(this.firestore,gf(this._delegate,(uh("limit",t=e),wf._create("limit",t,"F"))))}catch(t){throw Cb(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new Ob(this.firestore,gf(this._delegate,(uh("limitToLast",t=e),wf._create("limitToLast",t,"L"))))}catch(t){throw Cb(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new Ob(this.firestore,gf(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _f._create("startAt",t,!0)}(...arguments)))}catch(e){throw Cb(e,"startAt()","Query.startAt()")}}startAfter(){try{return new Ob(this.firestore,gf(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _f._create("startAfter",t,!1)}(...arguments)))}catch(e){throw Cb(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new Ob(this.firestore,gf(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Sf._create("endBefore",t,!1)}(...arguments)))}catch(e){throw Cb(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new Ob(this.firestore,gf(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Sf._create("endAt",t,!0)}(...arguments)))}catch(e){throw Cb(e,"endAt()","Query.endAt()")}}isEqual(e){return wh(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?jf(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ch(e,ph);const t=ch(e.firestore,kh),n=Th(t),r=new Lf(t);return eh(n,e._query,{source:"server"}).then((n=>new Of(t,r,e,n)))}(this._delegate):function(e){e=ch(e,ph);const t=ch(e.firestore,kh),n=Th(t),r=new Lf(t);return ff(e._query),eh(n,e._query).then((n=>new Of(t,r,e,n)))}(this._delegate),t.then((e=>new Mb(this.firestore,new Of(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Ab(t),i=Rb(t,(e=>new Mb(this.firestore,new Of(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return Bf(this._delegate,r,i)}withConverter(e){return new Ob(this.firestore,e?this._delegate.withConverter(Ib.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Db{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Nb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Mb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ob(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Nb(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Db(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Nb(this._firestore,n))}))}isEqual(e){return Mf(this._delegate,e._delegate)}}class Lb extends Ob{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xb(this.firestore,e):null}doc(e){try{return new xb(this.firestore,void 0===e?yh(this._delegate):yh(this._delegate,e))}catch(t){throw Cb(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=ch(e.firestore,kh),r=yh(e),i=Cf(e.converter,t);return qf(n,[Hh(qh(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Zo.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new xb(this.firestore,e)))}isEqual(e){return bh(this._delegate,e._delegate)}withConverter(e){return new Lb(this.firestore,e?this._delegate.withConverter(Ib.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Fb(e){return ch(e,mh)}class jb{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new Oh(...t)}static documentId(){return new jb(En.keyField().canonicalString())}isEqual(e){return(e=q(e))instanceof Oh&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ub{static serverTimestamp(){const e=new Kh("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Ub(e)}static delete(){const e=new Wh("deleteField");return e._methodName="FieldValue.delete",new Ub(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Qh("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new Ub(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Yh("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new Ub(e)}static increment(e){const t=new $h("increment",e);return t._methodName="FieldValue.increment",new Ub(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Vb={Firestore:Sb,GeoPoint:Mh,Timestamp:yn,Blob:bb,Transaction:kb,WriteBatch:Tb,DocumentReference:xb,DocumentSnapshot:Pb,Query:Ob,QueryDocumentSnapshot:Nb,QuerySnapshot:Mb,CollectionReference:Lb,FieldPath:jb,FieldValue:Ub,setLogLevel:function(e){var t;t=e,Gt.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new H("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Vb)))}(e,((e,t)=>new Sb(e,t,new _b))),e.registerVersion("@firebase/firestore-compat","0.3.40")}(Zf);const Bb="firebasestorage.googleapis.com",zb="storageBucket";class qb extends P{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Gb(e),"Firebase Storage: ".concat(t," (").concat(Gb(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qb.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Hb,Wb;function Gb(e){return"storage/"+e}function Kb(){return new qb(Hb.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Qb(){return new qb(Hb.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Yb(){return new qb(Hb.CANCELED,"User canceled the upload/download.")}function $b(){return new qb(Hb.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Jb(e){return new qb(Hb.INVALID_ARGUMENT,e)}function Xb(){return new qb(Hb.APP_DELETED,"The Firebase app was deleted.")}function Zb(e){return new qb(Hb.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ew(e,t){return new qb(Hb.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function tw(e){throw new qb(Hb.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Hb||(Hb={}));class nw{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=nw.makeFromUrl(e,t)}catch(i){return new nw(e,"")}if(""===n.path)return n;throw r=e,new qb(Hb.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===Bb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new nw(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new qb(Hb.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class rw{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function iw(e){return"string"===typeof e||e instanceof String}function ow(e){return sw()&&e instanceof Blob}function sw(){return"undefined"!==typeof Blob}function aw(e,t,n,r){if(r<t)throw Jb("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Jb("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function lw(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function cw(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function uw(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Wb||(Wb={}));class dw{constructor(e,t,n,r,i,o,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new hw(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Wb.NO_ERROR,i=n.getStatus();if(!t||uw(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Wb.ABORT;return void e(!1,new hw(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new hw(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(o){r(o)}else if(null!==i){const e=Kb();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Xb():Yb())}else{r(Qb())}};this.canceled_?t(0,new hw(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class hw{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function fw(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function pw(){const e=fw();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(sw())return new Blob(n);throw new qb(Hb.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function mw(e){if("undefined"===typeof atob)throw t="base-64",new qb(Hb.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const gw={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vw{constructor(e,t){this.data=e,this.contentType=t||null}}function yw(e,t){switch(e){case gw.RAW:return new vw(bw(t));case gw.BASE64:case gw.BASE64URL:return new vw(ww(e,t));case gw.DATA_URL:return new vw(function(e){const t=new _w(e);return t.base64?ww(gw.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw ew(gw.DATA_URL,"Malformed data URL.")}return bw(t)}(t.rest)}(t),new _w(t).contentType)}throw Kb()}function bw(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ww(e,t){switch(e){case gw.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw ew(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case gw.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw ew(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=mw(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw ew(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class _w{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw ew(gw.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Sw{constructor(e,t){let n=0,r="";ow(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(ow(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Sw(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Sw(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(sw()){const e=t.map((e=>e instanceof Sw?e.data_:e));return new Sw(pw.apply(null,e))}{const e=t.map((e=>iw(e)?yw(gw.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Sw(r,!0)}}uploadData(){return this.data_}}function Ew(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function kw(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Tw(e,t){return t}class Iw{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Tw}}let xw=null;function Cw(){if(xw)return xw;const e=[];e.push(new Iw("bucket")),e.push(new Iw("generation")),e.push(new Iw("metageneration")),e.push(new Iw("name","fullPath",!0));const t=new Iw("name");t.xform=function(e,t){return function(e){return!iw(e)||e.length<2?e:kw(e)}(t)},e.push(t);const n=new Iw("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Iw("timeCreated")),e.push(new Iw("updated")),e.push(new Iw("md5Hash",null,!0)),e.push(new Iw("cacheControl",null,!0)),e.push(new Iw("contentDisposition",null,!0)),e.push(new Iw("contentEncoding",null,!0)),e.push(new Iw("contentLanguage",null,!0)),e.push(new Iw("contentType",null,!0)),e.push(new Iw("metadata","customMetadata",!0)),xw=e,xw}function Aw(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new nw(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Rw(e,t,n){const r=Ew(t);if(null===r)return null;return Aw(e,r,n)}function Pw(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const Nw="prefixes",Ow="items";function Dw(e,t,n){const r=Ew(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Nw])for(const i of n[Nw]){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new nw(t,n));r.prefixes.push(o)}if(n[Ow])for(const i of n[Ow]){const n=e._makeStorageReference(new nw(t,i.name));r.items.push(n)}return r}(e,t,r)}class Mw{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Lw(e){if(!e)throw Kb()}function Fw(e,t){return function(n,r){const i=Rw(e,r,t);return Lw(null!==i),i}}function jw(e,t){return function(n,r){const i=Rw(e,r,t);return Lw(null!==i),function(e,t,n,r){const i=Ew(t);if(null===i)return null;if(!iw(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent,a=o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return lw("/b/"+s(i)+"/o/"+s(o),n,r)+cw({alt:"media",token:t})}));return a[0]}(i,r,e.host,e._protocol)}}function Uw(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new qb(Hb.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new qb(Hb.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new qb(Hb.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new qb(Hb.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Vw(e){const t=Uw(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new qb(Hb.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Bw(e,t,n){const r=lw(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Mw(r,"GET",Fw(e,n),i);return o.errorHandler=Vw(t),o}function zw(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=lw(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new Mw(s,"GET",function(e,t){return function(n,r){const i=Dw(e,t,r);return Lw(null!==i),i}}(e,t.bucket),a);return l.urlParams=o,l.errorHandler=Uw(t),l}function qw(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Hw(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=qw(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Pw(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=Sw.getBlob(c,r,u);if(null===d)throw $b();const h={name:l.fullPath},f=lw(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new Mw(f,"POST",Fw(e,n),p);return m.urlParams=h,m.headers=s,m.body=d.uploadData(),m.errorHandler=Uw(t),m}class Ww{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function Gw(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Lw(!1)}return Lw(!!n&&-1!==(t||["active"]).indexOf(n)),n}const Kw=262144;function Qw(e,t,n,r,i,o,s,a){const l=new Ww(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new qb(Hb.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,h=d+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(d,h);if(null===m)throw $b();const g=t.maxUploadRetryTime,v=new Mw(n,"POST",(function(e,n){const i=Gw(e,["active","final"]),s=l.current+u,a=r.size();let c;return c="final"===i?Fw(t,o)(e,n):null,new Ww(s,a,"final"===i,c)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=Uw(e),v}const Yw={STATE_CHANGED:"state_changed"},$w={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Jw(e){switch(e){case"running":case"pausing":case"canceling":return $w.RUNNING;case"paused":return $w.PAUSED;case"success":return $w.SUCCESS;case"canceled":return $w.CANCELED;default:return $w.ERROR}}class Xw{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function Zw(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}class e_{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wb.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Wb.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Wb.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw tw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw tw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class t_ extends e_{initXhr(){this.xhr_.responseType="text"}}function n_(){return new t_}class r_{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Cw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(Hb.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(uw(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=Qb()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(Hb.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=qw(t,r,i),a={name:s.fullPath},l=lw(o,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=Pw(s,n),d=e.maxUploadRetryTime,h=new Mw(l,"POST",(function(e){let t;Gw(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Lw(!1)}return Lw(iw(t)),t}),d);return h.urlParams=a,h.headers=c,h.body=u,h.errorHandler=Uw(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,n_,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new Mw(n,"POST",(function(e){const t=Gw(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Lw(!1)}n||Lw(!1);const i=Number(n);return Lw(!isNaN(i)),new Ww(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Uw(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,n_,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=Kw*this._chunkMultiplier,t=new Ww(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=Qw(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const s=this._ref.storage._makeRequest(o,n_,r,i,!1);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(Kw*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=Bw(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,n_,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=Hw(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,n_,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Yb(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Jw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new Xw(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Jw(this._state)){case $w.SUCCESS:Zw(this._resolve.bind(null,this.snapshot))();break;case $w.CANCELED:case $w.ERROR:Zw(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Jw(this._state)){case $w.RUNNING:case $w.PAUSED:e.next&&Zw(e.next.bind(e,this.snapshot))();break;case $w.SUCCESS:e.complete&&Zw(e.complete.bind(e))();break;default:e.error&&Zw(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class i_{constructor(e,t){this._service=e,this._location=t instanceof nw?t:nw.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new i_(e,t)}get root(){const e=new nw(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kw(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new nw(this._location.bucket,e);return new i_(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Zb(e)}}function o_(e){const t={prefixes:[],items:[]};return s_(e,t).then((()=>t))}async function s_(e,t,n){const r={pageToken:n},i=await a_(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await s_(e,t,i.nextPageToken)}function a_(e,t){null!=t&&"number"===typeof t.maxResults&&aw("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=zw(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,n_)}function l_(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=lw(t.fullServerUrl(),e.host,e._protocol),o=Pw(n,r),s=e.maxOperationRetryTime,a=new Mw(i,"PATCH",Fw(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Vw(t),a}(e.storage,e._location,t,Cw());return e.storage.makeRequestWithTokens(n,n_)}function c_(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=lw(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Mw(r,"GET",jw(e,n),i);return o.errorHandler=Vw(t),o}(e.storage,e._location,Cw());return e.storage.makeRequestWithTokens(t,n_).then((e=>{if(null===e)throw new qb(Hb.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function u_(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=lw(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Mw(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Vw(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,n_)}function d_(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new nw(e._location.bucket,n);return new i_(e.storage,r)}function h_(e,t){if(e instanceof m_){const n=e;if(null==n._bucket)throw new qb(Hb.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zb+"' property when initializing the app?");const r=new i_(n,n._bucket);return null!=t?h_(r,t):r}return void 0!==t?d_(e,t):e}function f_(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof m_)return new i_(e,t);throw Jb("To use ref(service, url), the first argument must be a Storage instance.")}return h_(e,t)}function p_(e,t){const n=null===t||void 0===t?void 0:t[zb];return null==n?null:nw.makeFromBucketSpec(n,e)}class m_{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Bb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?nw.makeFromBucketSpec(r,this._host):p_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=nw.makeFromBucketSpec(this._url,e):this._bucket=p_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new i_(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new rw(Xb());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=cw(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new dw(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const g_="@firebase/storage",v_="0.13.4",y_="storage";function b_(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new r_(e,new Sw(t),n)}(e=q(e),t,n)}function w_(e){return function(e){e._throwIfRoot("getMetadata");const t=Bw(e.storage,e._location,Cw());return e.storage.makeRequestWithTokens(t,n_)}(e=q(e))}function __(e,t){return f_(e=q(e),t)}function S_(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:S(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function E_(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new m_(r,i,o,n,ut)}tt(new H(y_,E_,"PUBLIC").setMultipleInstances(!0)),gt(g_,v_,""),gt(g_,v_,"esm2017");class k_{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class T_{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new k_(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new k_(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new k_(e,this,this._ref)):{next:t.next?e=>t.next(new k_(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class I_{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new x_(e,this._service)))}get items(){return this._delegate.items.map((e=>new x_(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class x_{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return d_(e,t)}(this._delegate,e);return new x_(t,this.storage)}get root(){return new x_(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new x_(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new T_(b_(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gw.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=yw(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new T_(new r_(this._delegate,new Sw(r.data,!0),i),this)}listAll(){return function(e){return o_(e=q(e))}(this._delegate).then((e=>new I_(e,this.storage)))}list(e){return function(e,t){return a_(e=q(e),t)}(this._delegate,e||void 0).then((e=>new I_(e,this.storage)))}getMetadata(){return w_(this._delegate)}updateMetadata(e){return function(e,t){return l_(e=q(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return c_(e=q(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return u_(e=q(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Zb(e)}}class C_{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(A_(e))throw Jb("ref() expected a child path but got a URL, use refFromURL instead.");return new x_(__(this._delegate,e),this)}refFromURL(e){if(!A_(e))throw Jb("refFromURL() expected a full URL but got a child path, use ref() instead.");try{nw.makeFromUrl(e,this._delegate.host)}catch(t){throw Jb("refFromUrl() expected a valid full URL but got an invalid one.")}return new x_(__(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};S_(this._delegate,e,t,n)}}function A_(e){return/^[A-Za-z]+:\/\//.test(e)}function R_(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new C_(r,i)}!function(e){const t={TaskState:$w,TaskEvent:Yw,StringFormat:gw,Storage:C_,Reference:x_};e.INTERNAL.registerComponent(new H("storage-compat",R_,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.14")}(Zf);const P_={databaseURL:"https://".concat("drive-c0887",".firebaseio.com"),apiKey:"AIzaSyDSJnHqkZbX5YgCemX8C2h1U50xpvs2dEs",authDomain:"drive-c0887.firebaseapp.com",projectId:"drive-c0887",storageBucket:"drive-c0887.firebasestorage.app",messagingSenderId:"530428556166",appId:"1:530428556166:web:2fd589f96446a0354ef207"},N_=Zf.initializeApp(P_),O_=(N_.auth(),N_.firestore());Zf.firestore().settings({experimentalForceLongPolling:!0});Zf.storage();var D_=n(579);const M_=(0,i.createContext)(),L_=e=>{let{children:t}=e;const[n,r]=(0,i.useState)([]),[o,s]=(0,i.useState)([]),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)("myDrive"),[h,f]=(0,i.useState)(new Set),[p,m]=(0,i.useState)([]);(0,i.useEffect)((()=>{const e=O_.collection("myFiles").orderBy("timestamp","desc").onSnapshot((e=>{const t=e.docs.map((e=>({id:e.id,data:e.data(),isDeleted:!1})));r(t),g(t,a,c)}));return()=>e()}),[]);const g=(e,t,n)=>{let r=e;switch(t&&(r=r.filter((e=>e.data.name.toLowerCase().includes(t.toLowerCase())))),n){case"myDrive":r=r.filter((e=>!e.isDeleted));break;case"starred":r=r.filter((e=>h.has(e.id)));break;case"recent":r=r.filter((e=>!e.isDeleted)).sort(((e,t)=>new Date(t.data.uploadDate)-new Date(e.data.uploadDate))).slice(0,20);break;case"bin":r=p}s(r)};(0,i.useEffect)((()=>{g(n,a,c)}),[n,a,c,h,p]);const v={files:o,searchQuery:a,currentView:c,starredFiles:h,deletedFiles:p,handleSearch:e=>{l(e)},handleViewChange:e=>{u(e)},toggleStarred:async e=>{const t=new Set(h);t.has(e)?t.delete(e):t.add(e),f(t)},moveToTrash:e=>{m((t=>[...t,d(d({},e),{},{isDeleted:!0})])),r((t=>t.filter((t=>t.id!==e.id))))},restoreFromTrash:e=>{const t=p.find((t=>t.id===e));t&&(m((t=>t.filter((t=>t.id!==e)))),r((e=>[...e,d(d({},t),{},{isDeleted:!1})])))},permanentlyDelete:async e=>{try{await O_.collection("myFiles").doc(e).delete(),m((t=>t.filter((t=>t.id!==e))))}catch(t){throw console.error("Error deleting file permanently:",t),t}}};return(0,D_.jsx)(M_.Provider,{value:v,children:t})},F_=()=>{const e=(0,i.useContext)(M_);if(!e)throw new Error("useFileManager must be used within a FileManagerProvider");return e},j_=n.p+"static/media/storage.3a67e3966a58fe7a1d44.png";function U_(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function V_(e,t){if(null==e)return{};var n,r,i=U_(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function B_(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=B_(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const z_=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=B_(e))&&(r&&(r+=" "),r+=t);return r};function q_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in e){const o=e[i];let s="",a=!0;for(let e=0;e<o.length;e+=1){const r=o[e];r&&(s+=(!0===a?"":" ")+t(r),a=!1,n&&n[r]&&(s+=" "+n[r]))}r[i]=s}return r}function H_(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.searchParams.append("args[]",e))),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}function W_(e){if("string"!==typeof e)throw new Error(H_(7));return e.charAt(0).toUpperCase()+e.slice(1)}const G_=W_;function K_(){return K_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K_.apply(null,arguments)}var Q_=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Y_=Math.abs,$_=String.fromCharCode,J_=Object.assign;function X_(e){return e.trim()}function Z_(e,t,n){return e.replace(t,n)}function eS(e,t){return e.indexOf(t)}function tS(e,t){return 0|e.charCodeAt(t)}function nS(e,t,n){return e.slice(t,n)}function rS(e){return e.length}function iS(e){return e.length}function oS(e,t){return t.push(e),e}var sS=1,aS=1,lS=0,cS=0,uS=0,dS="";function hS(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:sS,column:aS,length:s,return:""}}function fS(e,t){return J_(hS("",null,null,"",null,null,0),e,{length:-e.length},t)}function pS(){return uS=cS>0?tS(dS,--cS):0,aS--,10===uS&&(aS=1,sS--),uS}function mS(){return uS=cS<lS?tS(dS,cS++):0,aS++,10===uS&&(aS=1,sS++),uS}function gS(){return tS(dS,cS)}function vS(){return cS}function yS(e,t){return nS(dS,e,t)}function bS(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wS(e){return sS=aS=1,lS=rS(dS=e),cS=0,[]}function _S(e){return dS="",e}function SS(e){return X_(yS(cS-1,TS(91===e?e+2:40===e?e+1:e)))}function ES(e){for(;(uS=gS())&&uS<33;)mS();return bS(e)>2||bS(uS)>3?"":" "}function kS(e,t){for(;--t&&mS()&&!(uS<48||uS>102||uS>57&&uS<65||uS>70&&uS<97););return yS(e,vS()+(t<6&&32==gS()&&32==mS()))}function TS(e){for(;mS();)switch(uS){case e:return cS;case 34:case 39:34!==e&&39!==e&&TS(uS);break;case 40:41===e&&TS(e);break;case 92:mS()}return cS}function IS(e,t){for(;mS()&&e+uS!==57&&(e+uS!==84||47!==gS()););return"/*"+yS(t,cS-1)+"*"+$_(47===e?e:mS())}function xS(e){for(;!bS(gS());)mS();return yS(e,cS)}var CS="-ms-",AS="-moz-",RS="-webkit-",PS="comm",NS="rule",OS="decl",DS="@keyframes";function MS(e,t){for(var n="",r=iS(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function LS(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case OS:return e.return=e.return||e.value;case PS:return"";case DS:return e.return=e.value+"{"+MS(e.children,r)+"}";case NS:e.value=e.props.join(",")}return rS(n=MS(e.children,r))?e.return=e.value+"{"+n+"}":""}function FS(e){return function(t){t.root||(t=t.return)&&e(t)}}function jS(e){return _S(US("",null,null,null,[""],e=wS(e),0,[0],e))}function US(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",w=i,_=o,S=r,E=b;g;)switch(p=y,y=mS()){case 40:if(108!=p&&58==tS(E,d-1)){-1!=eS(E+=Z_(SS(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:E+=SS(y);break;case 9:case 10:case 13:case 32:E+=ES(p);break;case 92:E+=kS(vS()-1,7);continue;case 47:switch(gS()){case 42:case 47:oS(BS(IS(mS(),vS()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=rS(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(E=Z_(E,/\f/g,"")),f>0&&rS(E)-d&&oS(f>32?zS(E+";",r,n,d-1):zS(Z_(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(oS(S=VS(E,t,n,c,u,i,a,b,w=[],_=[],d),o),123===y)if(0===u)US(E,t,S,S,w,o,d,a,_);else switch(99===h&&110===tS(E,3)?100:h){case 100:case 108:case 109:case 115:US(e,S,S,r&&oS(VS(e,S,S,0,0,i,a,b,i,w=[],d),_),i,_,d,a,r?w:_);break;default:US(E,S,S,S,[""],_,0,a,_)}}c=u=f=0,m=v=1,b=E="",d=s;break;case 58:d=1+rS(E),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==pS())continue;switch(E+=$_(y),y*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(rS(E)-1)*v,v=1;break;case 64:45===gS()&&(E+=SS(mS())),h=gS(),u=d=rS(b=E+=xS(vS())),y++;break;case 45:45===p&&2==rS(E)&&(m=0)}}return o}function VS(e,t,n,r,i,o,s,a,l,c,u){for(var d=i-1,h=0===i?o:[""],f=iS(h),p=0,m=0,g=0;p<r;++p)for(var v=0,y=nS(e,d+1,d=Y_(m=s[p])),b=e;v<f;++v)(b=X_(m>0?h[v]+" "+y:Z_(y,/&\f/g,h[v])))&&(l[g++]=b);return hS(e,t,n,0===i?NS:a,l,c,u)}function BS(e,t,n){return hS(e,t,n,PS,$_(uS),nS(e,2,-2),0)}function zS(e,t,n,r){return hS(e,t,n,OS,nS(e,0,r),nS(e,r+1,-1),r)}var qS=function(e,t,n){for(var r=0,i=0;r=i,i=gS(),38===r&&12===i&&(t[n]=1),!bS(i);)mS();return yS(e,cS)},HS=function(e,t){return _S(function(e,t){var n=-1,r=44;do{switch(bS(r)){case 0:38===r&&12===gS()&&(t[n]=1),e[n]+=qS(cS-1,t,n);break;case 2:e[n]+=SS(r);break;case 4:if(44===r){e[++n]=58===gS()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=$_(r)}}while(r=mS());return e}(wS(e),t))},WS=new WeakMap,GS=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||WS.get(n))&&!r){WS.set(e,!0);for(var i=[],o=HS(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},KS=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function QS(e,t){switch(function(e,t){return 45^tS(e,0)?(((t<<2^tS(e,0))<<2^tS(e,1))<<2^tS(e,2))<<2^tS(e,3):0}(e,t)){case 5103:return RS+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return RS+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return RS+e+AS+e+CS+e+e;case 6828:case 4268:return RS+e+CS+e+e;case 6165:return RS+e+CS+"flex-"+e+e;case 5187:return RS+e+Z_(e,/(\w+).+(:[^]+)/,RS+"box-$1$2"+CS+"flex-$1$2")+e;case 5443:return RS+e+CS+"flex-item-"+Z_(e,/flex-|-self/,"")+e;case 4675:return RS+e+CS+"flex-line-pack"+Z_(e,/align-content|flex-|-self/,"")+e;case 5548:return RS+e+CS+Z_(e,"shrink","negative")+e;case 5292:return RS+e+CS+Z_(e,"basis","preferred-size")+e;case 6060:return RS+"box-"+Z_(e,"-grow","")+RS+e+CS+Z_(e,"grow","positive")+e;case 4554:return RS+Z_(e,/([^-])(transform)/g,"$1"+RS+"$2")+e;case 6187:return Z_(Z_(Z_(e,/(zoom-|grab)/,RS+"$1"),/(image-set)/,RS+"$1"),e,"")+e;case 5495:case 3959:return Z_(e,/(image-set\([^]*)/,RS+"$1$`$1");case 4968:return Z_(Z_(e,/(.+:)(flex-)?(.*)/,RS+"box-pack:$3"+CS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+RS+e+e;case 4095:case 3583:case 4068:case 2532:return Z_(e,/(.+)-inline(.+)/,RS+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(rS(e)-1-t>6)switch(tS(e,t+1)){case 109:if(45!==tS(e,t+4))break;case 102:return Z_(e,/(.+:)(.+)-([^]+)/,"$1"+RS+"$2-$3$1"+AS+(108==tS(e,t+3)?"$3":"$2-$3"))+e;case 115:return~eS(e,"stretch")?QS(Z_(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==tS(e,t+1))break;case 6444:switch(tS(e,rS(e)-3-(~eS(e,"!important")&&10))){case 107:return Z_(e,":",":"+RS)+e;case 101:return Z_(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+RS+(45===tS(e,14)?"inline-":"")+"box$3$1"+RS+"$2$3$1"+CS+"$2box$3")+e}break;case 5936:switch(tS(e,t+11)){case 114:return RS+e+CS+Z_(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return RS+e+CS+Z_(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return RS+e+CS+Z_(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return RS+e+CS+e+e}return e}var YS=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case OS:e.return=QS(e.value,e.length);break;case DS:return MS([fS(e,{value:Z_(e.value,"@","@"+RS)})],r);case NS:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return MS([fS(e,{props:[Z_(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return MS([fS(e,{props:[Z_(t,/:(plac\w+)/,":"+RS+"input-$1")]}),fS(e,{props:[Z_(t,/:(plac\w+)/,":-moz-$1")]}),fS(e,{props:[Z_(t,/:(plac\w+)/,CS+"input-$1")]})],r)}return""}))}}],$S=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,o=e.stylisPlugins||YS,s={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l,c=[GS,KS],u=[LS,FS((function(e){l.insert(e)}))],d=function(e){var t=iS(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}(c.concat(o,u));i=function(e,t,n,r){l=n,function(e){MS(jS(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Q_({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return h.sheet.hydrate(a),h};function JS(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var XS=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},ZS=function(e,t,n){XS(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};var eE={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function tE(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var nE=/[A-Z]|^ms/g,rE=/_EMO_([^_]+?)_([^]*?)_EMO_/g,iE=function(e){return 45===e.charCodeAt(1)},oE=function(e){return null!=e&&"boolean"!==typeof e},sE=tE((function(e){return iE(e)?e:e.replace(nE,"-$&").toLowerCase()})),aE=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(rE,(function(e,t,n){return cE={name:t,styles:n,next:cE},t}))}return 1===eE[e]||iE(e)||"number"!==typeof t||0===t?t:t+"px"};function lE(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return cE={name:i.name,styles:i.styles,next:cE},i.name;var o=n;if(void 0!==o.styles){var s=o.next;if(void 0!==s)for(;void 0!==s;)cE={name:s.name,styles:s.styles,next:cE},s=s.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=lE(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s){var a=s;null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":oE(a)&&(r+=sE(o)+":"+aE(o,a)+";")}else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=lE(e,t,s);switch(o){case"animation":case"animationName":r+=sE(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<s.length;c++)oE(s[c])&&(r+=sE(o)+":"+aE(o,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=cE,l=n(e);return cE=a,lE(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var cE,uE=/label:\s*([^\s;{]+)\s*(;|$)/g;function dE(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";cE=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=lE(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++){if(i+=lE(n,t,e[s]),r)i+=o[s]}uE.lastIndex=0;for(var a,l="";null!==(a=uE.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:cE}}var hE=!!o.useInsertionEffect&&o.useInsertionEffect,fE=hE||function(e){return e()},pE=(hE||i.useLayoutEffect,i.createContext("undefined"!==typeof HTMLElement?$S({key:"css"}):null)),mE=(pE.Provider,function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(pE);return e(t,r,n)}))}),gE=i.createContext({});var vE={}.hasOwnProperty,yE="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",bE=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return XS(t,n,r),fE((function(){return ZS(t,n,r)})),null},wE=mE((function(e,t,n){var r=e.css;"string"===typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var o=e[yE],s=[r],a="";"string"===typeof e.className?a=JS(t.registered,s,e.className):null!=e.className&&(a=e.className+" ");var l=dE(s,void 0,i.useContext(gE));a+=t.key+"-"+l.name;var c={};for(var u in e)vE.call(e,u)&&"css"!==u&&u!==yE&&(c[u]=e[u]);return c.className=a,n&&(c.ref=n),i.createElement(i.Fragment,null,i.createElement(bE,{cache:t,serialized:l,isStringTag:"string"===typeof o}),i.createElement(o,c))})),_E=wE,SE=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,EE=tE((function(e){return SE.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),kE=function(e){return"theme"!==e},TE=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?EE:kE},IE=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},xE=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return XS(t,n,r),fE((function(){return ZS(t,n,r)})),null},CE=function e(t,n){var r,o,s=t.__emotion_real===t,a=s&&t.__emotion_base||t;void 0!==n&&(r=n.label,o=n.target);var l=IE(t,n,s),c=l||TE(a),u=!c("as");return function(){var d=arguments,h=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{var f=d[0];h.push(f[0]);for(var p=d.length,m=1;m<p;m++)h.push(d[m],f[m])}var g=mE((function(e,t,n){var r=u&&e.as||a,s="",d=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=i.useContext(gE)}"string"===typeof e.className?s=JS(t.registered,d,e.className):null!=e.className&&(s=e.className+" ");var m=dE(h.concat(d),t.registered,f);s+=t.key+"-"+m.name,void 0!==o&&(s+=" "+o);var g=u&&void 0===l?TE(r):c,v={};for(var y in e)u&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=s,n&&(v.ref=n),i.createElement(i.Fragment,null,i.createElement(xE,{cache:t,serialized:m,isStringTag:"string"===typeof r}),i.createElement(r,v))}));return g.displayName=void 0!==r?r:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=a,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(t,r){return e(t,K_({},n,r,{shouldForwardProp:IE(g,r,!0)})).apply(void 0,h)},g}}.bind(null);function AE(e,t){return CE(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){CE[e]=CE(e)}));const RE=[];function PE(e){return RE[0]=e,dE(RE)}function NE(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function OE(e){if(i.isValidElement(e)||!NE(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=OE(e[n])})),t}function DE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?d({},e):e;return NE(e)&&NE(t)&&Object.keys(t).forEach((o=>{i.isValidElement(t[o])?r[o]=t[o]:NE(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&NE(e[o])?r[o]=DE(e[o],t[o],n):n.clone?r[o]=NE(t[o])?OE(t[o]):t[o]:r[o]=t[o]})),r}const ME=["values","unit","step"];function LE(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=V_(e,ME),o=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>d(d({},e),{},{[t.key]:t.val})),{})})(t),s=Object.keys(o);function a(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function l(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function c(e,i){const o=s.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[s[o]]?t[s[o]]:i)-r/100).concat(n,")")}return d({keys:s,values:o,up:a,down:l,between:c,only:function(e){return s.indexOf(e)+1<s.length?c(e,s[s.indexOf(e)+1]):a(e)},not:function(e){const t=s.indexOf(e);return 0===t?a(s[1]):t===s.length-1?l(s[t]):c(e,s[s.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}const FE={borderRadius:4},jE={xs:0,sm:600,md:900,lg:1200,xl:1536},UE={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(jE[e],"px)")},VE={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:jE[t]||t;return"number"===typeof n&&(n="".concat(n,"px")),e?"@container ".concat(e," (min-width:").concat(n,")"):"@container (min-width:".concat(n,")")}})};function BE(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||UE;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||UE;return Object.keys(t).reduce(((i,o)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some((e=>t.startsWith("@".concat(e))))||!!t.match(/^@\d/))}(e.keys,o)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}(r.containerQueries?r:VE,o);e&&(i[e]=n(t[o],o))}else if(Object.keys(e.values||jE).includes(o)){i[e.up(o)]=n(t[o],o)}else{const e=o;i[e]=t[e]}return i}),{})}return n(t)}function zE(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=t.keys)||void 0===e?void 0:e.reduce(((e,n)=>(e[t.up(n)]={},e)),{}))||{}}function qE(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function HE(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let s;return o.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e)),{})}function WE(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function GE(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:WE(e,n)||i,t&&(r=t(r,i,e)),r}const KE=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],s=WE(e.theme,r)||{};return BE(e,o,(e=>{let r=GE(s,i,e);return e===r&&"string"===typeof e&&(r=GE(s,i,"".concat(t).concat("default"===e?"":W_(e)),e)),!1===n?r:{[n]:r}}))};return o.propTypes={},o.filterProps=[t],o};const QE=function(e,t){return t?DE(e,t,{clone:!1}):e};const YE={m:"margin",p:"padding"},$E={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},JE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},XE=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!JE[e])return[e];e=JE[e]}const[t,n]=e.split(""),r=YE[t],i=$E[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),ZE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ek=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],tk=[...ZE,...ek];function nk(e,t,n,r){var i;const o=null!==(i=WE(e,t,!0))&&void 0!==i?i:n;return"number"===typeof o||"string"===typeof o?e=>"string"===typeof e?e:"string"===typeof o?"calc(".concat(e," * ").concat(o,")"):o*e:Array.isArray(o)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=o[t];return e>=0?n:"number"===typeof n?-n:"-".concat(n)}:"function"===typeof o?o:()=>{}}function rk(e){return nk(e,"spacing",8)}function ik(e,t){return"string"===typeof t||null==t?t:e(t)}function ok(e,t,n,r){if(!t.includes(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=ik(t,n),e)),{})}(XE(n),r);return BE(e,e[n],i)}function sk(e,t){const n=rk(e.theme);return Object.keys(e).map((r=>ok(e,t,r,n))).reduce(QE,{})}function ak(e){return sk(e,ZE)}function lk(e){return sk(e,ek)}function ck(e){return sk(e,tk)}ak.propTypes={},ak.filterProps=ZE,lk.propTypes={},lk.filterProps=ek,ck.propTypes={},ck.filterProps=tk;function uk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rk({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}const dk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?QE(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function hk(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function fk(e,t){return KE({prop:e,themeKey:"borders",transform:t})}const pk=fk("border",hk),mk=fk("borderTop",hk),gk=fk("borderRight",hk),vk=fk("borderBottom",hk),yk=fk("borderLeft",hk),bk=fk("borderColor"),wk=fk("borderTopColor"),_k=fk("borderRightColor"),Sk=fk("borderBottomColor"),Ek=fk("borderLeftColor"),kk=fk("outline",hk),Tk=fk("outlineColor"),Ik=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=nk(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:ik(t,e)});return BE(e,e.borderRadius,n)}return null};Ik.propTypes={},Ik.filterProps=["borderRadius"];dk(pk,mk,gk,vk,yk,bk,wk,_k,Sk,Ek,Ik,kk,Tk);const xk=e=>{if(void 0!==e.gap&&null!==e.gap){const t=nk(e.theme,"spacing",8),n=e=>({gap:ik(t,e)});return BE(e,e.gap,n)}return null};xk.propTypes={},xk.filterProps=["gap"];const Ck=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=nk(e.theme,"spacing",8),n=e=>({columnGap:ik(t,e)});return BE(e,e.columnGap,n)}return null};Ck.propTypes={},Ck.filterProps=["columnGap"];const Ak=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=nk(e.theme,"spacing",8),n=e=>({rowGap:ik(t,e)});return BE(e,e.rowGap,n)}return null};Ak.propTypes={},Ak.filterProps=["rowGap"];dk(xk,Ck,Ak,KE({prop:"gridColumn"}),KE({prop:"gridRow"}),KE({prop:"gridAutoFlow"}),KE({prop:"gridAutoColumns"}),KE({prop:"gridAutoRows"}),KE({prop:"gridTemplateColumns"}),KE({prop:"gridTemplateRows"}),KE({prop:"gridTemplateAreas"}),KE({prop:"gridArea"}));function Rk(e,t){return"grey"===t?t:e}dk(KE({prop:"color",themeKey:"palette",transform:Rk}),KE({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Rk}),KE({prop:"backgroundColor",themeKey:"palette",transform:Rk}));function Pk(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const Nk=KE({prop:"width",transform:Pk}),Ok=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n||null===(n=n.values)||void 0===n?void 0:n[t])||jE[t];return i?"px"!==(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:Pk(t)}};return BE(e,e.maxWidth,t)}return null};Ok.filterProps=["maxWidth"];const Dk=KE({prop:"minWidth",transform:Pk}),Mk=KE({prop:"height",transform:Pk}),Lk=KE({prop:"maxHeight",transform:Pk}),Fk=KE({prop:"minHeight",transform:Pk}),jk=(KE({prop:"size",cssProperty:"width",transform:Pk}),KE({prop:"size",cssProperty:"height",transform:Pk}),dk(Nk,Ok,Dk,Mk,Lk,Fk,KE({prop:"boxSizing"})),{border:{themeKey:"borders",transform:hk},borderTop:{themeKey:"borders",transform:hk},borderRight:{themeKey:"borders",transform:hk},borderBottom:{themeKey:"borders",transform:hk},borderLeft:{themeKey:"borders",transform:hk},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:hk},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ik},color:{themeKey:"palette",transform:Rk},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Rk},backgroundColor:{themeKey:"palette",transform:Rk},p:{style:lk},pt:{style:lk},pr:{style:lk},pb:{style:lk},pl:{style:lk},px:{style:lk},py:{style:lk},padding:{style:lk},paddingTop:{style:lk},paddingRight:{style:lk},paddingBottom:{style:lk},paddingLeft:{style:lk},paddingX:{style:lk},paddingY:{style:lk},paddingInline:{style:lk},paddingInlineStart:{style:lk},paddingInlineEnd:{style:lk},paddingBlock:{style:lk},paddingBlockStart:{style:lk},paddingBlockEnd:{style:lk},m:{style:ak},mt:{style:ak},mr:{style:ak},mb:{style:ak},ml:{style:ak},mx:{style:ak},my:{style:ak},margin:{style:ak},marginTop:{style:ak},marginRight:{style:ak},marginBottom:{style:ak},marginLeft:{style:ak},marginX:{style:ak},marginY:{style:ak},marginInline:{style:ak},marginInlineStart:{style:ak},marginInlineEnd:{style:ak},marginBlock:{style:ak},marginBlockStart:{style:ak},marginBlockEnd:{style:ak},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:xk},rowGap:{style:Ak},columnGap:{style:Ck},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Pk},maxWidth:{style:Ok},minWidth:{transform:Pk},height:{transform:Pk},maxHeight:{transform:Pk},minHeight:{transform:Pk},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const Uk=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:s=e,themeKey:a,transform:l,style:c}=o;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=WE(n,a)||{};if(c)return c(i);return BE(i,t,(t=>{let n=GE(u,l,t);return t===n&&"string"===typeof t&&(n=GE(u,l,"".concat(e).concat("default"===t?"":W_(t)),t)),!1===s?n:{[s]:n}}))}return function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=null!==(r=o.unstable_sxConfig)&&void 0!==r?r:jk;function a(n){let r=n;if("function"===typeof n)r=n(o);else if("object"!==typeof n)return n;if(!r)return null;const i=zE(o.breakpoints),a=Object.keys(i);let l=i;return Object.keys(r).forEach((n=>{const i=function(e,t){return"function"===typeof e?e(t):e}(r[n],o);if(null!==i&&void 0!==i)if("object"===typeof i)if(s[n])l=QE(l,e(n,i,o,s));else{const e=BE({theme:o},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,i)?l=QE(l,e):l[n]=t({sx:i,theme:o})}else l=QE(l,e(n,i,o,s))})),function(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter((e=>e.startsWith("@container"))).sort(((e,t)=>{var n,r;const i=/min-width:\s*([0-9.]+)/;return+((null===(n=e.match(i))||void 0===n?void 0:n[1])||0)-+((null===(r=t.match(i))||void 0===r?void 0:r[1])||0)}));return n.length?n.reduce(((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e}),d({},t)):t}(o,qE(a,l))}return Array.isArray(i)?i.map(a):a(i)}}();Uk.filterProps=["sx"];const Vk=Uk;function Bk(e,t){const n=this;if(n.vars){var r;if(null===(r=n.colorSchemes)||void 0===r||!r[e]||"function"!==typeof n.getColorSchemeSelector)return{};let i=n.getColorSchemeSelector(e);return"&"===i?t:((i.includes("data-")||i.includes("."))&&(i="*:where(".concat(i.replace(/\s*&$/,""),") &")),{[i]:t})}return n.palette.mode===e?t:{}}const zk=["breakpoints","palette","spacing","shape"];const qk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,o=V_(e,zk),s=LE(t),a=uk(r);let l=DE({breakpoints:s,direction:"ltr",components:{},palette:d({mode:"light"},n),spacing:a,shape:d(d({},FE),i)},o);l=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=e=>(n(r,e),r);return n(i),d(d({},e),{},{containerQueries:i})}(l),l.applyStyles=Bk;for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];return l=u.reduce(((e,t)=>DE(e,t)),l),l.unstable_sxConfig=d(d({},jk),null===o||void 0===o?void 0:o.unstable_sxConfig),l.unstable_sx=function(e){return Vk({sx:e,theme:this})},l},Hk=["variants"];function Wk(e){const{variants:t}=e,n=V_(e,Hk),r={variants:t,style:PE(n),isProcessed:!0};return r.style===n||t&&t.forEach((e=>{"function"!==typeof e.style&&(e.style=PE(e.style))})),r}const Gk=["variants"],Kk=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Qk=qk();function Yk(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function $k(e){return e?(t,n)=>n[e]:null}function Jk(e,t){const n="function"===typeof t?t(e):t;if(Array.isArray(n))return n.flatMap((t=>Jk(e,t)));if(Array.isArray(null===n||void 0===n?void 0:n.variants)){let t;if(n.isProcessed)t=n.style;else{const{variants:e}=n;t=V_(n,Gk)}return Xk(e,n.variants,[t])}return null!==n&&void 0!==n&&n.isProcessed?n.style:n}function Xk(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e:for(let a=0;a<t.length;a+=1){const l=t[a];var i,o;if("function"===typeof l.props){if(null!==(i=n)&&void 0!==i||(n=d(d(d({},e),e.ownerState),{},{ownerState:e.ownerState})),!l.props(n))continue}else for(const t in l.props){var s;if(e[t]!==l.props[t]&&(null===(s=e.ownerState)||void 0===s?void 0:s[t])!==l.props[t])continue e}if("function"===typeof l.style)null!==(o=n)&&void 0!==o||(n=d(d(d({},e),e.ownerState),{},{ownerState:e.ownerState})),r.push(l.style(n));else r.push(l.style)}return r}function Zk(e,t){}function eT(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const tT=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function nT(e){return tT(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function rT(e){if(e.type)return e;if("#"===e.charAt(0))return rT(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(H_(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(H_(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const iT=(e,t)=>{try{return(e=>{const t=rT(e);return t.values.slice(0,3).map(((e,n)=>t.type.includes("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")})(e)}catch(n){return e}};function oT(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):t.includes("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=t.includes("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function sT(e){e=rT(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),oT({type:a,values:l})}function aT(e){let t="hsl"===(e=rT(e)).type||"hsla"===e.type?rT(sT(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function lT(e,t){return e=rT(e),t=nT(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,oT(e)}function cT(e,t,n){try{return lT(e,t)}catch(r){return e}}function uT(e,t){if(e=rT(e),t=nT(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return oT(e)}function dT(e,t,n){try{return uT(e,t)}catch(r){return e}}function hT(e,t){if(e=rT(e),t=nT(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return oT(e)}function fT(e,t,n){try{return hT(e,t)}catch(r){return e}}function pT(e,t,n){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return aT(e)>.5?uT(e,t):hT(e,t)}(e,t)}catch(r){return e}}const mT={black:"#000",white:"#fff"},gT={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},vT={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},yT={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},bT={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},wT={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},_T={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ST={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ET=["mode","contrastThreshold","tonalOffset"];function kT(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:mT.white,default:mT.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const TT=kT();function IT(){return{text:{primary:mT.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:mT.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const xT=IT();function CT(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=hT(e.main,i):"dark"===t&&(e.dark=uT(e.main,o)))}function AT(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=V_(e,ET),o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:wT[200],light:wT[50],dark:wT[400]}:{main:wT[700],light:wT[400],dark:wT[800]}}(t),s=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:vT[200],light:vT[50],dark:vT[400]}:{main:vT[500],light:vT[300],dark:vT[700]}}(t),a=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:yT[500],light:yT[300],dark:yT[700]}:{main:yT[700],light:yT[400],dark:yT[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:_T[400],light:_T[300],dark:_T[700]}:{main:_T[700],light:_T[500],dark:_T[900]}}(t),c=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ST[400],light:ST[300],dark:ST[700]}:{main:ST[800],light:ST[500],dark:ST[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:bT[400],light:bT[300],dark:bT[700]}:{main:"#ed6c02",light:bT[500],dark:bT[900]}}(t);function h(e){const t=function(e,t){const n=aT(e),r=aT(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,xT.text.primary)>=n?xT.text.primary:TT.text.primary;return t}const f=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:s=700}=e;if(t=d({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(H_(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(H_(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return CT(t,"light",o,r),CT(t,"dark",s,r),t.contrastText||(t.contrastText=h(t.main)),t};let p;"light"===t?p=kT():"dark"===t&&(p=IT());return DE(d({common:d({},mT),mode:t,primary:f({color:o,name:"primary"}),secondary:f({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:gT,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r},p),i)}function RT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const o=r[0];return"string"!==typeof o||o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(o):", var(--".concat(e?"".concat(e,"-"):"").concat(o).concat(t(...r.slice(1)),")")}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...i),")")}}function PT(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;"object"===typeof r&&(t[n]="".concat(r.fontStyle?"".concat(r.fontStyle," "):"").concat(r.fontVariant?"".concat(r.fontVariant," "):"").concat(r.fontWeight?"".concat(r.fontWeight," "):"").concat(r.fontStretch?"".concat(r.fontStretch," "):"").concat(r.fontSize||"").concat(r.lineHeight?"/".concat(r.lineHeight," "):"").concat(r.fontFamily||""))})),t}const NT=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e;t.forEach(((e,o)=>{o===t.length-1?Array.isArray(i)?i[Number(e)]=n:i&&"object"===typeof i&&(i[e]=n):i&&"object"===typeof i&&(i[e]||(i[e]=r.includes(e)?[]:{}),i=i[e])}))};function OT(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},s={};return((e,t,n)=>{!function e(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(r).forEach((r=>{let[s,a]=r;(!n||n&&!n([...i,s]))&&void 0!==a&&null!==a&&("object"===typeof a&&Object.keys(a).length>0?e(a,[...i,s],Array.isArray(a)?[...o,s]:o):t([...i,s],a,o))}))}(e)})(e,((e,t,a)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r="--".concat(n?"".concat(n,"-"):"").concat(e.join("-")),l=((e,t)=>{if("number"===typeof t)return["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t)))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px");return t})(e,t);Object.assign(i,{[r]:l}),NT(o,e,"var(".concat(r,")"),a),NT(s,e,"var(".concat(r,", ").concat(l,")"),a)}}),(e=>"vars"===e[0])),{css:i,vars:o,varsWithDefaults:s}}const DT=["colorSchemes","components","defaultColorScheme"];const MT=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=y,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:o={},components:s,defaultColorScheme:a="light"}=e,c=V_(e,DT),{vars:u,css:h,varsWithDefaults:f}=OT(c,t);let p=f;const m={},{[a]:g}=o,v=V_(o,[a].map(l));if(Object.entries(v||{}).forEach((e=>{let[n,r]=e;const{vars:i,css:o,varsWithDefaults:s}=OT(r,t);p=DE(p,s),m[n]={css:o,vars:i}})),g){const{css:e,vars:n,varsWithDefaults:r}=OT(g,t);p=DE(p,r),m[a]={css:e,vars:n}}function y(t,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(r="[".concat(i,'="%s"]')),t){if("media"===r){var s;if(e.defaultColorScheme===t)return":root";const r=(null===(s=o[t])||void 0===s||null===(s=s.palette)||void 0===s?void 0:s.mode)||t;return{["@media (prefers-color-scheme: ".concat(r,")")]:{":root":n}}}if(r)return e.defaultColorScheme===t?":root, ".concat(r.replace("%s",String(t))):r.replace("%s",String(t))}return":root"}return{vars:p,generateThemeVars:()=>{let e=d({},u);return Object.entries(m).forEach((t=>{let[,{vars:n}]=t;e=DE(e,n)})),e},generateStyleSheets:()=>{const t=[],i=e.defaultColorScheme||"light";function s(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:d({},n)}:e)}s(n(void 0,d({},h)),h);const{[i]:a}=m,c=V_(m,[i].map(l));if(a){var u;const{css:e}=a,t=null===(u=o[i])||void 0===u||null===(u=u.palette)||void 0===u?void 0:u.mode,l=d(!r&&t?{colorScheme:t}:{},e);s(n(i,d({},l)),l)}return Object.entries(c).forEach((e=>{var t;let[i,{css:a}]=e;const l=null===(t=o[i])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,c=d(!r&&l?{colorScheme:l}:{},a);s(n(i,d({},c)),c)})),t}}};function LT(e,t){return d({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const FT=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const jT={textTransform:"uppercase"},UT='"Roboto", "Helvetica", "Arial", sans-serif';function VT(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=UT,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:h}=n,f=V_(n,FT);const p=i/14,m=h||(e=>"".concat(e/c*p,"rem")),g=(e,t,n,i,o)=>{return d(d(d({fontFamily:r,fontWeight:e,fontSize:m(t),lineHeight:n},r===UT?{letterSpacing:"".concat((s=i/t,Math.round(1e5*s)/1e5),"em")}:{}),o),u);var s},v={h1:g(o,96,1.167,-1.5),h2:g(o,60,1.2,-.5),h3:g(s,48,1.167,0),h4:g(s,34,1.235,.25),h5:g(s,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(s,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(s,16,1.5,.15),body2:g(s,14,1.43,.15),button:g(a,14,1.75,.4,jT),caption:g(s,12,1.66,.4),overline:g(s,12,2.66,1,jT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return DE(d({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},v),f,{clone:!1})}function BT(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const zT=["none",BT(0,2,1,-1,0,1,1,0,0,1,3,0),BT(0,3,1,-2,0,2,2,0,0,1,5,0),BT(0,3,3,-2,0,3,4,0,0,1,8,0),BT(0,2,4,-1,0,4,5,0,0,1,10,0),BT(0,3,5,-1,0,5,8,0,0,1,14,0),BT(0,3,5,-1,0,6,10,0,0,1,18,0),BT(0,4,5,-2,0,7,10,1,0,2,16,1),BT(0,5,5,-3,0,8,10,1,0,3,14,2),BT(0,5,6,-3,0,9,12,1,0,3,16,2),BT(0,6,6,-3,0,10,14,1,0,4,18,3),BT(0,6,7,-4,0,11,15,1,0,4,20,3),BT(0,7,8,-4,0,12,17,2,0,5,22,4),BT(0,7,8,-4,0,13,19,2,0,5,24,4),BT(0,7,9,-4,0,14,21,2,0,5,26,4),BT(0,8,9,-5,0,15,22,2,0,6,28,5),BT(0,8,10,-5,0,16,24,2,0,6,30,5),BT(0,8,11,-5,0,17,26,2,0,6,32,5),BT(0,9,11,-5,0,18,28,2,0,7,34,6),BT(0,9,12,-6,0,19,29,2,0,7,36,6),BT(0,10,13,-6,0,20,31,3,0,8,38,7),BT(0,10,13,-6,0,21,33,3,0,8,40,7),BT(0,10,14,-6,0,22,35,3,0,8,42,7),BT(0,11,14,-7,0,23,36,3,0,9,44,8),BT(0,11,15,-7,0,24,38,3,0,9,46,8)],qT=["duration","easing","delay"],HT={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},WT={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function GT(e){return"".concat(Math.round(e),"ms")}function KT(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function QT(e){const t=d(d({},HT),e.easing),n=d(d({},WT),e.duration);return d(d({getAutoHeightDuration:KT,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:s=0}=r;V_(r,qT);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:GT(i)," ").concat(o," ").concat("string"===typeof s?s:GT(s)))).join(",")}},e),{},{easing:t,duration:n})}const YT={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function $T(){const e=d({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return function e(t){const n=Object.entries(t);for(let i=0;i<n.length;i++){const[o,s]=n[i];!NE(r=s)&&"undefined"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r&&"number"!==typeof r&&!Array.isArray(r)||o.startsWith("unstable_")?delete t[o]:NE(s)&&(t[o]=d({},s),e(t[o]))}var r}(e),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(e,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const JT=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function XT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:i={},transitions:o={},typography:s={},shape:a}=e,l=V_(e,JT);if(e.vars)throw new Error(H_(20));const c=AT(i),u=qk(e);let h=DE(u,{mixins:LT(u.breakpoints,n),palette:c,shadows:zT.slice(),typography:VT(c,s),transitions:QT(o),zIndex:d({},YT)});h=DE(h,l);for(var f=arguments.length,p=new Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];return h=p.reduce(((e,t)=>DE(e,t)),h),h.unstable_sxConfig=d(d({},jk),null===l||void 0===l?void 0:l.unstable_sxConfig),h.unstable_sx=function(e){return Vk({sx:e,theme:this})},h.toRuntimeSource=$T,h}const ZT=XT;function eI(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const tI=["palette","opacity","overlays"],nI=[...Array(25)].map(((e,t)=>{if(0===t)return"none";const n=eI(t);return"linear-gradient(rgba(255 255 255 / ".concat(n,"), rgba(255 255 255 / ").concat(n,"))")}));function rI(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function iI(e){return"dark"===e?nI:[]}function oI(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const sI=e=>[...[...Array(25)].map(((t,n)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(n))),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],aI=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if("class"===i&&(o=".%s"),"data"===i&&(o="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(o="[".concat(i,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const i={};return sI(e.cssVarPrefix).forEach((e=>{i[e]=n[e],delete n[e]})),"media"===o?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:o?{[o.replace("%s",t)]:i,["".concat(r,", ").concat(o.replace("%s",t))]:n}:{[r]:d(d({},n),i)}}if(o&&"media"!==o)return"".concat(r,", ").concat(o.replace("%s",String(t)))}else if(t){if("media"===o)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r},lI=["palette"],cI=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function uI(e,t,n){!e[t]&&n&&(e[t]=n)}function dI(e){return"string"===typeof e&&e.startsWith("hsl")?sT(e):e}function hI(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=iT(dI(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const fI=e=>{try{return e()}catch(t){}};function pI(e,t,n,r){var i,o,s;if(!t)return;t=!0===t?{}:t;const a="dark"===r?"dark":"light";var l;if(!n)return void(e[r]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r}=e,i=V_(e,tI),o=AT(t);return d({palette:o,opacity:d(d({},rI(o.mode)),n),overlays:r||iI(o.mode)},i)}(d(d({},t),{},{palette:d({mode:a},null===(l=t)||void 0===l?void 0:l.palette)})));const c=ZT(d(d({},n),{},{palette:d({mode:a},null===(i=t)||void 0===i?void 0:i.palette)})),{palette:u}=c,h=V_(c,lI);return e[r]=d(d({},t),{},{palette:u,opacity:d(d({},rI(a)),null===(o=t)||void 0===o?void 0:o.opacity),overlays:(null===(s=t)||void 0===s?void 0:s.overlays)||iI(a)}),h}function mI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:o=oI,colorSchemeSelector:s=(t.light&&t.dark?"media":void 0),rootSelector:a=":root"}=e,c=V_(e,cI),u=Object.keys(t)[0],h=n||(t.light&&"light"!==u?"light":u),f=function(){return RT(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[h]:p,light:m,dark:g}=t,v=d({},V_(t,[h,"light","dark"].map(l)));let y=p;if(("dark"===h&&!("dark"in t)||"light"===h&&!("light"in t))&&(y=!0),!y)throw new Error(H_(21,h));const b=pI(v,y,c,h);m&&!v.light&&pI(v,m,void 0,"light"),g&&!v.dark&&pI(v,g,void 0,"dark");let w=d(d({defaultColorScheme:h},b),{},{cssVarPrefix:i,colorSchemeSelector:s,rootSelector:a,getCssVar:f,colorSchemes:v,font:d(d({},PT(b.typography)),b.font),spacing:(_=c.spacing,"number"===typeof _?"".concat(_,"px"):"string"===typeof _||"function"===typeof _||Array.isArray(_)?_:"8px")});var _;Object.keys(w.colorSchemes).forEach((e=>{const t=w.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],i=n[2];return f(e,t[r][i])};var r;if("light"===t.mode&&(uI(t.common,"background","#fff"),uI(t.common,"onBackground","#000")),"dark"===t.mode&&(uI(t.common,"background","#000"),uI(t.common,"onBackground","#fff")),r=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach((e=>{r[e]||(r[e]={})})),"light"===t.mode){uI(t.Alert,"errorColor",dT(t.error.light,.6)),uI(t.Alert,"infoColor",dT(t.info.light,.6)),uI(t.Alert,"successColor",dT(t.success.light,.6)),uI(t.Alert,"warningColor",dT(t.warning.light,.6)),uI(t.Alert,"errorFilledBg",n("palette-error-main")),uI(t.Alert,"infoFilledBg",n("palette-info-main")),uI(t.Alert,"successFilledBg",n("palette-success-main")),uI(t.Alert,"warningFilledBg",n("palette-warning-main")),uI(t.Alert,"errorFilledColor",fI((()=>t.getContrastText(t.error.main)))),uI(t.Alert,"infoFilledColor",fI((()=>t.getContrastText(t.info.main)))),uI(t.Alert,"successFilledColor",fI((()=>t.getContrastText(t.success.main)))),uI(t.Alert,"warningFilledColor",fI((()=>t.getContrastText(t.warning.main)))),uI(t.Alert,"errorStandardBg",fT(t.error.light,.9)),uI(t.Alert,"infoStandardBg",fT(t.info.light,.9)),uI(t.Alert,"successStandardBg",fT(t.success.light,.9)),uI(t.Alert,"warningStandardBg",fT(t.warning.light,.9)),uI(t.Alert,"errorIconColor",n("palette-error-main")),uI(t.Alert,"infoIconColor",n("palette-info-main")),uI(t.Alert,"successIconColor",n("palette-success-main")),uI(t.Alert,"warningIconColor",n("palette-warning-main")),uI(t.AppBar,"defaultBg",n("palette-grey-100")),uI(t.Avatar,"defaultBg",n("palette-grey-400")),uI(t.Button,"inheritContainedBg",n("palette-grey-300")),uI(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),uI(t.Chip,"defaultBorder",n("palette-grey-400")),uI(t.Chip,"defaultAvatarColor",n("palette-grey-700")),uI(t.Chip,"defaultIconColor",n("palette-grey-700")),uI(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),uI(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),uI(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),uI(t.LinearProgress,"primaryBg",fT(t.primary.main,.62)),uI(t.LinearProgress,"secondaryBg",fT(t.secondary.main,.62)),uI(t.LinearProgress,"errorBg",fT(t.error.main,.62)),uI(t.LinearProgress,"infoBg",fT(t.info.main,.62)),uI(t.LinearProgress,"successBg",fT(t.success.main,.62)),uI(t.LinearProgress,"warningBg",fT(t.warning.main,.62)),uI(t.Skeleton,"bg","rgba(".concat(n("palette-text-primaryChannel")," / 0.11)")),uI(t.Slider,"primaryTrack",fT(t.primary.main,.62)),uI(t.Slider,"secondaryTrack",fT(t.secondary.main,.62)),uI(t.Slider,"errorTrack",fT(t.error.main,.62)),uI(t.Slider,"infoTrack",fT(t.info.main,.62)),uI(t.Slider,"successTrack",fT(t.success.main,.62)),uI(t.Slider,"warningTrack",fT(t.warning.main,.62));const e=pT(t.background.default,.8);uI(t.SnackbarContent,"bg",e),uI(t.SnackbarContent,"color",fI((()=>t.getContrastText(e)))),uI(t.SpeedDialAction,"fabHoverBg",pT(t.background.paper,.15)),uI(t.StepConnector,"border",n("palette-grey-400")),uI(t.StepContent,"border",n("palette-grey-400")),uI(t.Switch,"defaultColor",n("palette-common-white")),uI(t.Switch,"defaultDisabledColor",n("palette-grey-100")),uI(t.Switch,"primaryDisabledColor",fT(t.primary.main,.62)),uI(t.Switch,"secondaryDisabledColor",fT(t.secondary.main,.62)),uI(t.Switch,"errorDisabledColor",fT(t.error.main,.62)),uI(t.Switch,"infoDisabledColor",fT(t.info.main,.62)),uI(t.Switch,"successDisabledColor",fT(t.success.main,.62)),uI(t.Switch,"warningDisabledColor",fT(t.warning.main,.62)),uI(t.TableCell,"border",fT(cT(t.divider,1),.88)),uI(t.Tooltip,"bg",cT(t.grey[700],.92))}if("dark"===t.mode){uI(t.Alert,"errorColor",fT(t.error.light,.6)),uI(t.Alert,"infoColor",fT(t.info.light,.6)),uI(t.Alert,"successColor",fT(t.success.light,.6)),uI(t.Alert,"warningColor",fT(t.warning.light,.6)),uI(t.Alert,"errorFilledBg",n("palette-error-dark")),uI(t.Alert,"infoFilledBg",n("palette-info-dark")),uI(t.Alert,"successFilledBg",n("palette-success-dark")),uI(t.Alert,"warningFilledBg",n("palette-warning-dark")),uI(t.Alert,"errorFilledColor",fI((()=>t.getContrastText(t.error.dark)))),uI(t.Alert,"infoFilledColor",fI((()=>t.getContrastText(t.info.dark)))),uI(t.Alert,"successFilledColor",fI((()=>t.getContrastText(t.success.dark)))),uI(t.Alert,"warningFilledColor",fI((()=>t.getContrastText(t.warning.dark)))),uI(t.Alert,"errorStandardBg",dT(t.error.light,.9)),uI(t.Alert,"infoStandardBg",dT(t.info.light,.9)),uI(t.Alert,"successStandardBg",dT(t.success.light,.9)),uI(t.Alert,"warningStandardBg",dT(t.warning.light,.9)),uI(t.Alert,"errorIconColor",n("palette-error-main")),uI(t.Alert,"infoIconColor",n("palette-info-main")),uI(t.Alert,"successIconColor",n("palette-success-main")),uI(t.Alert,"warningIconColor",n("palette-warning-main")),uI(t.AppBar,"defaultBg",n("palette-grey-900")),uI(t.AppBar,"darkBg",n("palette-background-paper")),uI(t.AppBar,"darkColor",n("palette-text-primary")),uI(t.Avatar,"defaultBg",n("palette-grey-600")),uI(t.Button,"inheritContainedBg",n("palette-grey-800")),uI(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),uI(t.Chip,"defaultBorder",n("palette-grey-700")),uI(t.Chip,"defaultAvatarColor",n("palette-grey-300")),uI(t.Chip,"defaultIconColor",n("palette-grey-300")),uI(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),uI(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),uI(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),uI(t.LinearProgress,"primaryBg",dT(t.primary.main,.5)),uI(t.LinearProgress,"secondaryBg",dT(t.secondary.main,.5)),uI(t.LinearProgress,"errorBg",dT(t.error.main,.5)),uI(t.LinearProgress,"infoBg",dT(t.info.main,.5)),uI(t.LinearProgress,"successBg",dT(t.success.main,.5)),uI(t.LinearProgress,"warningBg",dT(t.warning.main,.5)),uI(t.Skeleton,"bg","rgba(".concat(n("palette-text-primaryChannel")," / 0.13)")),uI(t.Slider,"primaryTrack",dT(t.primary.main,.5)),uI(t.Slider,"secondaryTrack",dT(t.secondary.main,.5)),uI(t.Slider,"errorTrack",dT(t.error.main,.5)),uI(t.Slider,"infoTrack",dT(t.info.main,.5)),uI(t.Slider,"successTrack",dT(t.success.main,.5)),uI(t.Slider,"warningTrack",dT(t.warning.main,.5));const e=pT(t.background.default,.98);uI(t.SnackbarContent,"bg",e),uI(t.SnackbarContent,"color",fI((()=>t.getContrastText(e)))),uI(t.SpeedDialAction,"fabHoverBg",pT(t.background.paper,.15)),uI(t.StepConnector,"border",n("palette-grey-600")),uI(t.StepContent,"border",n("palette-grey-600")),uI(t.Switch,"defaultColor",n("palette-grey-300")),uI(t.Switch,"defaultDisabledColor",n("palette-grey-600")),uI(t.Switch,"primaryDisabledColor",dT(t.primary.main,.55)),uI(t.Switch,"secondaryDisabledColor",dT(t.secondary.main,.55)),uI(t.Switch,"errorDisabledColor",dT(t.error.main,.55)),uI(t.Switch,"infoDisabledColor",dT(t.info.main,.55)),uI(t.Switch,"successDisabledColor",dT(t.success.main,.55)),uI(t.Switch,"warningDisabledColor",dT(t.warning.main,.55)),uI(t.TableCell,"border",dT(cT(t.divider,1),.68)),uI(t.Tooltip,"bg",cT(t.grey[700],.92))}hI(t.background,"default"),hI(t.background,"paper"),hI(t.common,"background"),hI(t.common,"onBackground"),hI(t,"divider"),Object.keys(t).forEach((e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&uI(t[e],"mainChannel",iT(dI(n.main))),n.light&&uI(t[e],"lightChannel",iT(dI(n.light))),n.dark&&uI(t[e],"darkChannel",iT(dI(n.dark))),n.contrastText&&uI(t[e],"contrastTextChannel",iT(dI(n.contrastText))),"text"===e&&(hI(t[e],"primary"),hI(t[e],"secondary")),"action"===e&&(n.active&&hI(t[e],"active"),n.selected&&hI(t[e],"selected")))}))}));for(var S=arguments.length,E=new Array(S>1?S-1:0),k=1;k<S;k++)E[k-1]=arguments[k];w=E.reduce(((e,t)=>DE(e,t)),w);const T={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:aI(w)},{vars:I,generateThemeVars:x,generateStyleSheets:C}=MT(w,T);return w.vars=I,Object.entries(w.colorSchemes[w.defaultColorScheme]).forEach((e=>{let[t,n]=e;w[t]=n})),w.generateThemeVars=x,w.generateStyleSheets=C,w.generateSpacing=function(){return uk(c.spacing,rk(this))},w.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(s),w.spacing=w.generateSpacing(),w.shouldSkipGeneratingVar=o,w.unstable_sxConfig=d(d({},jk),null===c||void 0===c?void 0:c.unstable_sxConfig),w.unstable_sx=function(e){return Vk({sx:e,theme:this})},w.toRuntimeSource=$T,w}const gI=["palette","cssVariables","colorSchemes","defaultColorScheme"];function vI(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]=d(d({},!0!==n&&n),{},{palette:AT(d(d({},!0===n?{}:n.palette),{},{mode:t}))}))}function yI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:i=(null===t||void 0===t?void 0:t.mode)}=e,o=V_(e,gI),s=i||"light",a=null===r||void 0===r?void 0:r[s],l=d(d({},r),t?{[s]:d(d({},"boolean"!==typeof a&&a),{},{palette:t})}:void 0);for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];if(!1===n){if(!("colorSchemes"in e))return ZT(e,...u);let n=t;"palette"in e||l[s]&&(!0!==l[s]?n=l[s].palette:"dark"===s&&(n={mode:"dark"}));const r=ZT(d(d({},e),{},{palette:n}),...u);return r.defaultColorScheme=s,r.colorSchemes=l,"light"===r.palette.mode&&(r.colorSchemes.light=d(d({},!0!==l.light&&l.light),{},{palette:r.palette}),vI(r,"dark",l.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark=d(d({},!0!==l.dark&&l.dark),{},{palette:r.palette}),vI(r,"light",l.light)),r}return t||"light"in l||"light"!==s||(l.light=!0),mI(d(d({},o),{},{colorSchemes:l,defaultColorScheme:s},"boolean"!==typeof n&&n),...u)}const bI=yI(),wI="$$material";const _I=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},SI=e=>_I(e)&&"classes"!==e,EI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=Qk,rootShouldForwardProp:r=Yk,slotShouldForwardProp:i=Yk}=e;function o(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(e=>e.filter((e=>e!==Vk))));const{name:n,slot:s,skipVariantsResolver:a,skipSx:l,overridesResolver:c=$k(eT(s))}=t,u=V_(t,Kk),h=void 0!==a?a:s&&"Root"!==s&&"root"!==s||!1,f=l||!1;let p=Yk;"Root"===s||"root"===s?p=r:s?p=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(p=void 0);const m=AE(e,d({shouldForwardProp:p,label:Zk(n,s)},u)),g=e=>{if("function"===typeof e&&e.__emotion_real!==e)return function(t){return Jk(t,e)};if(NE(e)){const t=Wk(e);return t.variants?function(e){return Jk(e,t)}:t.style}return e},v=function(){const t=[];for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const a=i.map(g),l=[];if(t.push(o),n&&c&&l.push((function(e){var t;const r=null===(t=e.theme.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.styleOverrides;if(!r)return null;const i={};for(const n in r)i[n]=Jk(e,r[n]);return c(e,i)})),n&&!h&&l.push((function(e){var t;const r=e.theme,i=null===r||void 0===r||null===(t=r.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.variants;return i?Xk(e,i):null})),f||l.push(Vk),Array.isArray(a[0])){const e=a.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let i;i=[...n,...e,...r],i.raw=[...n,...e.raw,...r],t.unshift(i)}const u=[...t,...a,...l],d=m(...u);return e.muiName&&(d.muiName=e.muiName),d};return m.withConfig&&(v.withConfig=m.withConfig),v}}({themeId:wI,defaultTheme:bI,rootShouldForwardProp:SI}),kI=EI,TI={theme:void 0};const II=function(e){let t,n;return function(r){let i=t;return void 0!==i&&r.theme===n||(TI.theme=r.theme,i=Wk(e(TI)),t=i,n=r.theme),i}};function xI(e,t){const n=d({},t);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if("components"===i||"slots"===i)n[i]=d(d({},e[i]),n[i]);else if("componentsProps"===i||"slotProps"===i){const r=e[i],o=t[i];if(o)if(r){n[i]=d({},o);for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;n[i][t]=xI(r[t],o[t])}}else n[i]=o;else n[i]=r||{}}else void 0===n[i]&&(n[i]=e[i])}return n}const CI=i.createContext(void 0);function AI(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?xI(i.defaultProps,r):i.styleOverrides||i.variants?r:xI(i,r)}({props:t,name:n,theme:{components:i.useContext(CI)}})}function RI(e){return AI(e)}const PI=e=>e,NI=(()=>{let e=PI;return{configure(t){e=t},generate:t=>e(t),reset(){e=PI}}})(),OI={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function DI(e,t){const n=OI[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(NI.generate(e),"-").concat(t)}function MI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=DI(e,t,n)})),r}function LI(e){return DI("MuiSvgIcon",e)}MI("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const FI=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],jI=kI("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(G_(n.color))],t["fontSize".concat(G_(n.fontSize))]]}})(II((e=>{var t,n,r,i,o,s,a,l,c,u,d,h,f,p,m;let{theme:g}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(t=g.transitions)||void 0===t||null===(n=t.create)||void 0===n?void 0:n.call(t,"fill",{duration:null===(r=(null!==(i=g.vars)&&void 0!==i?i:g).transitions)||void 0===r||null===(r=r.duration)||void 0===r?void 0:r.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(o=g.typography)||void 0===o||null===(s=o.pxToRem)||void 0===s?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(a=g.typography)||void 0===a||null===(l=a.pxToRem)||void 0===l?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(c=g.typography)||void 0===c||null===(u=c.pxToRem)||void 0===u?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((null!==(d=g.vars)&&void 0!==d?d:g).palette).filter((e=>{let[,t]=e;return t&&t.main})).map((e=>{var t,n;let[r]=e;return{props:{color:r},style:{color:null===(t=(null!==(n=g.vars)&&void 0!==n?n:g).palette)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.main}}})),{props:{color:"action"},style:{color:null===(h=(null!==(f=g.vars)&&void 0!==f?f:g).palette)||void 0===h||null===(h=h.action)||void 0===h?void 0:h.active}},{props:{color:"disabled"},style:{color:null===(p=(null!==(m=g.vars)&&void 0!==m?m:g).palette)||void 0===p||null===(p=p.action)||void 0===p?void 0:p.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}}))),UI=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiSvgIcon"}),{children:r,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:h,viewBox:f="0 0 24 24"}=n,p=V_(n,FI),m=i.isValidElement(r)&&"svg"===r.type,g=d(d({},n),{},{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:m}),v={};u||(v.viewBox=f);const y=(e=>{const{color:t,fontSize:n,classes:r}=e;return q_({root:["root","inherit"!==t&&"color".concat(G_(t)),"fontSize".concat(G_(n))]},LI,r)})(g);return(0,D_.jsxs)(jI,d(d(d(d({as:a,className:z_(y.root,o),focusable:"false",color:c,"aria-hidden":!h||void 0,role:h?"img":void 0,ref:t},v),p),m&&r.props),{},{ownerState:g,children:[m?r.props.children:r,h?(0,D_.jsx)("title",{children:h}):null]}))}));UI&&(UI.muiName="SvgIcon");const VI=UI;function BI(e,t){function n(n,r){return(0,D_.jsx)(VI,d(d({"data-testid":"".concat(t,"Icon"),ref:r},n),{},{children:e}))}return n.muiName=VI.muiName,i.memo(i.forwardRef(n))}const zI=BI((0,D_.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),qI=BI((0,D_.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),HI=BI((0,D_.jsx)("path",{d:"M4 8h4V4H4zm6 12h4v-4h-4zm-6 0h4v-4H4zm0-6h4v-4H4zm6 0h4v-4h-4zm6-10v4h4V4zm-6 4h4V4h-4zm6 6h4v-4h-4zm0 6h4v-4h-4z"}),"Apps"),WI=BI((0,D_.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline"),GI=BI((0,D_.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),KI=e=>{let{userPhoto:t}=e;const{searchQuery:n,handleSearch:r}=F_();return(0,D_.jsxs)("div",{className:"header",children:[(0,D_.jsxs)("div",{className:"header__logo",children:[(0,D_.jsx)("img",{src:j_,alt:""}),(0,D_.jsx)("span",{children:"Drive"})]}),(0,D_.jsx)("div",{className:"header__searchContainer",children:(0,D_.jsxs)("div",{className:"header__searchBar",children:[(0,D_.jsx)(zI,{}),(0,D_.jsx)("input",{type:"text",placeholder:"Search in storage",value:n,onChange:e=>{r(e.target.value)}}),(0,D_.jsx)(qI,{})]})}),(0,D_.jsxs)("div",{className:"header__icons",children:[(0,D_.jsxs)("span",{children:[(0,D_.jsx)(WI,{}),(0,D_.jsx)(GI,{})]}),(0,D_.jsx)(HI,{}),(0,D_.jsx)("img",{src:t,alt:"User Photo"})]})]})},QI=["sx"];function YI(e){const{sx:t}=e,n=V_(e,QI),{systemProps:r,otherProps:i}=(e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!==(t=null===e||void 0===e||null===(n=e.theme)||void 0===n?void 0:n.unstable_sxConfig)&&void 0!==t?t:jk;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r})(n);let o;return o=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return NE(e)?d(d({},r),e):r}:d(d({},r),t),d(d({},i),{},{sx:o})}const $I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=i.useContext(gE);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},JI=qk();const XI=function(){return $I(arguments.length>0&&void 0!==arguments[0]?arguments[0]:JI)},ZI=["className","component"];const ex=MI("MuiBox",["root"]),tx=yI(),nx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,s=AE("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(Vk),a=i.forwardRef((function(e,i){const a=XI(n),l=YI(e),{className:c,component:u="div"}=l,h=V_(l,ZI);return(0,D_.jsx)(s,d({as:u,ref:i,className:z_(c,o?o(r):r),theme:t&&a[t]||a},h))}));return a}({themeId:wI,defaultTheme:tx,defaultClassName:ex.root,generateClassName:NI.generate}),rx=nx;function ix(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}function ox(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function sx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{ox(t,e)}))}),t)}const ax=sx,lx="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;const cx=function(e){const t=i.useRef(e);return lx((()=>{t.current=e})),i.useRef((function(){return(0,t.current)(...arguments)})).current},ux=cx,dx={};function hx(e,t){const n=i.useRef(dx);return n.current===dx&&(n.current=e(t)),n}class fx{static create(){return new fx}static use(){const e=hx(fx.create).current,[t,n]=i.useState(!1);return e.shouldMount=t,e.setShouldMount=n,i.useEffect(e.mountEffect,[t]),e}constructor(){c(this,"mountEffect",(()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())})),this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.start(...t)}))}stop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.stop(...t)}))}pulsate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.pulsate(...t)}))}}function px(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function mx(e,t){return mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mx(e,t)}function gx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,mx(e,t)}const vx=i.createContext(null);function yx(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function bx(e,t,n){return null!=n[t]?n[t]:e.props[t]}function wx(e,t,n){var r=yx(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(t,r);return Object.keys(o).forEach((function(s){var a=o[s];if((0,i.isValidElement)(a)){var l=s in t,c=s in r,u=t[s],d=(0,i.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,i.isValidElement)(u)&&(o[s]=(0,i.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:bx(a,"exit",e),enter:bx(a,"enter",e)})):o[s]=(0,i.cloneElement)(a,{in:!1}):o[s]=(0,i.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:bx(a,"exit",e),enter:bx(a,"enter",e)})}})),o}var _x=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Sx=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}gx(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,s=t.handleExited;return{children:t.firstRender?(n=e,r=s,yx(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:bx(e,"appear",n),enter:bx(e,"enter",n),exit:bx(e,"exit",n)})}))):wx(e,o,s),firstRender:!1}},n.handleExited=function(e,t){var n=yx(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=K_({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=U_(e,["component","childFactory"]),o=this.state.contextValue,s=_x(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(vx.Provider,{value:o},s):i.createElement(vx.Provider,{value:o},i.createElement(t,r,s))},t}(i.Component);Sx.propTypes={},Sx.defaultProps={component:"div",childFactory:function(e){return e}};const Ex=Sx,kx=[];class Tx{constructor(){c(this,"currentId",null),c(this,"clear",(()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)})),c(this,"disposeEffect",(()=>this.clear))}static create(){return new Tx}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function Ix(){const e=hx(Tx.create).current;var t;return t=e.disposeEffect,i.useEffect(t,kx),e}n(219);var xx=function(e,t){var n=arguments;if(null==t||!vE.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=_E,o[1]=function(e,t){var n={};for(var r in t)vE.call(t,r)&&(n[r]=t[r]);return n[yE]=e,n}(e,t);for(var s=2;s<r;s++)o[s]=n[s];return i.createElement.apply(null,o)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(xx||(xx={}));function Cx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return dE(t)}function Ax(){var e=Cx.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const Rx=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=e,[d,h]=i.useState(!1),f=z_(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:a,height:a,top:-a/2+s,left:-a/2+o},m=z_(n.child,d&&n.childLeaving,r&&n.childPulsate);return l||d||h(!0),i.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,D_.jsx)("span",{className:f,style:p,children:(0,D_.jsx)("span",{className:m})})};const Px=MI("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Nx=["center","classes","className"];var Ox,Dx,Mx,Lx;const Fx=Ax(Ox||(Ox=px(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"]))),jx=Ax(Dx||(Dx=px(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"]))),Ux=Ax(Mx||(Mx=px(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"]))),Vx=kI("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Bx=kI(Rx,{name:"MuiTouchRipple",slot:"Ripple"})(Lx||(Lx=px(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"])),Px.rippleVisible,Fx,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Px.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),Px.child,Px.childLeaving,jx,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Px.childPulsate,Ux,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),zx=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:o={},className:s}=n,a=V_(n,Nx),[l,c]=i.useState([]),u=i.useRef(0),h=i.useRef(null);i.useEffect((()=>{h.current&&(h.current(),h.current=null)}),[l]);const f=i.useRef(!1),p=Ix(),m=i.useRef(null),g=i.useRef(null),v=i.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:s}=e;c((e=>[...e,(0,D_.jsx)(Bx,{classes:{ripple:z_(o.ripple,Px.ripple),rippleVisible:z_(o.rippleVisible,Px.rippleVisible),ripplePulsate:z_(o.ripplePulsate,Px.ripplePulsate),child:z_(o.child,Px.child),childLeaving:z_(o.childLeaving,Px.childLeaving),childPulsate:z_(o.childPulsate,Px.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},u.current)])),u.current+=1,h.current=s}),[o]),y=i.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:i=!1,center:o=r||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null===e||void 0===e?void 0:e.type)&&f.current)return void(f.current=!1);"touchstart"===(null===e||void 0===e?void 0:e.type)&&(f.current=!0);const a=s?null:g.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!==e&&void 0!==e&&e.touches?null===m.current&&(m.current=()=>{v({pulsate:i,rippleX:c,rippleY:u,rippleSize:d,cb:n})},p.start(80,(()=>{m.current&&(m.current(),m.current=null)}))):v({pulsate:i,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[r,v,p]),b=i.useCallback((()=>{y({},{pulsate:!0})}),[y]),w=i.useCallback(((e,t)=>{if(p.clear(),"touchend"===(null===e||void 0===e?void 0:e.type)&&m.current)return m.current(),m.current=null,void p.start(0,(()=>{w(e,t)}));m.current=null,c((e=>e.length>0?e.slice(1):e)),h.current=t}),[p]);return i.useImperativeHandle(t,(()=>({pulsate:b,start:y,stop:w})),[b,y,w]),(0,D_.jsx)(Vx,d(d({className:z_(Px.root,o.root,s),ref:g},a),{},{children:(0,D_.jsx)(Ex,{component:null,exit:!0,children:l})}))})),qx=zx;function Hx(e){return DI("MuiButtonBase",e)}const Wx=MI("MuiButtonBase",["root","disabled","focusVisible"]),Gx=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Kx=kI("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(Wx.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Qx=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:h=!1,focusRipple:f=!1,focusVisibleClassName:p,LinkComponent:m="a",onBlur:g,onClick:v,onContextMenu:y,onDragLeave:b,onFocus:w,onFocusVisible:_,onKeyDown:S,onKeyUp:E,onMouseDown:k,onMouseLeave:T,onMouseUp:I,onTouchEnd:x,onTouchMove:C,onTouchStart:A,tabIndex:R=0,TouchRippleProps:P,touchRippleRef:N,type:O}=n,D=V_(n,Gx),M=i.useRef(null),L=fx.use(),F=ax(L.ref,N),[j,U]=i.useState(!1);c&&j&&U(!1),i.useImperativeHandle(r,(()=>({focusVisible:()=>{U(!0),M.current.focus()}})),[]);const V=L.shouldMount&&!u&&!c;i.useEffect((()=>{j&&f&&!u&&L.pulsate()}),[u,f,j,L]);const B=Yx(L,"start",k,h),z=Yx(L,"stop",y,h),q=Yx(L,"stop",b,h),H=Yx(L,"stop",I,h),W=Yx(L,"stop",(e=>{j&&e.preventDefault(),T&&T(e)}),h),G=Yx(L,"start",A,h),K=Yx(L,"stop",x,h),Q=Yx(L,"stop",C,h),Y=Yx(L,"stop",(e=>{ix(e.target)||U(!1),g&&g(e)}),!1),$=ux((e=>{M.current||(M.current=e.currentTarget),ix(e.target)&&(U(!0),_&&_(e)),w&&w(e)})),J=()=>{const e=M.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},X=ux((e=>{f&&!e.repeat&&j&&" "===e.key&&L.stop(e,(()=>{L.start(e)})),e.target===e.currentTarget&&J()&&" "===e.key&&e.preventDefault(),S&&S(e),e.target===e.currentTarget&&J()&&"Enter"===e.key&&!c&&(e.preventDefault(),v&&v(e))})),Z=ux((e=>{f&&" "===e.key&&j&&!e.defaultPrevented&&L.stop(e,(()=>{L.pulsate(e)})),E&&E(e),v&&e.target===e.currentTarget&&J()&&" "===e.key&&!e.defaultPrevented&&v(e)}));let ee=l;"button"===ee&&(D.href||D.to)&&(ee=m);const te={};"button"===ee?(te.type=void 0===O?"button":O,te.disabled=c):(D.href||D.to||(te.role="button"),c&&(te["aria-disabled"]=c));const ne=ax(t,M),re=d(d({},n),{},{centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:h,focusRipple:f,tabIndex:R,focusVisible:j}),ie=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=q_({root:["root",t&&"disabled",n&&"focusVisible"]},Hx,i);return n&&r&&(o.root+=" ".concat(r)),o})(re);return(0,D_.jsxs)(Kx,d(d(d({as:ee,className:z_(ie.root,a),ownerState:re,onBlur:Y,onClick:v,onContextMenu:z,onFocus:$,onKeyDown:X,onKeyUp:Z,onMouseDown:B,onMouseLeave:W,onMouseUp:H,onDragLeave:q,onTouchEnd:K,onTouchMove:Q,onTouchStart:G,ref:ne,tabIndex:c?-1:R,type:O},te),D),{},{children:[s,V?(0,D_.jsx)(qx,d({ref:F,center:o},P)):null]}))}));function Yx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ux((i=>(n&&n(i),r||e[t](i),!0)))}const $x=Qx;function Jx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function Xx(e){return DI("MuiButton",e)}const Zx=MI("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const eC=i.createContext({});const tC=i.createContext(void 0),nC=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],rC=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],iC=kI($x,{shouldForwardProp:e=>SI(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(G_(n.color))],t["size".concat(G_(n.size))],t["".concat(n.variant,"Size").concat(G_(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(II((e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],r="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return d(d({},t.typography.button),{},{minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},["&.".concat(Zx.disabled)]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},["&.".concat(Zx.focusVisible)]:{boxShadow:(t.vars||t).shadows[6]},["&.".concat(Zx.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",["&.".concat(Zx.disabled)]:{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Jx()).map((e=>{let[n]=e;return{props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / 0.5)"):lT(t.palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):lT(t.palette[n].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):lT(t.palette[n].main,t.palette.action.hoverOpacity)}}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):lT(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):lT(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(Zx.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(Zx.disabled)]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]})}))),oC=kI("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat(G_(n.size))]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...rC]}),sC=kI("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat(G_(n.size))]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...rC]}),aC=i.forwardRef((function(e,t){const n=i.useContext(eC),r=i.useContext(tC),o=RI({props:xI(n,e),name:"MuiButton"}),{children:s,color:a="primary",component:l="button",className:c,disabled:u=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:m,fullWidth:g=!1,size:v="medium",startIcon:y,type:b,variant:w="text"}=o,_=V_(o,nC),S=d(d({},o),{},{color:a,component:l,disabled:u,disableElevation:h,disableFocusRipple:f,fullWidth:g,size:v,type:b,variant:w}),E=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a=q_({root:["root",o,"".concat(o).concat(G_(t)),"size".concat(G_(i)),"".concat(o,"Size").concat(G_(i)),"color".concat(G_(t)),n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat(G_(i))],endIcon:["icon","endIcon","iconSize".concat(G_(i))]},Xx,s);return d(d({},s),a)})(S),k=y&&(0,D_.jsx)(oC,{className:E.startIcon,ownerState:S,children:y}),T=p&&(0,D_.jsx)(sC,{className:E.endIcon,ownerState:S,children:p}),I=r||"";return(0,D_.jsxs)(iC,d(d({ownerState:S,className:z_(n.className,E.root,c,I),component:l,disabled:u,focusRipple:!f,focusVisibleClassName:z_(E.focusVisible,m),ref:t,type:b},_),{},{classes:E,children:[k,s,T]}))})),lC=aC;function cC(e){var t;return parseInt(i.version,10)>=19?(null===e||void 0===e||null===(t=e.props)||void 0===t?void 0:t.ref)||null:(null===e||void 0===e?void 0:e.ref)||null}function uC(e){return e&&e.ownerDocument||document}const dC=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function hC(e){const t=[],n=[];return Array.from(e.querySelectorAll(dC)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function fC(){return!0}const pC=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:s=hC,isEnabled:a=fC,open:l}=e,c=i.useRef(!1),u=i.useRef(null),d=i.useRef(null),h=i.useRef(null),f=i.useRef(null),p=i.useRef(!1),m=i.useRef(null),g=sx(cC(t),m),v=i.useRef(null);i.useEffect((()=>{l&&m.current&&(p.current=!n)}),[n,l]),i.useEffect((()=>{if(!l||!m.current)return;const e=uC(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),i.useEffect((()=>{if(!l||!m.current)return;const e=uC(m.current),t=t=>{v.current=t,!r&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!p.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var i,o;const e=Boolean((null===(i=v.current)||void 0===i?void 0:i.shiftKey)&&"Tab"===(null===(o=v.current)||void 0===o?void 0:o.key)),t=n[0],r=n[n.length-1];"string"!==typeof t&&"string"!==typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const i=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(i),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,r,o,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0};return(0,D_.jsxs)(i.Fragment,{children:[(0,D_.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),i.cloneElement(t,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0,f.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,D_.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})};const mC=i.forwardRef((function(e,t){const{children:n,container:r,disablePortal:o=!1}=e,[a,l]=i.useState(null),c=sx(i.isValidElement(n)?cC(n):null,t);if(lx((()=>{o||l(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,o]),lx((()=>{if(a&&!o)return ox(t,a),()=>{ox(t,null)}}),[t,a,o]),o){if(i.isValidElement(n)){const e={ref:c};return i.cloneElement(n,e)}return n}return a?s.createPortal(n,a):a}));const gC=function(e){return"string"===typeof e};const vC=function(e,t,n){return void 0===e||gC(e)?t:d(d({},t),{},{ownerState:d(d({},t.ownerState),n)})};const yC=function(e,t,n){return"function"===typeof e?e(t,n):e};const bC=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const wC=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const _C=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=z_(null===n||void 0===n?void 0:n.className,o,null===i||void 0===i?void 0:i.className,null===r||void 0===r?void 0:r.className),t=d(d(d({},null===n||void 0===n?void 0:n.style),null===i||void 0===i?void 0:i.style),null===r||void 0===r?void 0:r.style),s=d(d(d({},n),i),r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=bC(d(d({},i),r)),a=wC(r),l=wC(i),c=t(s),u=z_(null===c||void 0===c?void 0:c.className,null===n||void 0===n?void 0:n.className,o,null===i||void 0===i?void 0:i.className,null===r||void 0===r?void 0:r.className),h=d(d(d(d({},null===c||void 0===c?void 0:c.style),null===n||void 0===n?void 0:n.style),null===i||void 0===i?void 0:i.style),null===r||void 0===r?void 0:r.style),f=d(d(d(d({},c),n),l),a);return u.length>0&&(f.className=u),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:c.ref}},SC=["className","elementType","ownerState","externalForwardedProps","internalForwardedProps"],EC=["component","slots","slotProps"],kC=["component"];function TC(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s}=t,a=V_(t,SC),{component:l,slots:c={[e]:void 0},slotProps:u={[e]:void 0}}=o,h=V_(o,EC),f=c[e]||r,p=yC(u[e],i),m=_C(d(d({className:n},a),{},{externalForwardedProps:"root"===e?h:void 0,externalSlotProps:p})),{props:{component:g},internalRef:v}=m,y=V_(m.props,kC),b=sx(v,null===p||void 0===p?void 0:p.ref,t.ref),w="root"===e?g||l:g;return[f,vC(f,d(d(d(d(d({},"root"===e&&!l&&!c[e]&&s),"root"!==e&&!c[e]&&s),y),w&&{as:w}),{},{ref:b}),i)]}const IC=!1;var xC="unmounted",CC="exited",AC="entering",RC="entered",PC="exiting",NC=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=CC,r.appearStatus=AC):i=RC:i=t.unmountOnExit||t.mountOnEnter?xC:CC,r.state={status:i},r.nextCallback=null,r}gx(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===xC?{status:CC}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==AC&&n!==RC&&(t=AC):n!==AC&&n!==RC||(t=PC)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===AC){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===CC&&this.setState({status:xC})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[s.findDOMNode(this),r],o=i[0],a=i[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||IC?this.safeSetState({status:RC},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:AC},(function(){t.props.onEntering(o,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:RC},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.findDOMNode(this);t&&!IC?(this.props.onExit(r),this.safeSetState({status:PC},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:CC},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:CC},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===xC)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,U_(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(vx.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function OC(){}NC.contextType=vx,NC.propTypes={},NC.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:OC,onEntering:OC,onEntered:OC,onExit:OC,onExiting:OC,onExited:OC},NC.UNMOUNTED=xC,NC.EXITED=CC,NC.ENTERING=AC,NC.ENTERED=RC,NC.EXITING=PC;const DC=NC;function MC(){const e=XI(bI);return e[wI]||e}const LC=e=>e.scrollTop;function FC(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:null!==(n=s.transitionDuration)&&void 0!==n?n:"number"===typeof i?i:i[t.mode]||0,easing:null!==(r=s.transitionTimingFunction)&&void 0!==r?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}const jC=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],UC={entering:{opacity:1},entered:{opacity:1}},VC=i.forwardRef((function(e,t){const n=MC(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:h,onEntering:f,onExit:p,onExited:m,onExiting:g,style:v,timeout:y=r,TransitionComponent:b=DC}=e,w=V_(e,jC),_=i.useRef(null),S=ax(_,cC(a),t),E=e=>t=>{if(e){const n=_.current;void 0===t?e(n):e(n,t)}},k=E(f),T=E(((e,t)=>{LC(e);const r=FC({style:v,timeout:y,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),u&&u(e,t)})),I=E(h),x=E(g),C=E((e=>{const t=FC({style:v,timeout:y,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)})),A=E(m);return(0,D_.jsx)(b,d(d({appear:s,in:c,nodeRef:_,onEnter:T,onEntered:I,onEntering:k,onExit:C,onExited:A,onExiting:x,addEndListener:e=>{o&&o(_.current,e)},timeout:y},w),{},{children:(e,t)=>i.cloneElement(a,d({style:d(d(d({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},UC[e]),v),a.props.style),ref:S},t))}))})),BC=VC;function zC(e){return DI("MuiBackdrop",e)}MI("MuiBackdrop",["root","invisible"]);const qC=["ownerState"],HC=["children","className","component","invisible","open","components","componentsProps","slotProps","slots","TransitionComponent","transitionDuration"],WC=kI("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),GC=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiBackdrop"}),{children:r,className:i,component:o="div",invisible:s=!1,open:a,components:l={},componentsProps:c={},slotProps:u={},slots:h={},TransitionComponent:f,transitionDuration:p}=n,m=V_(n,HC),g=d(d({},n),{},{component:o,invisible:s}),v=(e=>{const{classes:t,invisible:n}=e;return q_({root:["root",n&&"invisible"]},zC,t)})(g),y={slots:d({transition:f,root:l.Root},h),slotProps:d(d({},c),u)},[b,w]=TC("root",{elementType:WC,externalForwardedProps:y,className:z_(v.root,i),ownerState:g}),[_,S]=TC("transition",{elementType:BC,externalForwardedProps:y,ownerState:g}),E=(e=>{const{ownerState:t}=e;return V_(e,qC)})(S);return(0,D_.jsx)(_,d(d(d({in:a,timeout:p},m),E),{},{children:(0,D_.jsx)(b,d(d({"aria-hidden":!0},w),{},{classes:v,ref:t,children:r}))}))})),KC=GC;function QC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}function YC(e){return uC(e).defaultView||window}function $C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function JC(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function XC(e){return parseInt(YC(e).getComputedStyle(e).paddingRight,10)||0}function ZC(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=!o.includes(e),n=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&JC(e,i)}))}function eA(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function tA(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=uC(e);return t.body===e?YC(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=$C(YC(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(XC(r)+e,"px");const t=uC(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(XC(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=uC(r).body;else{const t=r.parentElement,n=YC(r);e="HTML"===(null===t||void 0===t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const nA=()=>{},rA=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&JC(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);ZC(t,e.mount,e.modalRef,r,!0);const i=eA(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=eA(this.containers,(t=>t.modals.includes(e))),r=this.containers[n];r.restore||(r.restore=tA(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=eA(this.containers,(t=>t.modals.includes(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&JC(e.modalRef,t),ZC(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&JC(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const iA=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:h}=e,f=i.useRef({}),p=i.useRef(null),m=i.useRef(null),g=sx(m,h),[v,y]=i.useState(!u),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const _=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),S=()=>{rA.mount(_(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},E=cx((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||uC(p.current).body;rA.add(_(),e),m.current&&S()})),k=()=>rA.isTopModal(_()),T=cx((e=>{p.current=e,e&&(u&&k()?S():m.current&&JC(m.current,w))})),I=i.useCallback((()=>{rA.remove(_(),w)}),[w]);i.useEffect((()=>()=>{I()}),[I]),i.useEffect((()=>{u?E():b&&o||I()}),[u,I,b,o,E]);const x=e=>t=>{var r;null===(r=e.onKeyDown)||void 0===r||r.call(e,t),"Escape"===t.key&&229!==t.which&&k()&&(n||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},C=e=>t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e,t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=bC(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=d(d({},n),t);return d(d({role:"presentation"},r),{},{onKeyDown:x(r),ref:g})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(d({"aria-hidden":!0},e),{},{onClick:C(e),open:u})},getTransitionProps:()=>{var e,t;return{onEnter:QC((()=>{y(!1),s&&s()}),null!==(e=null===l||void 0===l?void 0:l.props.onEnter)&&void 0!==e?e:nA),onExited:QC((()=>{y(!0),a&&a(),o&&I()}),null!==(t=null===l||void 0===l?void 0:l.props.onExited)&&void 0!==t?t:nA)}},rootRef:g,portalRef:T,isTopModal:k,exited:v,hasTransition:b}};function oA(e){return DI("MuiModal",e)}MI("MuiModal",["root","hidden","backdrop"]);const sA=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],aA=kI("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(II((e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}}))),lA=kI(KC,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),cA=i.forwardRef((function(e,t){const n=RI({name:"MuiModal",props:e}),{BackdropComponent:r=lA,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:c,container:u,component:h,components:f={},componentsProps:p={},disableAutoFocus:m=!1,disableEnforceFocus:g=!1,disableEscapeKeyDown:v=!1,disablePortal:y=!1,disableRestoreFocus:b=!1,disableScrollLock:w=!1,hideBackdrop:_=!1,keepMounted:S=!1,onBackdropClick:E,onClose:k,onTransitionEnter:T,onTransitionExited:I,open:x,slotProps:C={},slots:A={},theme:R}=n,P=V_(n,sA),N=d(d({},n),{},{closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:g,disableEscapeKeyDown:v,disablePortal:y,disableRestoreFocus:b,disableScrollLock:w,hideBackdrop:_,keepMounted:S}),{getRootProps:O,getBackdropProps:D,getTransitionProps:M,portalRef:L,isTopModal:F,exited:j,hasTransition:U}=iA(d(d({},N),{},{rootRef:t})),V=d(d({},N),{},{exited:j}),B=(e=>{const{open:t,exited:n,classes:r}=e;return q_({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},oA,r)})(V),z={};if(void 0===c.props.tabIndex&&(z.tabIndex="-1"),U){const{onEnter:e,onExited:t}=M();z.onEnter=e,z.onExited=t}const q=d(d({},P),{},{slots:d({root:f.Root,backdrop:f.Backdrop},A),slotProps:d(d({},p),C)}),[H,W]=TC("root",{elementType:aA,externalForwardedProps:q,getSlotProps:O,additionalProps:{ref:t,as:h},ownerState:V,className:z_(a,null===B||void 0===B?void 0:B.root,!V.open&&V.exited&&(null===B||void 0===B?void 0:B.hidden))}),[G,K]=TC("backdrop",{elementType:r,externalForwardedProps:q,additionalProps:o,getSlotProps:e=>D(d(d({},e),{},{onClick:t=>{E&&E(t),null!==e&&void 0!==e&&e.onClick&&e.onClick(t)}})),className:z_(null===o||void 0===o?void 0:o.className,null===B||void 0===B?void 0:B.backdrop),ownerState:V}),Q=ax(null===o||void 0===o?void 0:o.ref,K.ref);return S||x||U&&!j?(0,D_.jsx)(mC,{ref:L,container:u,disablePortal:y,children:(0,D_.jsxs)(H,d(d({},W),{},{children:[!_&&r?(0,D_.jsx)(G,d(d({},K),{},{ref:Q})):null,(0,D_.jsx)(pC,{disableEnforceFocus:g,disableAutoFocus:m,disableRestoreFocus:b,isEnabled:F,open:x,children:i.cloneElement(c,z)})]}))}):null})),uA=cA;function dA(e){return DI("MuiTypography",e)}const hA=MI("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),fA=["color"],pA=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],mA={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},gA=YI,vA=kI("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(G_(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(II((e=>{var t;let{theme:n}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter((e=>{let[t,n]=e;return"inherit"!==t&&n&&"object"===typeof n})).map((e=>{let[t,n]=e;return{props:{variant:t},style:n}})),...Object.entries(n.palette).filter(Jx()).map((e=>{let[t]=e;return{props:{color:t},style:{color:(n.vars||n).palette[t].main}}})),...Object.entries((null===(t=n.palette)||void 0===t?void 0:t.text)||{}).filter((e=>{let[,t]=e;return"string"===typeof t})).map((e=>{let[t]=e;return{props:{color:"text".concat(G_(t))},style:{color:(n.vars||n).palette.text[t]}}})),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}}))),yA={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},bA=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiTypography"}),{color:r}=n,i=V_(n,fA),o=!mA[r],s=gA(d(d({},i),o&&{color:r})),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:h=!1,paragraph:f=!1,variant:p="body1",variantMapping:m=yA}=s,g=V_(s,pA),v=d(d({},s),{},{align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:h,paragraph:f,variant:p,variantMapping:m}),y=c||(f?"p":m[p]||yA[p])||"span",b=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e;return q_({root:["root",o,"inherit"!==e.align&&"align".concat(G_(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},dA,s)})(v);return(0,D_.jsx)(vA,d(d({as:y,ref:t,className:z_(b.root,l)},g),{},{ownerState:v,style:d(d({},"inherit"!==a&&{"--Typography-textAlign":a}),g.style)}))})),wA=bA;function _A(e){return DI("MuiIconButton",e)}const SA=MI("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),EA=["edge","children","className","color","disabled","disableFocusRipple","size"],kA=kI($x,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat(G_(n.color))],n.edge&&t["edge".concat(G_(n.edge))],t["size".concat(G_(n.size))]]}})(II((e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):lT(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}})),II((e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Jx()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),...Object.entries(t.palette).filter(Jx()).map((e=>{let[n]=e;return{props:{color:n},style:{"--IconButton-hoverBg":t.vars?"rgba(".concat((t.vars||t).palette[n].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):lT((t.vars||t).palette[n].main,t.palette.action.hoverOpacity)}}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],["&.".concat(SA.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}}}))),TA=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:o,color:s="default",disabled:a=!1,disableFocusRipple:l=!1,size:c="medium"}=n,u=V_(n,EA),h=d(d({},n),{},{edge:r,color:s,disabled:a,disableFocusRipple:l,size:c}),f=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e;return q_({root:["root",n&&"disabled","default"!==r&&"color".concat(G_(r)),i&&"edge".concat(G_(i)),"size".concat(G_(o))]},_A,t)})(h);return(0,D_.jsx)(kA,d(d({className:z_(f.root,o),centerRipple:!0,focusRipple:!l,disabled:a,ref:t},u),{},{ownerState:h,children:i}))})),IA=TA;function xA(e){return DI("MuiPaper",e)}MI("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const CA=["className","component","elevation","square","variant"],AA=kI("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})(II((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:"1px solid ".concat((t.vars||t).palette.divider)}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}}))),RA=i.forwardRef((function(e,t){var n;const r=RI({props:e,name:"MuiPaper"}),i=MC(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:c="elevation"}=r,u=V_(r,CA),h=d(d({},r),{},{component:s,elevation:a,square:l,variant:c}),f=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return q_({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},xA,i)})(h);return(0,D_.jsx)(AA,d(d({as:s,ownerState:h,className:z_(f.root,o),ref:t},u),{},{style:d(d({},"elevation"===c&&d(d({"--Paper-shadow":(i.vars||i).shadows[a]},i.vars&&{"--Paper-overlay":null===(n=i.vars.overlays)||void 0===n?void 0:n[a]}),!i.vars&&"dark"===i.palette.mode&&{"--Paper-overlay":"linear-gradient(".concat(lT("#fff",eI(a)),", ").concat(lT("#fff",eI(a)),")")})),u.style)}))})),PA=RA;function NA(e){return DI("MuiAlert",e)}const OA=MI("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),DA=BI((0,D_.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),MA=BI((0,D_.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),LA=BI((0,D_.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),FA=BI((0,D_.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),jA=BI((0,D_.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),UA=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],VA=kI(PA,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(G_(n.color||n.severity))]]}})(II((e=>{let{theme:t}=e;const n="light"===t.palette.mode?uT:hT,r="light"===t.palette.mode?hT:uT;return d(d({},t.typography.body2),{},{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(Jx(["light"])).map((e=>{let[i]=e;return{props:{colorSeverity:i,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(i,"Color")]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(i,"StandardBg")]:r(t.palette[i].light,.9),["& .".concat(OA.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(i,"IconColor")]}:{color:t.palette[i].main}}}})),...Object.entries(t.palette).filter(Jx(["light"])).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:n(t.palette[r].light,.6),border:"1px solid ".concat((t.vars||t).palette[r].light),["& .".concat(OA.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter(Jx(["dark"])).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:d({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(n,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(n,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}}))]})}))),BA=kI("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),zA=kI("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),qA=kI("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),HA={success:(0,D_.jsx)(DA,{fontSize:"inherit"}),warning:(0,D_.jsx)(MA,{fontSize:"inherit"}),error:(0,D_.jsx)(LA,{fontSize:"inherit"}),info:(0,D_.jsx)(FA,{fontSize:"inherit"})},WA=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiAlert"}),{action:r,children:i,className:o,closeText:s="Close",color:a,components:l={},componentsProps:c={},icon:u,iconMapping:h=HA,onClose:f,role:p="alert",severity:m="success",slotProps:g={},slots:v={},variant:y="standard"}=n,b=V_(n,UA),w=d(d({},n),{},{color:a,severity:m,variant:y,colorSeverity:a||m}),_=(e=>{const{variant:t,color:n,severity:r,classes:i}=e;return q_({root:["root","color".concat(G_(n||r)),"".concat(t).concat(G_(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]},NA,i)})(w),S={slots:d({closeButton:l.CloseButton,closeIcon:l.CloseIcon},v),slotProps:d(d({},c),g)},[E,k]=TC("closeButton",{elementType:IA,externalForwardedProps:S,ownerState:w}),[T,I]=TC("closeIcon",{elementType:jA,externalForwardedProps:S,ownerState:w});return(0,D_.jsxs)(VA,d(d({role:p,elevation:0,ownerState:w,className:z_(_.root,o),ref:t},b),{},{children:[!1!==u?(0,D_.jsx)(BA,{ownerState:w,className:_.icon,children:u||h[m]||HA[m]}):null,(0,D_.jsx)(zA,{ownerState:w,className:_.message,children:i}),null!=r?(0,D_.jsx)(qA,{ownerState:w,className:_.action,children:r}):null,null==r&&f?(0,D_.jsx)(qA,{ownerState:w,className:_.action,children:(0,D_.jsx)(E,d(d({size:"small","aria-label":s,title:s,color:"inherit",onClick:f},k),{},{children:(0,D_.jsx)(T,d({fontSize:"small"},I))}))}):null]}))})),GA=WA;const KA=i.createContext({});function QA(e){return DI("MuiList",e)}MI("MuiList",["root","padding","dense","subheader"]);const YA=["children","className","component","dense","disablePadding","subheader"],$A=kI("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return t.subheader},style:{paddingTop:0}}]}),JA=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiList"}),{children:r,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=n,u=V_(n,YA),h=i.useMemo((()=>({dense:a})),[a]),f=d(d({},n),{},{component:s,dense:a,disablePadding:l}),p=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return q_({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},QA,t)})(f);return(0,D_.jsx)(KA.Provider,{value:h,children:(0,D_.jsxs)($A,d(d({as:s,className:z_(p.root,o),ref:t,ownerState:f},u),{},{children:[c,r]}))})})),XA=JA;const ZA=function(e){return"string"===typeof e};const eR=function(e,t){var n,r;return i.isValidElement(e)&&-1!==t.indexOf(null!==(n=e.type.muiName)&&void 0!==n?n:null===(r=e.type)||void 0===r||null===(r=r._payload)||void 0===r||null===(r=r.value)||void 0===r?void 0:r.muiName)};function tR(e){return DI("MuiListItem",e)}MI("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const nR=MI("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function rR(e){return DI("MuiListItemSecondaryAction",e)}MI("MuiListItemSecondaryAction",["root","disableGutters"]);const iR=["className"],oR=kI("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:e=>{let{ownerState:t}=e;return t.disableGutters},style:{right:0}}]}),sR=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiListItemSecondaryAction"}),{className:r}=n,o=V_(n,iR),s=i.useContext(KA),a=d(d({},n),{},{disableGutters:s.disableGutters}),l=(e=>{const{disableGutters:t,classes:n}=e;return q_({root:["root",t&&"disableGutters"]},rR,n)})(a);return(0,D_.jsx)(oR,d({className:z_(l.root,r),ownerState:a,ref:t},o))}));sR.muiName="ListItemSecondaryAction";const aR=sR,lR=["className"],cR=["alignItems","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disableGutters","disablePadding","divider","secondaryAction","slotProps","slots"],uR=kI("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]}})(II((e=>{let{theme:t}=e;return{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&t.dense},style:{paddingTop:4,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&!!t.secondaryAction},style:{paddingRight:48}},{props:e=>{let{ownerState:t}=e;return!!t.secondaryAction},style:{["& > .".concat(nR.root)]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return t.button},style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:e=>{let{ownerState:t}=e;return t.hasSecondaryAction},style:{paddingRight:48}}]}}))),dR=kI("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),hR=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiListItem"}),{alignItems:r="center",children:o,className:s,component:a,components:l={},componentsProps:c={},ContainerComponent:u="li",ContainerProps:{className:h}={},dense:f=!1,disableGutters:p=!1,disablePadding:m=!1,divider:g=!1,secondaryAction:v,slotProps:y={},slots:b={}}=n,w=V_(n.ContainerProps,lR),_=V_(n,cR),S=i.useContext(KA),E=i.useMemo((()=>({dense:f||S.dense||!1,alignItems:r,disableGutters:p})),[r,S.dense,f,p]),k=i.useRef(null),T=i.Children.toArray(o),I=T.length&&eR(T[T.length-1],["ListItemSecondaryAction"]),x=d(d({},n),{},{alignItems:r,dense:E.dense,disableGutters:p,disablePadding:m,divider:g,hasSecondaryAction:I}),C=(e=>{const{alignItems:t,classes:n,dense:r,disableGutters:i,disablePadding:o,divider:s,hasSecondaryAction:a}=e;return q_({root:["root",r&&"dense",!i&&"gutters",!o&&"padding",s&&"divider","flex-start"===t&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},tR,n)})(x),A=ax(k,t),R=b.root||l.Root||uR,P=y.root||c.root||{},N=d({className:z_(C.root,P.className,s)},_);let O=a||"li";return I?(O=N.component||a?O:"div","li"===u&&("li"===O?O="div":"li"===N.component&&(N.component="div")),(0,D_.jsx)(KA.Provider,{value:E,children:(0,D_.jsxs)(dR,d(d({as:u,className:z_(C.container,h),ref:A,ownerState:x},w),{},{children:[(0,D_.jsx)(R,d(d(d(d({},P),!ZA(R)&&{as:O,ownerState:d(d({},x),P.ownerState)}),N),{},{children:T})),T.pop()]}))})):(0,D_.jsx)(KA.Provider,{value:E,children:(0,D_.jsxs)(R,d(d(d(d({},P),{},{as:O,ref:A},!ZA(R)&&{ownerState:d(d({},x),P.ownerState)}),N),{},{children:[T,v&&(0,D_.jsx)(aR,{children:v})]}))})})),fR=hR;function pR(e){return DI("MuiListItemText",e)}const mR=MI("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),gR=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps","slots","slotProps"],vR=kI("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(mR.primary)]:t.primary},{["& .".concat(mR.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[".".concat(hA.root,":where(& .").concat(mR.primary,")")]:{display:"block"},[".".concat(hA.root,":where(& .").concat(mR.secondary,")")]:{display:"block"},variants:[{props:e=>{let{ownerState:t}=e;return t.primary&&t.secondary},style:{marginTop:6,marginBottom:6}},{props:e=>{let{ownerState:t}=e;return t.inset},style:{paddingLeft:56}}]}),yR=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiListItemText"}),{children:r,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:h,slots:f={},slotProps:p={}}=n,m=V_(n,gR),{dense:g}=i.useContext(KA);let v=null!=l?l:r,y=u;const b=d(d({},n),{},{disableTypography:s,inset:a,primary:!!v,secondary:!!y,dense:g}),w=(e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return q_({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},pR,t)})(b),_={slots:f,slotProps:d({primary:c,secondary:h},p)},[S,E]=TC("primary",{className:w.primary,elementType:wA,externalForwardedProps:_,ownerState:b}),[k,T]=TC("secondary",{className:w.secondary,elementType:wA,externalForwardedProps:_,ownerState:b});return null==v||v.type===wA||s||(v=(0,D_.jsx)(S,d(d({variant:g?"body2":"body1",component:null!==E&&void 0!==E&&E.variant?void 0:"span"},E),{},{children:v}))),null==y||y.type===wA||s||(y=(0,D_.jsx)(k,d(d({variant:"body2",color:"textSecondary"},T),{},{children:y}))),(0,D_.jsxs)(vR,d(d({className:z_(w.root,o),ownerState:b,ref:t},m),{},{children:[v,y]}))})),bR=yR;function wR(e){return DI("MuiCircularProgress",e)}MI("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const _R=["className","color","disableShrink","size","style","thickness","value","variant"];var SR,ER,kR,TR;const IR=44,xR=Ax(SR||(SR=px(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),CR=Ax(ER||(ER=px(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"]))),AR="string"!==typeof xR?Cx(kR||(kR=px(["\n        animation: "," 1.4s linear infinite;\n      "])),xR):null,RR="string"!==typeof CR?Cx(TR||(TR=px(["\n        animation: "," 1.4s ease-in-out infinite;\n      "])),CR):null,PR=kI("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat(G_(n.color))]]}})(II((e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:AR||{animation:"".concat(xR," 1.4s linear infinite")}},...Object.entries(t.palette).filter(Jx()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}}))]}}))),NR=kI("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),OR=kI("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat(G_(n.variant))],n.disableShrink&&t.circleDisableShrink]}})(II((e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:RR||{animation:"".concat(CR," 1.4s ease-in-out infinite")}}]}}))),DR=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:o=!1,size:s=40,style:a,thickness:l=3.6,value:c=0,variant:u="indeterminate"}=n,h=V_(n,_R),f=d(d({},n),{},{color:i,disableShrink:o,size:s,thickness:l,value:c,variant:u}),p=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e;return q_({root:["root",n,"color".concat(G_(r))],svg:["svg"],circle:["circle","circle".concat(G_(n)),i&&"circleDisableShrink"]},wR,t)})(f),m={},g={},v={};if("determinate"===u){const e=2*Math.PI*((IR-l)/2);m.strokeDasharray=e.toFixed(3),v["aria-valuenow"]=Math.round(c),m.strokeDashoffset="".concat(((100-c)/100*e).toFixed(3),"px"),g.transform="rotate(-90deg)"}return(0,D_.jsx)(PR,d(d(d({className:z_(p.root,r),style:d(d({width:s,height:s},g),a),ownerState:f,ref:t,role:"progressbar"},v),h),{},{children:(0,D_.jsx)(NR,{className:p.svg,ownerState:f,viewBox:"".concat(22," ").concat(22," ").concat(IR," ").concat(IR),children:(0,D_.jsx)(OR,{className:p.circle,style:m,ownerState:f,cx:IR,cy:IR,r:(IR-l)/2,fill:"none",strokeWidth:l})})}))})),MR=DR,LR=BI((0,D_.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),FR=BI((0,D_.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),jR=BI((0,D_.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),UR=BI((0,D_.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),VR=kI(rx)((e=>{let{theme:t}=e;return{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,backgroundColor:t.palette.background.paper,borderRadius:"8px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",padding:"24px",maxHeight:"80vh",overflowY:"auto"}})),BR=kI(lC)({marginTop:"20px",width:"100%"}),zR=kI("input")({display:"none"}),qR=kI(rx)((e=>{let{isDragActive:t,hasFiles:n}=e;return{border:"2px dashed #ccc",borderRadius:"8px",padding:"40px 20px",textAlign:"center",cursor:"pointer",backgroundColor:t?"#f0f7ff":n?"#e8f5e9":"#fafafa",transition:"all 0.3s ease","&:hover":{backgroundColor:"#f0f7ff",borderColor:"#2196f3"}}})),HR=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)([]),[o,s]=(0,i.useState)({}),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),[h,f]=(0,i.useState)(!1),p=()=>{t(!1),r([]),s({}),u(""),f(!1)},m=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?l(!0):l(!1)},g=e=>{if(0===e)return"0 Byte";const t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]},v=e=>new Promise(((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=e=>n(e)}));return(0,D_.jsxs)("div",{className:"newFile",children:[(0,D_.jsxs)("div",{className:"newFile__container",onClick:()=>{t(!0),u("")},children:[(0,D_.jsx)(LR,{fontSize:"large"}),(0,D_.jsx)("p",{children:"New"})]}),(0,D_.jsx)(uA,{open:e,onClose:p,children:(0,D_.jsxs)(VR,{children:[(0,D_.jsxs)(rx,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,D_.jsx)(wA,{variant:"h6",children:"Upload Files"}),(0,D_.jsx)(IA,{onClick:p,size:"small",children:(0,D_.jsx)(jR,{})})]}),c&&(0,D_.jsx)(GA,{severity:"error",sx:{mb:2},children:c}),(0,D_.jsx)(zR,{type:"file",id:"file-upload",onChange:e=>{const t=Array.from(e.target.files||[]);r((e=>[...e,...t]))},multiple:!0}),(0,D_.jsx)("label",{htmlFor:"file-upload",children:(0,D_.jsxs)(qR,{onDragEnter:m,onDragLeave:m,onDragOver:m,onDrop:e=>{e.preventDefault(),e.stopPropagation(),l(!1);const t=Array.from(e.dataTransfer.files);r((e=>[...e,...t]))},isDragActive:a,hasFiles:n.length>0,children:[(0,D_.jsx)(FR,{sx:{fontSize:48,color:"text.secondary",mb:2}}),(0,D_.jsx)(wA,{variant:"body1",gutterBottom:!0,children:"Drag and drop your files here"}),(0,D_.jsx)(wA,{variant:"body2",color:"textSecondary",children:"or click to select files"})]})}),n.length>0&&(0,D_.jsx)(XA,{sx:{mt:2},children:n.map(((e,t)=>(0,D_.jsxs)(fR,{secondaryAction:!h&&(0,D_.jsx)(IA,{edge:"end",onClick:()=>(e=>{r((t=>t.filter(((t,n)=>n!==e)))),u("")})(t),children:(0,D_.jsx)(UR,{})}),children:[(0,D_.jsx)(bR,{primary:e.name,secondary:g(e.size)}),h&&(0,D_.jsx)(rx,{sx:{width:60,textAlign:"right"},children:void 0!==o[t]?"".concat(o[t],"%"):(0,D_.jsx)(MR,{size:20})})]},t)))}),(0,D_.jsx)(BR,{variant:"contained",color:"primary",onClick:async()=>{if(n.length)try{f(!0);for(let e=0;e<n.length;e++){const t=n[e];s((t=>d(d({},t),{},{[e]:25})));const r=await v(t);s((t=>d(d({},t),{},{[e]:50})));const i={name:t.name,type:t.type,size:t.size,data:r,timestamp:Zf.firestore.FieldValue.serverTimestamp(),uploadDate:(new Date).toISOString()};s((t=>d(d({},t),{},{[e]:75}))),await O_.collection("myFiles").add(i),s((t=>d(d({},t),{},{[e]:100})))}setTimeout(p,500)}catch(c){console.error("Error uploading files:",c),u("Failed to upload files. Please try again."),f(!1)}},disabled:!n.length||h,startIcon:(0,D_.jsx)(FR,{}),children:h?"Uploading...":"Upload ".concat(n.length," File").concat(1!==n.length?"s":"")})]})})]})},WR=BI((0,D_.jsx)("path",{d:"m10 17 5-5-5-5z"}),"ArrowRight"),GR=e=>{let{arrow:t,icon:n,label:r}=e;return(0,D_.jsxs)("div",{className:"sidebarItem",children:[(0,D_.jsx)("div",{className:"sidebarItem__arrow",children:t&&(0,D_.jsx)(WR,{})}),(0,D_.jsxs)("div",{className:"sidebarItem__Main",children:[n,(0,D_.jsx)("p",{children:r})]})]})},KR=BI((0,D_.jsx)("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"}),"InsertDriveFile"),QR=BI((0,D_.jsx)("path",{d:"M23 11.01 18 11c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5c.55 0 1-.45 1-1v-9c0-.55-.45-.99-1-.99M23 20h-5v-7h5zM20 2H2C.89 2 0 2.89 0 4v12c0 1.1.89 2 2 2h7v2H7v2h8v-2h-2v-2h2v-2H2V4h18v5h2V4c0-1.11-.9-2-2-2m-8.03 7L11 6l-.97 3H7l2.47 1.76-.94 2.91 2.47-1.8 2.47 1.8-.94-2.91L15 9z"}),"ImportantDevices"),YR=BI([(0,D_.jsx)("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),(0,D_.jsx)("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),(0,D_.jsx)("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt"),$R=BI([(0,D_.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,D_.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"QueryBuilder"),JR=BI((0,D_.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28z"}),"StarBorder"),XR=BI((0,D_.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline"),ZR=()=>{const{currentView:e,handleViewChange:t}=F_(),n=[{id:"myDrive",icon:KR,label:"My Drive",arrow:!0},{id:"computers",icon:QR,label:"Computers",arrow:!0},{id:"shared",icon:YR,label:"Shared with me"},{id:"recent",icon:$R,label:"Recent"},{id:"starred",icon:JR,label:"Starred"},{id:"bin",icon:XR,label:"Bin"},{id:"storage",icon:KR,label:"Storage"}];return(0,D_.jsxs)("div",{className:"sideBar",children:[(0,D_.jsx)(HR,{}),(0,D_.jsx)("div",{className:"sidebar__itemsContainer",children:n.map((n=>(0,D_.jsx)("div",{onClick:()=>t(n.id),children:(0,D_.jsx)(GR,{arrow:n.arrow,icon:(0,D_.jsx)(n.icon,{}),label:n.label,active:e===n.id})},n.id)))})]})};function eP(e){return DI("MuiTableContainer",e)}MI("MuiTableContainer",["root"]);const tP=["className","component"],nP=kI("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),rP=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiTableContainer"}),{className:r,component:i="div"}=n,o=V_(n,tP),s=d(d({},n),{},{component:i}),a=(e=>{const{classes:t}=e;return q_({root:["root"]},eP,t)})(s);return(0,D_.jsx)(nP,d({ref:t,as:i,className:z_(a.root,r),ownerState:s},o))})),iP=rP;const oP=i.createContext();function sP(e){return DI("MuiTable",e)}MI("MuiTable",["root","stickyHeader"]);const aP=["className","component","padding","size","stickyHeader"],lP=kI("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(II((e=>{let{theme:t}=e;return{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":d(d({},t.typography.body2),{},{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"}),variants:[{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{borderCollapse:"separate"}}]}}))),cP="table",uP=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiTable"}),{className:r,component:o=cP,padding:s="normal",size:a="medium",stickyHeader:l=!1}=n,c=V_(n,aP),u=d(d({},n),{},{component:o,padding:s,size:a,stickyHeader:l}),h=(e=>{const{classes:t,stickyHeader:n}=e;return q_({root:["root",n&&"stickyHeader"]},sP,t)})(u),f=i.useMemo((()=>({padding:s,size:a,stickyHeader:l})),[s,a,l]);return(0,D_.jsx)(oP.Provider,{value:f,children:(0,D_.jsx)(lP,d({as:o,role:o===cP?null:"table",ref:t,className:z_(h.root,r),ownerState:u},c))})})),dP=uP;const hP=i.createContext();function fP(e){return DI("MuiTableHead",e)}MI("MuiTableHead",["root"]);const pP=["className","component"],mP=kI("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),gP={variant:"head"},vP="thead",yP=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiTableHead"}),{className:r,component:i=vP}=n,o=V_(n,pP),s=d(d({},n),{},{component:i}),a=(e=>{const{classes:t}=e;return q_({root:["root"]},fP,t)})(s);return(0,D_.jsx)(hP.Provider,{value:gP,children:(0,D_.jsx)(mP,d({as:i,className:z_(a.root,r),ref:t,role:i===vP?null:"rowgroup",ownerState:s},o))})})),bP=yP;function wP(e){return DI("MuiTableRow",e)}const _P=MI("MuiTableRow",["root","selected","hover","head","footer"]),SP=["className","component","hover","selected"],EP=kI("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(II((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(_P.hover,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(_P.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):lT(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):lT(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}}))),kP="tr",TP=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiTableRow"}),{className:r,component:o=kP,hover:s=!1,selected:a=!1}=n,l=V_(n,SP),c=i.useContext(hP),u=d(d({},n),{},{component:o,hover:s,selected:a,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),h=(e=>{const{classes:t,selected:n,hover:r,head:i,footer:o}=e;return q_({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},wP,t)})(u);return(0,D_.jsx)(EP,d({as:o,ref:t,className:z_(h.root,r),role:o===kP?null:"row",ownerState:u},l))})),IP=TP;function xP(e){return DI("MuiTableCell",e)}const CP=MI("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),AP=["align","className","component","padding","scope","size","sortDirection","variant"],RP=kI("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["size".concat(G_(n.size))],"normal"!==n.padding&&t["padding".concat(G_(n.padding))],"inherit"!==n.align&&t["align".concat(G_(n.align))],n.stickyHeader&&t.stickyHeader]}})(II((e=>{let{theme:t}=e;return d(d({},t.typography.body2),{},{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?hT(lT(t.palette.divider,1),.88):uT(lT(t.palette.divider,1),.68)),textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",["&.".concat(CP.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]})}))),PP=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiTableCell"}),{align:r="inherit",className:o,component:s,padding:a,scope:l,size:c,sortDirection:u,variant:h}=n,f=V_(n,AP),p=i.useContext(oP),m=i.useContext(hP),g=m&&"head"===m.variant;let v;v=s||(g?"th":"td");let y=l;"td"===v?y=void 0:!y&&g&&(y="col");const b=h||m&&m.variant,w=d(d({},n),{},{align:r,component:v,padding:a||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:u,stickyHeader:"head"===b&&p&&p.stickyHeader,variant:b}),_=(e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:s}=e;return q_({root:["root",n,s&&"stickyHeader","inherit"!==r&&"align".concat(G_(r)),"normal"!==i&&"padding".concat(G_(i)),"size".concat(G_(o))]},xP,t)})(w);let S=null;return u&&(S="asc"===u?"ascending":"descending"),(0,D_.jsx)(RP,d({as:v,ref:t,className:z_(_.root,o),"aria-sort":S,scope:y,ownerState:w},f))})),NP=PP;function OP(e){return DI("MuiTableBody",e)}MI("MuiTableBody",["root"]);const DP=["className","component"],MP=kI("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),LP={variant:"body"},FP="tbody",jP=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiTableBody"}),{className:r,component:i=FP}=n,o=V_(n,DP),s=d(d({},n),{},{component:i}),a=(e=>{const{classes:t}=e;return q_({root:["root"]},OP,t)})(s);return(0,D_.jsx)(hP.Provider,{value:LP,children:(0,D_.jsx)(MP,d({className:z_(a.root,r),as:i,ref:t,role:i===FP?null:"rowgroup",ownerState:s},o))})})),UP=jP;const VP=i.createContext();function BP(e){return DI("MuiGrid",e)}const zP=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],qP=MI("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>"spacing-xs-".concat(e))),...["column-reverse","column","row-reverse","row"].map((e=>"direction-xs-".concat(e))),...["nowrap","wrap-reverse","wrap"].map((e=>"wrap-xs-".concat(e))),...zP.map((e=>"grid-xs-".concat(e))),...zP.map((e=>"grid-sm-".concat(e))),...zP.map((e=>"grid-md-".concat(e))),...zP.map((e=>"grid-lg-".concat(e))),...zP.map((e=>"grid-xl-".concat(e)))]),HP=qP,WP=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function GP(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const i=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return i.slice(0,i.indexOf(r))}const KP=kI("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach((t=>{const i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(s,c,t));const d=[];return c.forEach((e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...u,"row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==a&&t["wrap-xs-".concat(String(a))],...d]}})((e=>{let{ownerState:t}=e;return d(d(d(d({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"}),t.item&&{margin:0}),t.zeroMinWidth&&{minWidth:0}),"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;return BE({theme:t},HE({values:n.direction,breakpoints:t.breakpoints.values}),(e=>{const t={flexDirection:e};return e.startsWith("column")&&(t["& > .".concat(HP.item)]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let o={};if(r&&0!==i){const e=HE({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=GP({breakpoints:t.breakpoints.values,values:e})),o=BE({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{marginTop:"calc(-1 * ".concat(o,")"),["& > .".concat(HP.item)]:{paddingTop:o}}:null!==(i=n)&&void 0!==i&&i.includes(r)?{}:{marginTop:0,["& > .".concat(HP.item)]:{paddingTop:0}}}))}return o}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let o={};if(r&&0!==i){const e=HE({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=GP({breakpoints:t.breakpoints.values,values:e})),o=BE({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);if("0px"!==o){const e="calc(-1 * ".concat(o,")");return{width:"calc(100% + ".concat(o,")"),marginLeft:e,["& > .".concat(HP.item)]:{paddingLeft:o}}}return null!==(i=n)&&void 0!==i&&i.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(HP.item)]:{paddingLeft:0}}}))}return o}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,i)=>{let o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=HE({values:r.columns,breakpoints:n.breakpoints.values}),a="object"===typeof s?s[i]:s;if(void 0===a||null===a)return e;const l="".concat(Math.round(t/a*1e8)/1e6,"%");let c={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(l," + ").concat(e,")");c={flexBasis:t,maxWidth:t}}}o=d({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})}));const QP=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}})),n}(o,l));const u=[];l.forEach((t=>{const n=e[t];n&&u.push("grid-".concat(t,"-").concat(String(n)))}));return q_({root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==s&&"wrap-xs-".concat(String(s)),...u]},BP,t)},YP=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiGrid"}),{breakpoints:r}=MC(),o=YI(n),{className:s,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:h="row",item:f=!1,rowSpacing:p,spacing:m=0,wrap:g="wrap",zeroMinWidth:v=!1}=o,y=V_(o,WP),b=p||m,w=l||m,_=i.useContext(VP),S=u?a||12:_,E={},k=d({},y);r.keys.forEach((e=>{null!=y[e]&&(E[e]=y[e],delete k[e])}));const T=d(d(d({},o),{},{columns:S,container:u,direction:h,item:f,rowSpacing:b,columnSpacing:w,wrap:g,zeroMinWidth:v,spacing:m},E),{},{breakpoints:r.keys}),I=QP(T);return(0,D_.jsx)(VP.Provider,{value:S,children:(0,D_.jsx)(KP,d({ownerState:T,className:z_(I.root,s),as:c,ref:t},k))})}));const $P=YP;function JP(e){return DI("MuiCard",e)}MI("MuiCard",["root"]);const XP=["className","raised"],ZP=kI(PA,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),eN=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiCard"}),{className:r,raised:i=!1}=n,o=V_(n,XP),s=d(d({},n),{},{raised:i}),a=(e=>{const{classes:t}=e;return q_({root:["root"]},JP,t)})(s);return(0,D_.jsx)(ZP,d({className:z_(a.root,r),elevation:i?8:void 0,ref:t,ownerState:s},o))})),tN=eN;function nN(e){return DI("MuiCardContent",e)}MI("MuiCardContent",["root"]);const rN=["className","component"],iN=kI("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),oN=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiCardContent"}),{className:r,component:i="div"}=n,o=V_(n,rN),s=d(d({},n),{},{component:i}),a=(e=>{const{classes:t}=e;return q_({root:["root"]},nN,t)})(s);return(0,D_.jsx)(iN,d({as:i,className:z_(a.root,r),ownerState:s,ref:t},o))})),sN=oN;function aN(e){return DI("MuiButtonGroup",e)}const lN=MI("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),cN=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],uN=kI("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(lN.grouped)]:t.grouped},{["& .".concat(lN.grouped)]:t["grouped".concat(G_(n.orientation))]},{["& .".concat(lN.grouped)]:t["grouped".concat(G_(n.variant))]},{["& .".concat(lN.grouped)]:t["grouped".concat(G_(n.variant)).concat(G_(n.orientation))]},{["& .".concat(lN.grouped)]:t["grouped".concat(G_(n.variant)).concat(G_(n.color))]},{["& .".concat(lN.firstButton)]:t.firstButton},{["& .".concat(lN.lastButton)]:t.lastButton},{["& .".concat(lN.middleButton)]:t.middleButton},t.root,t[n.variant],!0===n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,"vertical"===n.orientation&&t.vertical]}})(II((e=>{let{theme:t}=e;return{display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(t.vars||t).shadows[2]}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",["& .".concat(lN.lastButton,",& .").concat(lN.middleButton)]:{borderTopRightRadius:0,borderTopLeftRadius:0},["& .".concat(lN.firstButton,",& .").concat(lN.middleButton)]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{["& .".concat(lN.firstButton,",& .").concat(lN.middleButton)]:{borderTopRightRadius:0,borderBottomRightRadius:0},["& .".concat(lN.lastButton,",& .").concat(lN.middleButton)]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{["& .".concat(lN.firstButton,",& .").concat(lN.middleButton)]:{borderRight:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(lN.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}}}},{props:{variant:"text",orientation:"vertical"},style:{["& .".concat(lN.firstButton,",& .").concat(lN.middleButton)]:{borderBottom:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(lN.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}}}},...Object.entries(t.palette).filter(Jx()).flatMap((e=>{let[n]=e;return[{props:{variant:"text",color:n},style:{["& .".concat(lN.firstButton,",& .").concat(lN.middleButton)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / 0.5)"):lT(t.palette[n].main,.5)}}}]})),{props:{variant:"outlined",orientation:"horizontal"},style:{["& .".concat(lN.firstButton,",& .").concat(lN.middleButton)]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},["& .".concat(lN.lastButton,",& .").concat(lN.middleButton)]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{["& .".concat(lN.firstButton,",& .").concat(lN.middleButton)]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},["& .".concat(lN.lastButton,",& .").concat(lN.middleButton)]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{["& .".concat(lN.firstButton,",& .").concat(lN.middleButton)]:{borderRight:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(lN.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}}}},{props:{variant:"contained",orientation:"vertical"},style:{["& .".concat(lN.firstButton,",& .").concat(lN.middleButton)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(lN.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}}}},...Object.entries(t.palette).filter(Jx(["dark"])).map((e=>{let[n]=e;return{props:{variant:"contained",color:n},style:{["& .".concat(lN.firstButton,",& .").concat(lN.middleButton)]:{borderColor:(t.vars||t).palette[n].dark}}}}))],["& .".concat(lN.grouped)]:{minWidth:40,boxShadow:"none",props:{variant:"contained"},style:{"&:hover":{boxShadow:"none"}}}}}))),dN=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiButtonGroup"}),{children:r,className:o,color:s="primary",component:a="div",disabled:l=!1,disableElevation:c=!1,disableFocusRipple:u=!1,disableRipple:h=!1,fullWidth:f=!1,orientation:p="horizontal",size:m="medium",variant:g="outlined"}=n,v=V_(n,cN),y=d(d({},n),{},{color:s,component:a,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:h,fullWidth:f,orientation:p,size:m,variant:g}),b=(e=>{const{classes:t,color:n,disabled:r,disableElevation:i,fullWidth:o,orientation:s,variant:a}=e;return q_({root:["root",a,s,o&&"fullWidth",i&&"disableElevation","color".concat(G_(n))],grouped:["grouped","grouped".concat(G_(s)),"grouped".concat(G_(a)),"grouped".concat(G_(a)).concat(G_(s)),"grouped".concat(G_(a)).concat(G_(n)),r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]},aN,t)})(y),w=i.useMemo((()=>({className:b.grouped,color:s,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:h,fullWidth:f,size:m,variant:g})),[s,l,c,u,h,f,m,g,b.grouped]),_=function(e){return i.Children.toArray(e).filter((e=>i.isValidElement(e)))}(r),S=_.length,E=e=>{const t=0===e,n=e===S-1;return t&&n?"":t?b.firstButton:n?b.lastButton:b.middleButton};return(0,D_.jsx)(uN,d(d({as:a,role:"group",className:z_(b.root,o),ref:t,ownerState:y},v),{},{children:(0,D_.jsx)(eC.Provider,{value:w,children:_.map(((e,t)=>(0,D_.jsx)(tC.Provider,{value:E(t),children:e},t)))})}))})),hN=dN,fN=i.createContext();const pN=()=>{const e=i.useContext(fN);return null!==e&&void 0!==e&&e},mN=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function gN(e){return"scale(".concat(e,", ").concat(e**2,")")}const vN={entering:{opacity:1,transform:gN(1)},entered:{opacity:1,transform:"none"}},yN="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),bN=i.forwardRef((function(e,t){const{addEndListener:n,appear:r=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:h,onExited:f,onExiting:p,style:m,timeout:g="auto",TransitionComponent:v=DC}=e,y=V_(e,mN),b=Ix(),w=i.useRef(),_=MC(),S=i.useRef(null),E=ax(S,cC(o),t),k=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},T=k(u),I=k(((e,t)=>{LC(e);const{duration:n,delay:r,easing:i}=FC({style:m,timeout:g,easing:s},{mode:"enter"});let o;"auto"===g?(o=_.transitions.getAutoHeightDuration(e.clientHeight),w.current=o):o=n,e.style.transition=[_.transitions.create("opacity",{duration:o,delay:r}),_.transitions.create("transform",{duration:yN?o:.666*o,delay:r,easing:i})].join(","),l&&l(e,t)})),x=k(c),C=k(p),A=k((e=>{const{duration:t,delay:n,easing:r}=FC({style:m,timeout:g,easing:s},{mode:"exit"});let i;"auto"===g?(i=_.transitions.getAutoHeightDuration(e.clientHeight),w.current=i):i=t,e.style.transition=[_.transitions.create("opacity",{duration:i,delay:n}),_.transitions.create("transform",{duration:yN?i:.666*i,delay:yN?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=gN(.75),h&&h(e)})),R=k(f);return(0,D_.jsx)(v,d(d({appear:r,in:a,nodeRef:S,onEnter:I,onEntered:x,onEntering:T,onExit:A,onExited:R,onExiting:C,addEndListener:e=>{"auto"===g&&b.start(w.current||0,e),n&&n(S.current,e)},timeout:"auto"===g?null:g},y),{},{children:(e,t)=>i.cloneElement(o,d({style:d(d(d({opacity:0,transform:gN(.75),visibility:"exited"!==e||a?void 0:"hidden"},vN[e]),m),o.props.style),ref:E},t))}))}));bN&&(bN.muiSupportAuto=!0);const wN=bN;function _N(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function SN(e){return e instanceof _N(e).Element||e instanceof Element}function EN(e){return e instanceof _N(e).HTMLElement||e instanceof HTMLElement}function kN(e){return"undefined"!==typeof ShadowRoot&&(e instanceof _N(e).ShadowRoot||e instanceof ShadowRoot)}var TN=Math.max,IN=Math.min,xN=Math.round;function CN(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function AN(){return!/^((?!chrome|android).)*safari/i.test(CN())}function RN(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&EN(e)&&(i=e.offsetWidth>0&&xN(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&xN(r.height)/e.offsetHeight||1);var s=(SN(e)?_N(e):window).visualViewport,a=!AN()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/i,c=(r.top+(a&&s?s.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function PN(e){var t=_N(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function NN(e){return e?(e.nodeName||"").toLowerCase():null}function ON(e){return((SN(e)?e.ownerDocument:e.document)||window.document).documentElement}function DN(e){return RN(ON(e)).left+PN(e).scrollLeft}function MN(e){return _N(e).getComputedStyle(e)}function LN(e){var t=MN(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function FN(e,t,n){void 0===n&&(n=!1);var r=EN(t),i=EN(t)&&function(e){var t=e.getBoundingClientRect(),n=xN(t.width)/e.offsetWidth||1,r=xN(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=ON(t),s=RN(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==NN(t)||LN(o))&&(a=function(e){return e!==_N(e)&&EN(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:PN(e);var t}(t)),EN(t)?((l=RN(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=DN(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function jN(e){var t=RN(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function UN(e){return"html"===NN(e)?e:e.assignedSlot||e.parentNode||(kN(e)?e.host:null)||ON(e)}function VN(e){return["html","body","#document"].indexOf(NN(e))>=0?e.ownerDocument.body:EN(e)&&LN(e)?e:VN(UN(e))}function BN(e,t){var n;void 0===t&&(t=[]);var r=VN(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=_N(r),s=i?[o].concat(o.visualViewport||[],LN(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(BN(UN(s)))}function zN(e){return["table","td","th"].indexOf(NN(e))>=0}function qN(e){return EN(e)&&"fixed"!==MN(e).position?e.offsetParent:null}function HN(e){for(var t=_N(e),n=qN(e);n&&zN(n)&&"static"===MN(n).position;)n=qN(n);return n&&("html"===NN(n)||"body"===NN(n)&&"static"===MN(n).position)?t:n||function(e){var t=/firefox/i.test(CN());if(/Trident/i.test(CN())&&EN(e)&&"fixed"===MN(e).position)return null;var n=UN(e);for(kN(n)&&(n=n.host);EN(n)&&["html","body"].indexOf(NN(n))<0;){var r=MN(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var WN="top",GN="bottom",KN="right",QN="left",YN="auto",$N=[WN,GN,KN,QN],JN="start",XN="end",ZN="viewport",eO="popper",tO=$N.reduce((function(e,t){return e.concat([t+"-"+JN,t+"-"+XN])}),[]),nO=[].concat($N,[YN]).reduce((function(e,t){return e.concat([t,t+"-"+JN,t+"-"+XN])}),[]),rO=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function iO(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function oO(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var sO={placement:"bottom",modifiers:[],strategy:"absolute"};function aO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function lO(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?sO:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},sO,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:SN(e)?BN(e):e.contextElement?BN(e.contextElement):[],popper:BN(t)};var u=function(e){var t=iO(e);return rO.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var a=o({state:i,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(aO(t,n)){i.rects={reference:FN(t,HN(n),"fixed"===i.options.strategy),popper:jN(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"===typeof s&&(i=s({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:oO((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),a=!0}};if(!aO(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var cO={passive:!0};const uO={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=_N(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,cO)})),a&&l.addEventListener("resize",n.update,cO),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,cO)})),a&&l.removeEventListener("resize",n.update,cO)}},data:{}};function dO(e){return e.split("-")[0]}function hO(e){return e.split("-")[1]}function fO(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function pO(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?dO(i):null,s=i?hO(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case WN:t={x:a,y:n.y-r.height};break;case GN:t={x:a,y:n.y+n.height};break;case KN:t={x:n.x+n.width,y:l};break;case QN:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?fO(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case JN:t[c]=t[c]-(n[u]/2-r[u]/2);break;case XN:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var mO={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gO(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,f=void 0===h?0:h,p=s.y,m=void 0===p?0:p,g="function"===typeof u?u({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=QN,w=WN,_=window;if(c){var S=HN(n),E="clientHeight",k="clientWidth";if(S===_N(n)&&"static"!==MN(S=ON(n)).position&&"absolute"===a&&(E="scrollHeight",k="scrollWidth"),i===WN||(i===QN||i===KN)&&o===XN)w=GN,m-=(d&&S===_&&_.visualViewport?_.visualViewport.height:S[E])-r.height,m*=l?1:-1;if(i===QN||(i===WN||i===GN)&&o===XN)b=KN,f-=(d&&S===_&&_.visualViewport?_.visualViewport.width:S[k])-r.width,f*=l?1:-1}var T,I=Object.assign({position:a},c&&mO),x=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:xN(n*i)/i||0,y:xN(r*i)/i||0}}({x:f,y:m},_N(n)):{x:f,y:m};return f=x.x,m=x.y,l?Object.assign({},I,((T={})[w]=y?"0":"",T[b]=v?"0":"",T.transform=(_.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",T)):Object.assign({},I,((t={})[w]=y?m+"px":"",t[b]=v?f+"px":"",t.transform="",t))}const vO={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];EN(i)&&NN(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});EN(r)&&NN(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const yO={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=nO.reduce((function(e,n){return e[n]=function(e,t,n){var r=dO(e),i=[QN,WN].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[QN,KN].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var bO={left:"right",right:"left",bottom:"top",top:"bottom"};function wO(e){return e.replace(/left|right|bottom|top/g,(function(e){return bO[e]}))}var _O={start:"end",end:"start"};function SO(e){return e.replace(/start|end/g,(function(e){return _O[e]}))}function EO(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&kN(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function kO(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function TO(e,t,n){return t===ZN?kO(function(e,t){var n=_N(e),r=ON(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=AN();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+DN(e),y:l}}(e,n)):SN(t)?function(e,t){var n=RN(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):kO(function(e){var t,n=ON(e),r=PN(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=TN(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=TN(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+DN(e),l=-r.scrollTop;return"rtl"===MN(i||n).direction&&(a+=TN(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(ON(e)))}function IO(e,t,n,r){var i="clippingParents"===t?function(e){var t=BN(UN(e)),n=["absolute","fixed"].indexOf(MN(e).position)>=0&&EN(e)?HN(e):e;return SN(n)?t.filter((function(e){return SN(e)&&EO(e,n)&&"body"!==NN(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=TO(e,n,r);return t.top=TN(i.top,t.top),t.right=IN(i.right,t.right),t.bottom=IN(i.bottom,t.bottom),t.left=TN(i.left,t.left),t}),TO(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function xO(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function CO(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function AO(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?ZN:c,d=n.elementContext,h=void 0===d?eO:d,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,g=void 0===m?0:m,v=xO("number"!==typeof g?g:CO(g,$N)),y=h===eO?"reference":eO,b=e.rects.popper,w=e.elements[p?y:h],_=IO(SN(w)?w:w.contextElement||ON(e.elements.popper),l,u,s),S=RN(e.elements.reference),E=pO({reference:S,element:b,strategy:"absolute",placement:i}),k=kO(Object.assign({},b,E)),T=h===eO?k:S,I={top:_.top-T.top+v.top,bottom:T.bottom-_.bottom+v.bottom,left:_.left-T.left+v.left,right:T.right-_.right+v.right},x=e.modifiersData.offset;if(h===eO&&x){var C=x[i];Object.keys(I).forEach((function(e){var t=[KN,GN].indexOf(e)>=0?1:-1,n=[WN,GN].indexOf(e)>=0?"y":"x";I[e]+=C[n]*t}))}return I}const RO={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=dO(g),y=l||(v===g||!p?[wO(g)]:function(e){if(dO(e)===YN)return[];var t=wO(e);return[SO(e),t,SO(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(dO(n)===YN?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?nO:l,u=hO(r),d=u?a?tO:tO.filter((function(e){return hO(e)===u})):$N,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var f=h.reduce((function(t,n){return t[n]=AO(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[dO(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,_=t.rects.popper,S=new Map,E=!0,k=b[0],T=0;T<b.length;T++){var I=b[T],x=dO(I),C=hO(I)===JN,A=[WN,GN].indexOf(x)>=0,R=A?"width":"height",P=AO(t,{placement:I,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),N=A?C?KN:QN:C?GN:WN;w[R]>_[R]&&(N=wO(N));var O=wO(N),D=[];if(o&&D.push(P[x]<=0),a&&D.push(P[N]<=0,P[O]<=0),D.every((function(e){return e}))){k=I,E=!1;break}S.set(I,D)}if(E)for(var M=function(e){var t=b.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},L=p?3:1;L>0;L--){if("break"===M(L))break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function PO(e,t,n){return TN(e,IN(t,n))}const NO={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,g=AO(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=dO(t.placement),y=hO(t.placement),b=!y,w=fO(v),_="x"===w?"y":"x",S=t.modifiersData.popperOffsets,E=t.rects.reference,k=t.rects.popper,T="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,I="number"===typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),x=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(S){if(o){var A,R="y"===w?WN:QN,P="y"===w?GN:KN,N="y"===w?"height":"width",O=S[w],D=O+g[R],M=O-g[P],L=f?-k[N]/2:0,F=y===JN?E[N]:k[N],j=y===JN?-k[N]:-E[N],U=t.elements.arrow,V=f&&U?jN(U):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=B[R],q=B[P],H=PO(0,E[N],V[N]),W=b?E[N]/2-L-H-z-I.mainAxis:F-H-z-I.mainAxis,G=b?-E[N]/2+L+H+q+I.mainAxis:j+H+q+I.mainAxis,K=t.elements.arrow&&HN(t.elements.arrow),Q=K?"y"===w?K.clientTop||0:K.clientLeft||0:0,Y=null!=(A=null==x?void 0:x[w])?A:0,$=O+G-Y,J=PO(f?IN(D,O+W-Y-Q):D,O,f?TN(M,$):M);S[w]=J,C[w]=J-O}if(a){var X,Z="x"===w?WN:QN,ee="x"===w?GN:KN,te=S[_],ne="y"===_?"height":"width",re=te+g[Z],ie=te-g[ee],oe=-1!==[WN,QN].indexOf(v),se=null!=(X=null==x?void 0:x[_])?X:0,ae=oe?re:te-E[ne]-k[ne]-se+I.altAxis,le=oe?te+E[ne]+k[ne]-se-I.altAxis:ie,ce=f&&oe?function(e,t,n){var r=PO(e,t,n);return r>n?n:r}(ae,te,le):PO(f?ae:re,te,f?le:ie);S[_]=ce,C[_]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};const OO={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=dO(n.placement),l=fO(a),c=[QN,KN].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return xO("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:CO(e,$N))}(i.padding,n),d=jN(o),h="y"===l?WN:QN,f="y"===l?GN:KN,p=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=HN(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=p/2-m/2,b=u[h],w=v-d[c]-u[f],_=v/2-d[c]/2+y,S=PO(b,_,w),E=l;n.modifiersData[r]=((t={})[E]=S,t.centerOffset=S-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&EO(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function DO(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function MO(e){return[WN,KN,GN,QN].some((function(t){return e[t]>=0}))}var LO=lO({defaultModifiers:[uO,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=pO({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:dO(t.placement),variation:hO(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,gO(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,gO(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},vO,yO,RO,NO,OO,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=AO(t,{elementContext:"reference"}),a=AO(t,{altBoundary:!0}),l=DO(s,r),c=DO(a,i,o),u=MO(l),d=MO(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});const FO=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const jO=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=V_(e,FO),a=o?{}:yC(r,i),{props:l,internalRef:c}=_C(d(d({},s),{},{externalSlotProps:a})),u=sx(c,null===a||void 0===a?void 0:a.ref,null===(t=e.additionalProps)||void 0===t?void 0:t.ref);return vC(n,d(d({},l),{},{ref:u}),i)};function UO(e){return DI("MuiPopper",e)}MI("MuiPopper",["root"]);const VO=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],BO=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function zO(e){return"function"===typeof e?e():e}function qO(e){return void 0!==e.nodeType}const HO={},WO=i.forwardRef((function(e,t){var n;const{anchorEl:r,children:o,direction:s,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:h,popperRef:f,slotProps:p={},slots:m={},TransitionProps:g,ownerState:v}=e,y=V_(e,VO),b=i.useRef(null),w=sx(b,t),_=i.useRef(null),S=sx(_,f),E=i.useRef(S);lx((()=>{E.current=S}),[S]),i.useImperativeHandle(f,(()=>_.current),[]);const k=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(u,s),[T,I]=i.useState(k),[x,C]=i.useState(zO(r));i.useEffect((()=>{_.current&&_.current.forceUpdate()})),i.useEffect((()=>{r&&C(zO(r))}),[r]),lx((()=>{if(!x||!c)return;let e=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;I(t.placement)}}];null!=l&&(e=e.concat(l)),h&&null!=h.modifiers&&(e=e.concat(h.modifiers));const t=LO(x,b.current,d(d({placement:k},h),{},{modifiers:e}));return E.current(t),()=>{t.destroy(),E.current(null)}}),[x,a,l,c,h,k]);const A={placement:T};null!==g&&(A.TransitionProps=g);const R=(e=>{const{classes:t}=e;return q_({root:["root"]},UO,t)})(e),P=null!==(n=m.root)&&void 0!==n?n:"div",N=jO({elementType:P,externalSlotProps:p.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:R.root});return(0,D_.jsx)(P,d(d({},N),{},{children:"function"===typeof o?o(A):o}))})),GO=i.forwardRef((function(e,t){const{anchorEl:n,children:r,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:h="bottom",popperOptions:f=HO,popperRef:p,style:m,transition:g=!1,slotProps:v={},slots:y={}}=e,b=V_(e,BO),[w,_]=i.useState(!0);if(!l&&!u&&(!g||w))return null;let S;if(o)S=o;else if(n){const e=zO(n);S=e&&qO(e)?uC(e).body:uC(null).body}const E=u||!l||g&&!w?void 0:"none",k=g?{in:u,onEnter:()=>{_(!1)},onExited:()=>{_(!0)}}:void 0;return(0,D_.jsx)(mC,{disablePortal:a,container:S,children:(0,D_.jsx)(WO,d(d({anchorEl:n,direction:s,disablePortal:a,modifiers:c,ref:t,open:g?!w:u,placement:h,popperOptions:f,popperRef:p,slotProps:v,slots:y},b),{},{style:d({position:"fixed",top:0,left:0,display:E},m),TransitionProps:k,children:r}))})})),KO=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],QO=kI(GO,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),YO=i.forwardRef((function(e,t){var n;const r=pN(),i=RI({props:e,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:h,modifiers:f,open:p,placement:m,popperOptions:g,popperRef:v,transition:y,slots:b,slotProps:w}=i,_=V_(i,KO),S=null!==(n=null===b||void 0===b?void 0:b.root)&&void 0!==n?n:null===a||void 0===a?void 0:a.Root,E=d({anchorEl:o,container:c,disablePortal:u,keepMounted:h,modifiers:f,open:p,placement:m,popperOptions:g,popperRef:v,transition:y},_);return(0,D_.jsx)(QO,d(d({as:s,direction:r?"rtl":"ltr",slots:{root:S},slotProps:null!==w&&void 0!==w?w:l},E),{},{ref:t}))})),$O=YO;let JO=0;const XO=d({},o).useId;const ZO=function(e){if(void 0!==XO){const t=XO();return null!==e&&void 0!==e?e:t}return function(e){const[t,n]=i.useState(e),r=e||t;return i.useEffect((()=>{null==t&&(JO+=1,n("mui-".concat(JO)))}),[t]),r}(e)};const eD=function(e){let{controlled:t,default:n,name:r,state:o="value"}=e;const{current:s}=i.useRef(void 0!==t),[a,l]=i.useState(n);return[s?t:a,i.useCallback((e=>{s||l(e)}),[])]};function tD(e){return DI("MuiTooltip",e)}const nD=MI("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),rD=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const iD=kI($O,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(II((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInteractive},style:{pointerEvents:"auto"}},{props:e=>{let{open:t}=e;return!t},style:{pointerEvents:"none"}},{props:e=>{let{ownerState:t}=e;return t.arrow},style:{['&[data-popper-placement*="bottom"] .'.concat(nD.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(nD.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(nD.arrow)]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},['&[data-popper-placement*="left"] .'.concat(nD.arrow)]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{['&[data-popper-placement*="right"] .'.concat(nD.arrow)]:{left:0,marginLeft:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{['&[data-popper-placement*="right"] .'.concat(nD.arrow)]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{['&[data-popper-placement*="left"] .'.concat(nD.arrow)]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{['&[data-popper-placement*="left"] .'.concat(nD.arrow)]:{left:0,marginLeft:"-0.71em"}}}]}}))),oD=kI("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat(G_(n.placement.split("-")[0]))]]}})(II((e=>{let{theme:t}=e;return{backgroundColor:t.vars?t.vars.palette.Tooltip.bg:lT(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[".".concat(nD.popper,'[data-popper-placement*="left"] &')]:{transformOrigin:"right center"},[".".concat(nD.popper,'[data-popper-placement*="right"] &')]:{transformOrigin:"left center"},[".".concat(nD.popper,'[data-popper-placement*="top"] &')]:{transformOrigin:"center bottom",marginBottom:"14px"},[".".concat(nD.popper,'[data-popper-placement*="bottom"] &')]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:e=>{let{ownerState:t}=e;return t.arrow},style:{position:"relative",margin:0}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat((n=16/14,Math.round(1e5*n)/1e5),"em"),fontWeight:t.typography.fontWeightRegular}},{props:e=>{let{ownerState:t}=e;return!t.isRtl},style:{[".".concat(nD.popper,'[data-popper-placement*="left"] &')]:{marginRight:"14px"},[".".concat(nD.popper,'[data-popper-placement*="right"] &')]:{marginLeft:"14px"}}},{props:e=>{let{ownerState:t}=e;return!t.isRtl&&t.touch},style:{[".".concat(nD.popper,'[data-popper-placement*="left"] &')]:{marginRight:"24px"},[".".concat(nD.popper,'[data-popper-placement*="right"] &')]:{marginLeft:"24px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl},style:{[".".concat(nD.popper,'[data-popper-placement*="left"] &')]:{marginLeft:"14px"},[".".concat(nD.popper,'[data-popper-placement*="right"] &')]:{marginRight:"14px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl&&t.touch},style:{[".".concat(nD.popper,'[data-popper-placement*="left"] &')]:{marginLeft:"24px"},[".".concat(nD.popper,'[data-popper-placement*="right"] &')]:{marginRight:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[".".concat(nD.popper,'[data-popper-placement*="top"] &')]:{marginBottom:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[".".concat(nD.popper,'[data-popper-placement*="bottom"] &')]:{marginTop:"24px"}}}]};var n}))),sD=kI("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(II((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:lT(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}})));let aD=!1;const lD=new Tx;let cD={x:0,y:0};function uD(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t&&t(n,...i),e(n,...i)}}const dD=i.forwardRef((function(e,t){var n,r,o;const s=RI({props:e,name:"MuiTooltip"}),{arrow:a=!1,children:l,classes:c,components:u={},componentsProps:h={},describeChild:f=!1,disableFocusListener:p=!1,disableHoverListener:m=!1,disableInteractive:g=!1,disableTouchListener:v=!1,enterDelay:y=100,enterNextDelay:b=0,enterTouchDelay:w=700,followCursor:_=!1,id:S,leaveDelay:E=0,leaveTouchDelay:k=1500,onClose:T,onOpen:I,open:x,placement:C="bottom",PopperComponent:A,PopperProps:R={},slotProps:P={},slots:N={},title:O,TransitionComponent:D,TransitionProps:M}=s,L=V_(s,rD),F=i.isValidElement(l)?l:(0,D_.jsx)("span",{children:l}),j=MC(),U=pN(),[V,B]=i.useState(),[z,q]=i.useState(null),H=i.useRef(!1),W=g||_,G=Ix(),K=Ix(),Q=Ix(),Y=Ix(),[$,J]=eD({controlled:x,default:!1,name:"Tooltip",state:"open"});let X=$;const Z=ZO(S),ee=i.useRef(),te=ux((()=>{void 0!==ee.current&&(document.body.style.WebkitUserSelect=ee.current,ee.current=void 0),Y.clear()}));i.useEffect((()=>te),[te]);const ne=e=>{lD.clear(),aD=!0,J(!0),I&&!X&&I(e)},re=ux((e=>{lD.start(800+E,(()=>{aD=!1})),J(!1),T&&X&&T(e),G.start(j.transitions.duration.shortest,(()=>{H.current=!1}))})),ie=e=>{H.current&&"touchstart"!==e.type||(V&&V.removeAttribute("title"),K.clear(),Q.clear(),y||aD&&b?K.start(aD?b:y,(()=>{ne(e)})):ne(e))},oe=e=>{K.clear(),Q.start(E,(()=>{re(e)}))},[,se]=i.useState(!1),ae=e=>{ix(e.target)||(se(!1),oe(e))},le=e=>{V||B(e.currentTarget),ix(e.target)&&(se(!0),ie(e))},ce=e=>{H.current=!0;const t=F.props;t.onTouchStart&&t.onTouchStart(e)},ue=e=>{ce(e),Q.clear(),G.clear(),te(),ee.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Y.start(w,(()=>{document.body.style.WebkitUserSelect=ee.current,ie(e)}))},de=e=>{F.props.onTouchEnd&&F.props.onTouchEnd(e),te(),Q.start(k,(()=>{re(e)}))};i.useEffect((()=>{if(X)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"===e.key&&re(e)}}),[re,X]);const he=ax(cC(F),B,t);O||0===O||(X=!1);const fe=i.useRef(),pe={},me="string"===typeof O;f?(pe.title=X||!me||m?null:O,pe["aria-describedby"]=X?Z:null):(pe["aria-label"]=me?O:null,pe["aria-labelledby"]=X&&!me?Z:null);const ge=d(d(d(d({},pe),L),F.props),{},{className:z_(L.className,F.props.className),onTouchStart:ce,ref:he},_?{onMouseMove:e=>{const t=F.props;t.onMouseMove&&t.onMouseMove(e),cD={x:e.clientX,y:e.clientY},fe.current&&fe.current.update()}}:{});const ve={};v||(ge.onTouchStart=ue,ge.onTouchEnd=de),m||(ge.onMouseOver=uD(ie,ge.onMouseOver),ge.onMouseLeave=uD(oe,ge.onMouseLeave),W||(ve.onMouseOver=ie,ve.onMouseLeave=oe)),p||(ge.onFocus=uD(le,ge.onFocus),ge.onBlur=uD(ae,ge.onBlur),W||(ve.onFocus=le,ve.onBlur=ae));const ye=d(d({},s),{},{isRtl:U,arrow:a,disableInteractive:W,placement:C,PopperComponentProp:A,touch:H.current}),be="function"===typeof P.popper?P.popper(ye):P.popper,we=i.useMemo((()=>{var e,t;let n=[{name:"arrow",enabled:Boolean(z),options:{element:z,padding:4}}];return null!==(e=R.popperOptions)&&void 0!==e&&e.modifiers&&(n=n.concat(R.popperOptions.modifiers)),null!==be&&void 0!==be&&null!==(t=be.popperOptions)&&void 0!==t&&t.modifiers&&(n=n.concat(be.popperOptions.modifiers)),d(d(d({},R.popperOptions),null===be||void 0===be?void 0:be.popperOptions),{},{modifiers:n})}),[z,R.popperOptions,null===be||void 0===be?void 0:be.popperOptions]),_e=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e;return q_({popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch","tooltipPlacement".concat(G_(o.split("-")[0]))],arrow:["arrow"]},tD,t)})(ye),Se="function"===typeof P.transition?P.transition(ye):P.transition,Ee={slots:d({popper:u.Popper,transition:null!==(n=u.Transition)&&void 0!==n?n:D,tooltip:u.Tooltip,arrow:u.Arrow},N),slotProps:{arrow:null!==(r=P.arrow)&&void 0!==r?r:h.arrow,popper:d(d({},R),null!==be&&void 0!==be?be:h.popper),tooltip:null!==(o=P.tooltip)&&void 0!==o?o:h.tooltip,transition:d(d({},M),null!==Se&&void 0!==Se?Se:h.transition)}},[ke,Te]=TC("popper",{elementType:iD,externalForwardedProps:Ee,ownerState:ye,className:z_(_e.popper,null===R||void 0===R?void 0:R.className)}),[Ie,xe]=TC("transition",{elementType:wN,externalForwardedProps:Ee,ownerState:ye}),[Ce,Ae]=TC("tooltip",{elementType:oD,className:_e.tooltip,externalForwardedProps:Ee,ownerState:ye}),[Re,Pe]=TC("arrow",{elementType:sD,className:_e.arrow,externalForwardedProps:Ee,ownerState:ye,ref:q});return(0,D_.jsxs)(i.Fragment,{children:[i.cloneElement(F,ge),(0,D_.jsx)(ke,d(d(d({as:null!==A&&void 0!==A?A:$O,placement:C,anchorEl:_?{getBoundingClientRect:()=>({top:cD.y,left:cD.x,right:cD.x,bottom:cD.y,width:0,height:0})}:V,popperRef:fe,open:!!V&&X,id:Z,transition:!0},ve),Te),{},{popperOptions:we,children:e=>{let{TransitionProps:t}=e;return(0,D_.jsx)(Ie,d(d(d({timeout:j.transitions.duration.shorter},t),xe),{},{children:(0,D_.jsxs)(Ce,d(d({},Ae),{},{children:[O,a?(0,D_.jsx)(Re,d({},Pe)):null]}))}))}}))]})})),hD=dD,fD=uC,pD=$C,mD=lx,gD=YC,vD=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function yD(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function bD(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function wD(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join("")))}function _D(e,t,n,r,i,o){let s=!1,a=i(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&wD(a,o)&&!t)return a.focus(),!0;a=i(e,a,n)}return!1}const SD=i.forwardRef((function(e,t){const{actions:n,autoFocus:r=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:h="selectedMenu"}=e,f=V_(e,vD),p=i.useRef(null),m=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});mD((()=>{r&&p.current.focus()}),[r]),i.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&r){const t="".concat(pD(gD(e)),"px");p.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,p.current.style.width="calc(100% + ".concat(t,")")}return p.current}})),[]);const g=ax(p,t);let v=-1;i.Children.forEach(s,((e,t)=>{i.isValidElement(e)?(e.props.disabled||("selectedMenu"===h&&e.props.selected||-1===v)&&(v=t),v===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(v+=1,v>=s.length&&(v=-1))):v===t&&(v+=1,v>=s.length&&(v=-1))}));const y=i.Children.map(s,((e,t)=>{if(t===v){const t={};return o&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===h&&(t.tabIndex=0),i.cloneElement(e,t)}return e}));return(0,D_.jsx)(XA,d(d({role:"menu",ref:g,className:a,onKeyDown:e=>{const t=p.current,n=e.key;if(e.ctrlKey||e.metaKey||e.altKey)return void(u&&u(e));const r=fD(t).activeElement;if("ArrowDown"===n)e.preventDefault(),_D(t,r,c,l,yD);else if("ArrowUp"===n)e.preventDefault(),_D(t,r,c,l,bD);else if("Home"===n)e.preventDefault(),_D(t,null,c,l,yD);else if("End"===n)e.preventDefault(),_D(t,null,c,l,bD);else if(1===n.length){const i=m.current,o=n.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(o);const a=r&&!i.repeating&&wD(r,i);i.previousKeyMatched&&(a||_D(t,r,!1,l,yD,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:r?0:-1},f),{},{children:y}))})),ED=SD;const kD=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r};function TD(e){return DI("MuiPopover",e)}MI("MuiPopover",["root","paper"]);const ID=["onEntering"],xD=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],CD=["slotProps"];function AD(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function RD(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function PD(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?"".concat(e,"px"):e)).join(" ")}function ND(e){return"function"===typeof e?e():e}const OD=kI(uA,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),DD=kI(PA,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),MD=i.forwardRef((function(e,t){var n;const r=RI({props:e,name:"MuiPopover"}),{action:o,anchorEl:s,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:u,className:h,container:f,elevation:p=8,marginThreshold:m=16,open:g,PaperProps:v={},slots:y={},slotProps:b={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:_=wN,transitionDuration:S="auto",TransitionProps:{onEntering:E}={},disableScrollLock:k=!1}=r,T=V_(r.TransitionProps,ID),I=V_(r,xD),x=null!==(n=null===b||void 0===b?void 0:b.paper)&&void 0!==n?n:v,C=i.useRef(),A=d(d({},r),{},{anchorOrigin:a,anchorReference:c,elevation:p,marginThreshold:m,externalPaperSlotProps:x,transformOrigin:w,TransitionComponent:_,transitionDuration:S,TransitionProps:T}),R=(e=>{const{classes:t}=e;return q_({root:["root"],paper:["paper"]},TD,t)})(A),P=i.useCallback((()=>{if("anchorPosition"===c)return l;const e=ND(s),t=(e&&1===e.nodeType?e:fD(C.current).body).getBoundingClientRect();return{top:t.top+AD(t,a.vertical),left:t.left+RD(t,a.horizontal)}}),[s,a.horizontal,a.vertical,l,c]),N=i.useCallback((e=>({vertical:AD(e,w.vertical),horizontal:RD(e,w.horizontal)})),[w.horizontal,w.vertical]),O=i.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=N(t);if("none"===c)return{top:null,left:null,transformOrigin:PD(n)};const r=P();let i=r.top-n.vertical,o=r.left-n.horizontal;const a=i+t.height,l=o+t.width,u=gD(ND(s)),d=u.innerHeight-m,h=u.innerWidth-m;if(null!==m&&i<m){const e=i-m;i-=e,n.vertical+=e}else if(null!==m&&a>d){const e=a-d;i-=e,n.vertical+=e}if(null!==m&&o<m){const e=o-m;o-=e,n.horizontal+=e}else if(l>h){const e=l-h;o-=e,n.horizontal+=e}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:PD(n)}}),[s,c,P,N,m]),[D,M]=i.useState(g),L=i.useCallback((()=>{const e=C.current;if(!e)return;const t=O(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,M(!0)}),[O]);i.useEffect((()=>(k&&window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L))),[s,k,L]);i.useEffect((()=>{g&&L()})),i.useImperativeHandle(o,(()=>g?{updatePosition:()=>{L()}}:null),[g,L]),i.useEffect((()=>{if(!g)return;const e=kD((()=>{L()})),t=gD(s);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[s,g,L]);let F=S;"auto"!==S||_.muiSupportAuto||(F=void 0);const j=f||(s?fD(ND(s)).body:void 0),U={slots:y,slotProps:d(d({},b),{},{paper:x})},[V,B]=TC("paper",{elementType:DD,externalForwardedProps:U,additionalProps:{elevation:p,className:z_(R.paper,null===x||void 0===x?void 0:x.className),style:D?x.style:d(d({},x.style),{},{opacity:0})},ownerState:A}),[z,q]=TC("root",{elementType:OD,externalForwardedProps:U,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:j,open:g},ownerState:A,className:z_(R.root,h)}),{slotProps:H}=q,W=V_(q,CD),G=ax(C,B.ref);return(0,D_.jsx)(z,d(d(d(d({},W),!ZA(z)&&{slotProps:H,disableScrollLock:k}),I),{},{ref:t,children:(0,D_.jsx)(_,d(d({appear:!0,in:g,onEntering:(e,t)=>{E&&E(e,t),L()},onExited:()=>{M(!1)},timeout:F},T),{},{children:(0,D_.jsx)(V,d(d({},B),{},{ref:G,children:u}))}))}))})),LD=MD;function FD(e){return DI("MuiMenu",e)}MI("MuiMenu",["root","paper","list"]);const jD=["onEntering"],UD=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],VD={vertical:"top",horizontal:"right"},BD={vertical:"top",horizontal:"left"},zD=kI(LD,{shouldForwardProp:e=>SI(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),qD=kI(DD,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),HD=kI(ED,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),WD=i.forwardRef((function(e,t){var n,r;const o=RI({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:h,open:f,PaperProps:p={},PopoverClasses:m,transitionDuration:g="auto",TransitionProps:{onEntering:v}={},variant:y="selectedMenu",slots:b={},slotProps:w={}}=o,_=V_(o.TransitionProps,jD),S=V_(o,UD),E=pN(),k=d(d({},o),{},{autoFocus:s,disableAutoFocusItem:c,MenuListProps:u,onEntering:v,PaperProps:p,transitionDuration:g,TransitionProps:_,variant:y}),T=(e=>{const{classes:t}=e;return q_({root:["root"],paper:["paper"],list:["list"]},FD,t)})(k),I=s&&!c&&f,x=i.useRef(null);let C=-1;i.Children.map(a,((e,t)=>{i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===y&&e.props.selected||-1===C)&&(C=t))}));const A=null!==(n=b.paper)&&void 0!==n?n:qD,R=null!==(r=w.paper)&&void 0!==r?r:p,P=jO({elementType:b.root,externalSlotProps:w.root,ownerState:k,className:[T.root,l]}),N=jO({elementType:A,externalSlotProps:R,ownerState:k,className:T.paper});return(0,D_.jsx)(zD,d(d({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?VD:BD,slots:{paper:A,root:b.root},slotProps:{root:P,paper:N},open:f,ref:t,transitionDuration:g,TransitionProps:d({onEntering:(e,t)=>{x.current&&x.current.adjustStyleForScrollbar(e,{direction:E?"rtl":"ltr"}),v&&v(e,t)}},_),ownerState:k},S),{},{classes:m,children:(0,D_.jsx)(HD,d(d({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),h&&h(e,"tabKeyDown"))},actions:x,autoFocus:s&&(-1===C||c),autoFocusItem:I,variant:y},u),{},{className:z_(T.list,u.className),children:a}))}))})),GD=WD;const KD=MI("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const QD=MI("MuiListItemIcon",["root","alignItemsFlexStart"]);function YD(e){return DI("MuiMenuItem",e)}const $D=MI("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),JD=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],XD=kI($x,{shouldForwardProp:e=>SI(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(II((e=>{let{theme:t}=e;return d(d({},t.typography.body1),{},{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat($D.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):lT(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat($D.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):lT(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat($D.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):lT(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):lT(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat($D.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat($D.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(KD.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(KD.inset)]:{marginLeft:52},["& .".concat(mR.root)]:{marginTop:0,marginBottom:0},["& .".concat(mR.inset)]:{paddingLeft:36},["& .".concat(QD.root)]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:d(d({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2),{},{["& .".concat(QD.root," svg")]:{fontSize:"1.25rem"}})}]})}))),ZD=i.forwardRef((function(e,t){const n=RI({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:h,className:f}=n,p=V_(n,JD),m=i.useContext(KA),g=i.useMemo((()=>({dense:s||m.dense||!1,disableGutters:l})),[m.dense,s,l]),v=i.useRef(null);mD((()=>{r&&v.current&&v.current.focus()}),[r]);const y=d(d({},n),{},{dense:g.dense,divider:a,disableGutters:l}),b=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,a=q_({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},YD,s);return d(d({},s),a)})(n),w=ax(v,t);let _;return n.disabled||(_=void 0!==h?h:-1),(0,D_.jsx)(KA.Provider,{value:g,children:(0,D_.jsx)(XD,d(d({ref:w,role:u,tabIndex:_,component:o,focusVisibleClassName:z_(b.focusVisible,c),className:z_(b.root,f)},p),{},{ownerState:y,classes:b}))})})),eM=ZD,tM=BI((0,D_.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),nM=BI((0,D_.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),rM=BI((0,D_.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),iM=BI((0,D_.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),oM=BI((0,D_.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),sM=BI((0,D_.jsx)("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List"),aM=BI((0,D_.jsx)("path",{fillRule:"evenodd",d:"M3 3v8h8V3zm6 6H5V5h4zm-6 4v8h8v-8zm6 6H5v-4h4zm4-16v8h8V3zm6 6h-4V5h4zm-6 4v8h8v-8zm6 6h-4v-4h4z"}),"GridView"),lM=BI((0,D_.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),cM=()=>{const{files:e,searchQuery:t,currentView:n,starredFiles:r,toggleStarred:o,moveToTrash:s,restoreFromTrash:a,permanentlyDelete:l}=F_(),[c,u]=(0,i.useState)("list"),[d,h]=(0,i.useState)({anchorEl:null,selectedFile:null}),f=(e,t)=>{e.stopPropagation(),h({anchorEl:e.currentTarget,selectedFile:t})},p=()=>{h({anchorEl:null,selectedFile:null})},m=e=>{const{selectedFile:t}=d;if(t){switch(e){case"download":const e=document.createElement("a");e.href=t.data.data,e.download=t.data.name,document.body.appendChild(e),e.click(),document.body.removeChild(e);break;case"trash":s(t);break;case"restore":a(t.id);break;case"delete":l(t.id)}p()}},g=e=>e.startsWith("image/")?(0,D_.jsx)(tM,{}):e.includes("pdf")?(0,D_.jsx)(nM,{}):(0,D_.jsx)(rM,{}),v=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},y=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",b=()=>(0,D_.jsx)(iP,{component:PA,children:(0,D_.jsxs)(dP,{children:[(0,D_.jsx)(bP,{children:(0,D_.jsxs)(IP,{children:[(0,D_.jsx)(NP,{children:"Name"}),(0,D_.jsx)(NP,{children:"Type"}),(0,D_.jsx)(NP,{children:"Size"}),(0,D_.jsx)(NP,{children:"Modified"}),(0,D_.jsx)(NP,{align:"right",children:"Actions"})]})}),(0,D_.jsx)(UP,{children:e.map((e=>(0,D_.jsxs)(IP,{hover:!0,children:[(0,D_.jsx)(NP,{children:(0,D_.jsxs)(rx,{display:"flex",alignItems:"center",gap:1,children:[g(e.data.type),e.data.name,(0,D_.jsx)(IA,{size:"small",onClick:()=>o(e.id),children:r.has(e.id)?(0,D_.jsx)(iM,{color:"warning"}):(0,D_.jsx)(JR,{})})]})}),(0,D_.jsx)(NP,{children:e.data.type}),(0,D_.jsx)(NP,{children:v(e.data.size)}),(0,D_.jsx)(NP,{children:y(e.data.uploadDate)}),(0,D_.jsx)(NP,{align:"right",children:(0,D_.jsx)(IA,{onClick:t=>f(t,e),"aria-label":"more options",children:(0,D_.jsx)(oM,{})})})]},e.id)))})]})}),w=()=>(0,D_.jsx)($P,{container:!0,spacing:2,children:e.map((e=>(0,D_.jsx)($P,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,D_.jsx)(tN,{variant:"outlined",children:(0,D_.jsxs)(sN,{children:[(0,D_.jsxs)(rx,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",children:[(0,D_.jsxs)(rx,{display:"flex",alignItems:"center",gap:1,children:[g(e.data.type),(0,D_.jsx)(wA,{variant:"subtitle1",noWrap:!0,sx:{maxWidth:150},children:e.data.name}),(0,D_.jsx)(IA,{size:"small",onClick:()=>o(e.id),children:r.has(e.id)?(0,D_.jsx)(iM,{color:"warning"}):(0,D_.jsx)(JR,{})})]}),(0,D_.jsx)(IA,{size:"small",onClick:t=>f(t,e),"aria-label":"more options",children:(0,D_.jsx)(oM,{})})]}),(0,D_.jsx)(wA,{variant:"body2",color:"textSecondary",children:v(e.data.size)}),(0,D_.jsxs)(wA,{variant:"caption",color:"textSecondary",children:["Modified: ",y(e.data.uploadDate)]})]})})},e.id)))});return(0,D_.jsxs)(rx,{p:3,children:[(0,D_.jsxs)(rx,{display:"flex",justifyContent:"space-between",mb:3,children:[(0,D_.jsxs)(wA,{variant:"h5",children:["myDrive"===n&&"My Drive","starred"===n&&"Starred","recent"===n&&"Recent","bin"===n&&"Bin",t&&' - Search results for "'.concat(t,'"')]}),(0,D_.jsxs)(hN,{variant:"outlined",children:[(0,D_.jsx)(hD,{title:"List view",children:(0,D_.jsx)(lC,{onClick:()=>u("list"),variant:"list"===c?"contained":"outlined",children:(0,D_.jsx)(sM,{})})}),(0,D_.jsx)(hD,{title:"Grid view",children:(0,D_.jsx)(lC,{onClick:()=>u("grid"),variant:"grid"===c?"contained":"outlined",children:(0,D_.jsx)(aM,{})})})]})]}),0===e.length&&(0,D_.jsx)(wA,{variant:"body1",color:"textSecondary",align:"center",py:4,children:t?'No files found matching "'.concat(t,'"'):"starred"===n?"No starred files":"bin"===n?"Bin is empty":"No files"}),e.length>0&&("list"===c?(0,D_.jsx)(b,{}):(0,D_.jsx)(w,{})),(0,D_.jsxs)(GD,{anchorEl:d.anchorEl,open:Boolean(d.anchorEl),onClose:p,children:[(0,D_.jsxs)(eM,{onClick:()=>m("download"),children:[(0,D_.jsx)(lM,{sx:{mr:1}})," Download"]}),"bin"===n?(0,D_.jsxs)(D_.Fragment,{children:[(0,D_.jsxs)(eM,{onClick:()=>m("restore"),children:[(0,D_.jsx)(rM,{sx:{mr:1}})," Restore"]}),(0,D_.jsxs)(eM,{onClick:()=>m("delete"),children:[(0,D_.jsx)(UR,{sx:{mr:1}})," Delete Forever"]})]}):(0,D_.jsxs)(eM,{onClick:()=>m("trash"),children:[(0,D_.jsx)(UR,{sx:{mr:1}})," Move to Bin"]})]})]})};const uM=function(){const[e,t]=(0,i.useState)({displayName:"Sophia is so cool",email:"idkwhattoputhere@gmail.com",emailVerified:!0,phoneNumber:null,photoURL:"https://lh6.googleusercontent.com/-KyLTWqvDIHQ/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuclcWGWqkt6YUAan32YO4CSR07Y2jw/s96-c/photo.jpg"});return(0,D_.jsx)(L_,{children:(0,D_.jsxs)("div",{className:"App",children:[(0,D_.jsx)(KI,{userPhoto:e.photoURL}),(0,D_.jsx)(ZR,{}),(0,D_.jsx)("main",{className:"app__main",children:(0,D_.jsx)(cM,{})})]})})},dM=document.getElementById("root");(0,s.render)((0,D_.jsx)(uM,{}),dM)})();
//# sourceMappingURL=main.b0cccac5.js.map